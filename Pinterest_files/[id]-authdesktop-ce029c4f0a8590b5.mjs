(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[85049,7933],{989881:(e,t,n)=>{var i=n(247816),r=n(899291)(i);e.exports=r},247816:(e,t,n)=>{var i=n(228483),r=n(3674);e.exports=function(e,t){return e&&i(e,t,r)}},269199:(e,t,n)=>{var i=n(989881),r=n(498612);e.exports=function(e,t){var n=-1,o=r(e)?Array(e.length):[];return i(e,(function(e,i,r){o[++n]=t(e,i,r)})),o}},882689:(e,t,n)=>{var i=n(829932),r=n(297786),o=n(267206),s=n(269199),l=n(571131),a=n(307518),c=n(285022),d=n(406557),u=n(701469);e.exports=function(e,t,n){t=t.length?i(t,(function(e){return u(e)?function(t){return r(t,1===e.length?e[0]:e)}:e})):[d];var h=-1;t=i(t,a(o));var m=s(e,(function(e,n,r){return{criteria:i(t,(function(t){return t(e)})),index:++h,value:e}}));return l(m,(function(e,t){return c(e,t,n)}))}},571131:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},626393:(e,t,n)=>{var i=n(733448);e.exports=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,o=e==e,s=i(e),l=void 0!==t,a=null===t,c=t==t,d=i(t);if(!a&&!d&&!s&&e>t||s&&l&&c&&!a&&!d||r&&l&&c||!n&&c||!o)return 1;if(!r&&!s&&!d&&e<t||d&&n&&o&&!r&&!s||a&&n&&o||!l&&o||!c)return-1}return 0}},285022:(e,t,n)=>{var i=n(626393);e.exports=function(e,t,n){for(var r=-1,o=e.criteria,s=t.criteria,l=o.length,a=n.length;++r<l;){var c=i(o[r],s[r]);if(c)return r>=a?c:c*("desc"==n[r]?-1:1)}return e.index-t.index}},899291:(e,t,n)=>{var i=n(498612);e.exports=function(e,t){return function(n,r){if(null==n)return n;if(!i(n))return e(n,r);for(var o=n.length,s=t?o:-1,l=Object(n);(t?s--:++s<o)&&!1!==r(l[s],s,l););return n}}},189734:(e,t,n)=>{var i=n(121078),r=n(882689),o=n(105976),s=n(816612),l=o((function(e,t){if(null==e)return[];var n=t.length;return n>1&&s(e,t[0],t[1])?t=[]:n>2&&s(t[0],t[1],t[2])&&(t=[t[0]]),r(e,i(t,1),[])}));e.exports=l},442279:(e,t)=>{function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){return e===t}function r(e){var t=arguments.length<=1||void 0===arguments[1]?i:arguments[1],n=null,r=null;return function(){for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return null!==n&&n.length===o.length&&o.every((function(e,i){return t(e,n[i])}))||(r=e.apply(void 0,o)),n=o,r}}function o(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}function s(e){for(var t=arguments.length,i=Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),s=0;s<t;s++)r[s]=arguments[s];var l=0,a=r.pop(),c=o(r),d=e.apply(void 0,[function(){return l++,a.apply(void 0,arguments)}].concat(i)),u=function(e,t){for(var i=arguments.length,r=Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];var s=c.map((function(n){return n.apply(void 0,[e,t].concat(r))}));return d.apply(void 0,n(s))};return u.resultFunc=a,u.recomputations=function(){return l},u.resetRecomputations=function(){return l=0},u}}t.zB=function(e){var t=arguments.length<=1||void 0===arguments[1]?l:arguments[1];if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.reduce((function(e,t,i){return e[n[i]]=t,e}),{})}))};var l=t.P1=s(r)},697050:(e,t,n)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/news_hub/[id]"]=function(){return n(683931).Z}},427910:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(568594),r=n(710159),o=n(123686),s=n(883119),l=n(785893);function a({pinCount:e,placesCount:t,sectionCount:n}){const a=(0,r.ZP)(),c=!!t&&0!==e||!t;return(0,l.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[t?(0,l.jsx)(s.xu,{display:"none",smDisplay:"flex",overflow:"hidden",children:(0,l.jsx)(s.xv,{size:"md",inline:!0,lineClamp:1,children:(0,o.nk)(a.ngettext("{{ count }} place","{{ count }} places",t,"label for n amount of places","label for n amount of places"),{count:(0,l.jsx)(i.Z,{value:t},"places-count")})})}):null,n?(0,l.jsx)(s.xu,{display:"none",smDisplay:"flex",overflow:"hidden",children:(0,l.jsx)(s.xv,{size:"md",inline:!0,lineClamp:1,children:(0,o.nk)(a.ngettext("{{ count }} section","{{ count }} sections",n,"label for n amount of sections","label for n amount of sections"),{count:(0,l.jsx)(i.Z,{value:n},"section_count")})})}):null,c&&(0,l.jsx)(s.xu,{overflow:"hidden",children:(0,l.jsx)(s.xv,{size:"md",lineClamp:1,children:(0,o.nk)(a.ngettext("{{ count }} Pin","{{ count }} Pins",e,"label for n amount of pins","label for n amount of pins"),{count:(0,l.jsx)(i.Z,{value:e},"pin_count")})})})]})}},152247:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(711530),r=n(455671),o=n(785893);const s=[500329,503259,500410,500688],l=({placementId:e})=>{const t=(0,r.Z)();return(0,o.jsx)(i.Z,{placementId:e,eligibleIds:s,children:({complete:e,dismiss:n})=>(t(e,n),null)})}},226882:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(667294),r=n(711530),o=n(647136),s=n(539195),l=n(785893);const a=e=>{const{logContextEvent:t}=(0,s.v)();return(0,l.jsx)(r.Z,{eligibleIds:e.eligibleIds,placementId:e.placementId,eligibleTypes:[10],children:({complete:n,dismiss:i,experience:{display_data:r}})=>{const s=r.link||e.linkUrl;return(0,l.jsx)(o.ZP,{duration:r.duration,href:s,text:r.text||"",onClick:()=>{n(),e.onClick&&e.onClick(),e.shouldLogClicks&&e.shouldLogClicks&&t({event_type:101,object_id_str:e.objectId,component:e.thriftComponentType,element:e.thriftElementType})},onHide:()=>{e.onHide(),e.completionOnDismissal?n():i()}})}})};var c=n(358142);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u=2e3;class h extends i.Component{constructor(...e){super(...e),d(this,"componentDidMount",(()=>{const{delay:e=u}=this.props;this.experienceToastsTimeout=window.setTimeout((()=>this.triggerEducationToasts()),e)}))}componentWillUnmount(){window.clearTimeout(this.experienceToastsTimeout)}triggerEducationToasts(){const{toastManagerContext:e,completionOnDismissal:t,placementId:n,experienceIds:i}=this.props;e.showOneToast((({onHide:e})=>(0,l.jsx)(a,{experienceIds:i,completionOnDismissal:t,onHide:e,placementId:n,shouldLogClicks:!1})))}render(){return null}}d(h,"defaultProps",{completionOnDismissal:!1});const m=(0,c.Cl)(h)},683931:(e,t,n)=>{n.d(t,{Z:()=>q});var i=n(667294),r=n(152247),o=n(226882),s=n(593268),l=n(260140),a=n(349812),c=n(553397),d=n(489972),u=n(883119),h=n(785893);function m(e){const{header:t,subheader:n,textMapping:i}=e;return(0,h.jsx)(u.W2,{children:(0,h.jsx)(u.xu,{marginBottom:6,marginTop:6,children:(0,h.jsxs)(u.xu,{paddingX:3,children:[(0,h.jsx)(u.X6,{align:"center",children:(0,h.jsx)(d.Z,{text:t,textMapping:i,applyMarkup:!1})}),n&&(0,h.jsx)(u.xu,{display:"flex",justifyContent:"center",marginTop:6,children:(0,h.jsx)(u.xv,{children:(0,h.jsx)(d.Z,{text:n,textMapping:i,applyLink:!0})})})]})})})}var p=n(379771),g=n(51805),x=n(799100);function f(e){return e.forEach((e=>e&&e.content_items.forEach((t=>{t.content_object&&t.content_object.type===x.Ng.BOARD&&(t.content_object.credit=e.header_icon_objects[0])})))),e.reduce(((e,t)=>(e||[]).concat(t&&t.content_items||[])),[]).map((({content_object:e})=>e))}class v extends i.PureComponent{constructor(e){var t,n,i;super(e),i={items:[]},(n="state")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.state={items:f(e.newsHubDetailsResource.data||[])}}componentDidUpdate(e){const t=this.props.newsHubDetailsResource.data||[],n=e.newsHubDetailsResource.data||[];n.length!==t.length&&this.setState((e=>({items:e.items.concat(f([...t].splice(n.length)))})))}render(){const{newsHubDetailsResource:e,newsSummary:{detail_header:t,header_text:n,text_mapping:i},renderComp:r}=this.props,{items:o}=this.state;return 0===o.length?null:(0,h.jsxs)(u.xu,{children:[(0,h.jsx)(m,{header:t,subheader:n,textMapping:i}),(0,h.jsx)(u.xu,{padding:4,children:(0,h.jsx)(u.Rk,{columnWidth:g.xf,comp:r,gutterWidth:(0,g.$q)(),items:o,loadItems:e.fetchMore,minCols:g.yc,scrollContainer:()=>window})})]})}}function _(e){const t=(0,p.Z)({name:"NewsHubDetailsResource",options:{news_id:e.newsId,page_size:x.IV}});return(0,h.jsx)(v,{...e,newsHubDetailsResource:t})}const y="board",b="userdiditdata",w="pin",j="user";class I extends i.Component{renderHeaderImage(e){const{headerIconObjects:t}=this.props;if(!t||!t.length)return;const{description:n,full_name:i,id:r="",image_cover_url:o,image_large_url:s,image_square_url:l,type:a,url:c,username:d=""}=t[0];switch(a){case w:return(0,h.jsx)(u.iP,{rounding:"circle",role:"link",href:`/pin/${r}/`,children:e?(0,h.jsx)("img",{alt:n,style:{borderRadius:8},src:l}):(0,h.jsx)("img",{alt:n,src:s,width:"44",style:{height:60,borderRadius:8}})});case y:const a={backgroundImage:`url(${o})`,backgroundPosition:"center top",backgroundSize:"cover",borderRadius:8,display:"inline-block",height:48,width:48};return(0,h.jsx)(u.iP,{rounding:"circle",role:"link",href:c,children:(0,h.jsx)("span",{style:a})});case j:return(0,h.jsx)(u.iP,{rounding:"circle",role:"link",href:`/${d}/`,children:(0,h.jsx)("img",{alt:i,src:s,style:{borderRadius:"50%"}})});case b:const{details:m,images:p,pin:g}=t[0],{id:x,image_square_url:f}=g||{},v=p&&p[0]&&p[0]["550x"].url||f;return(0,h.jsx)(u.iP,{rounding:"circle",role:"link",href:`/pin/${x}/activity/tried/?featured_did_it_ids=${r}`,children:(0,h.jsx)("img",{alt:m,style:{borderRadius:8},src:v})})}}render(){const{headerText:e="",textMapping:t,alignItems:n="center"}=this.props,i=!("start"===n);return i?(0,h.jsx)(u.W2,{children:(0,h.jsxs)(u.xu,{alignItems:"center",display:"flex",marginStart:-1,marginEnd:-1,marginTop:2,paddingX:3,paddingY:2,children:[(0,h.jsx)(u.xu,{paddingX:1,children:(0,h.jsx)(u.xu,{width:48,height:48,children:this.renderHeaderImage(i)})}),(0,h.jsx)(u.xu,{paddingX:1,children:(0,h.jsx)(u.xv,{children:(0,h.jsx)(d.Z,{text:e,textMapping:t,applyLink:!0})})})]})}):(0,h.jsx)(u.W2,{children:(0,h.jsxs)(u.xu,{alignItems:"center",direction:"column",justifyContent:"center",display:"flex",marginStart:-1,marginEnd:-1,marginTop:2,paddingX:3,paddingY:2,children:[(0,h.jsx)(u.xu,{paddingX:1,children:(0,h.jsx)(u.xu,{width:44,height:60,children:this.renderHeaderImage(i)})}),(0,h.jsx)(u.xu,{paddingX:1,height:60,display:"flex",alignItems:"center",children:(0,h.jsx)(u.xv,{children:(0,h.jsx)(d.Z,{text:e,textMapping:t,applyLink:!0})})})]})})}}var C=n(773613);const E=[4,5];var T=n(450490);function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){if(e){if(e===x.Ng.DID_IT)return 670;if(e===x.Ng.INTEREST)return 236;if(e===x.Ng.BOARD)return 320}return g.xf}function k(e){return e&&e===x.Ng.DID_IT?1:g.yc}function A({newsId:e,...t}){const n=(0,p.Z)({name:"NewsHubDetailsResource",options:{news_id:e,page_size:x.IV},noCache:!0});return(0,h.jsx)(T.Z,{...t,listResource:n})}class Z extends i.PureComponent{constructor(...e){super(...e),R(this,"renderDidIt",(e=>(0,h.jsx)(u.W2,{children:(0,h.jsx)(u.xu,{display:"flex",column:12,justifyContent:"center",children:(0,h.jsx)(u.xu,{column:12,mdColumn:10,children:e.map(((e,t)=>(0,h.jsx)(C.Z,{didItDataId:e.id,viewType:107},t)))})})}))),R(this,"renderItem",((e,t)=>{const{newsSummary:{detail_header:n,text_mapping:i,sub_header_text:r},renderComp:o}=this.props;if(!e)return null;const{content_items:s,header_icon_objects:l,header_text:a,text_mapping:c,news_type:d}=e,p=s.filter((({content_object:e})=>e)).map((({content_object:e})=>e)),g=p.length>0&&p[0].type||null,f=g===x.Ng.DID_IT;return(0,h.jsxs)("li",{children:[0===t&&(0,h.jsx)(m,{header:n,subheader:r,textMapping:i}),a&&(0,h.jsx)(I,{headerIconObjects:l,headerText:a,textMapping:c,alignItems:2===d?"start":"center"}),g===x.Ng.DID_IT&&this.renderDidIt(p),!f&&(0,h.jsx)(u.xu,{padding:4,children:(0,h.jsx)(u.Rk,{columnWidth:S(g),comp:o,gutterWidth:16,items:p,minCols:k(g),scrollContainer:()=>window})})]},t)}))}render(){return(0,h.jsx)(A,{newsId:this.props.newsId,renderEmptyState:()=>null,renderItem:this.renderItem,useWindow:!0})}}var O=n(710159);const D=1016,P={__style:{willChange:"transform",boxShadow:"rgba(0, 0, 0, 0.1) 0px 1px 20px 0px",marginBottom:"52px"}},H=e=>{const t=(0,O.ZP)(),{onGoToHFClicked:n}=e,i=t._("Explore more ideas in your home feed","Text reminder for users to go to home feed when they are done viewing notification page","Text reminder for users to go to home feed when they are done viewing notification page"),r=t._("Let's go","Prompt to go to home feed","Prompt to go to home feed"),o=(0,h.jsxs)(u.kC,{alignItems:"center",direction:"column",height:198,justifyContent:"center",maxWidth:D,children:[(0,h.jsx)(u.xu,{marginBottom:4,maxWidth:490,children:(0,h.jsx)(u.X6,{size:"md",align:"center",children:i})}),(0,h.jsx)(u.xu,{children:(0,h.jsx)(u.zx,{fullWidth:!0,accessibilityLabel:r,color:"red",size:"md",text:r,onClick:n})})]}),s=(0,h.jsx)(u.Ee,{alt:"home feed upsell background image",fit:"cover",naturalHeight:198,naturalWidth:D,src:"https://s.pinimg.com/hf_pivot_background_rounded.png",children:o});return(0,h.jsx)(u.xu,{position:"relative",justifyContent:"center",display:"flex",children:(0,h.jsx)(u.xu,{dangerouslySetInlineStyle:P,height:198,width:D,overflow:"hidden",rounding:4,marginTop:2,children:s})})};var N=n(351470),M=n(7933);const L=["orange","green","purple","watermelon","pine","navy","eggplant","olive","maroon"];var B=n(759679),F=n(506911),W=n(16513),U=n(456168),z=n(539195),X=n(855168);const Y=(e,t,n,i,r,o,s,l)=>(r,d)=>{var m,p,g,f,v;if(!e)return null;const{news_type:_}=e,y=r.data,b={data:{newsId:t},type:"newsHub"};if(!y)return null;switch(o(!0),y.type){case x.Ng.PIN:return n||i(!0),(0,h.jsx)(N.default,{attributionOption:E.includes(_)?"show":"hide",feedbackOptions:b,pin:y,pinId:y.id,surface:"NewsPage",trackingParameters:{slotIndex:r.itemIdx,viewParameter:3082,viewType:107}});case x.Ng.BOARD:return void 0===y.cover_pin.image_url&&void 0!==y.image_cover_hd_url&&(y.cover_pin.image_url=y.image_cover_hd_url),(0,h.jsx)(u.iP,{role:"link",onTap:()=>{(({id:e})=>{l({event_type:101,component:3,element:36,object_id_str:e,view_type:107})})({id:y.id})},href:null!==(m=y.url)&&void 0!==m?m:"",children:(0,h.jsx)(M.Z,{board:y,canEdit:!1,coverImageUrl:null!==(p=null!==(g=y.image_cover_hd_url)&&void 0!==g?g:y.image_cover_url)&&void 0!==p?p:"",images:y.images,isOwnProfile:s.isAuth&&y.owner===s.id,isUserBlocked:!1,layout:"xWide",onEditClick:()=>{},progress:null,subtitle:null,toastImageUrl:null!==(f=null!==(v=y.image_cover_url)&&void 0!==v?v:y.image_cover_hd_url)&&void 0!==f?f:""})});case x.Ng.USER:return(0,h.jsx)(W.Z,{data:y,viewType:4,viewParameter:50,suppressToasts:!1,truncateName:!1},y.id);case x.Ng.INTEREST:{const{background_color:e,id:t,images:n,is_followed:i,name:r,url_name:o}=y;return(0,h.jsx)(F.Z,{backgroundColor:e,id:t,image:n["400x"],followedByMe:i,name:r,url:o})}case x.Ng.SEARCH:const e=y.images&&y.images.map((e=>({"236x":{height:x.kJ,url:e,width:x.AY}}))).slice(0,x.ys);let t=`/search/pins/?q=${encodeURIComponent(y.term)}&rs=${y.rs}`;return y.source_id&&(t+=`&source_id=${y.source_id}`),(0,h.jsx)(a.Z,{bubble:{action:{url:t},cover_images:e,dominant_colors:[(w=y.term,L[w.charCodeAt(0)%L.length])],id:y.id,title:{format:y.term},type:x.Ng.SEARCH},height:x.kJ,viewType:107,viewParameter:3082,slotIndex:r.itemIdx,onClick:()=>(({id:e,viewType:t,viewParameter:n})=>{l({event_type:101,component:3,object_id_str:e,view_type:t,view_parameter:n})})({id:y.id,viewType:107,viewParameter:3082,slotIndex:r.itemIdx}),contextLogData:{story_type:x.Ng.SEARCH}},y.id);case x.Ng.STORY:return y.story_type&&"BUBBLE_ONE_COL"===y.story_type?(0,h.jsx)(c.Z,{bubbles:y.objects,id:y.id,referringSource:y.referring_source,slotIndex:r.itemIdx,storyType:y.story_type,title:y.title,viewType:107,viewParameter:3082}):null;default:return null}var w};function $({newsId:e}){const{logContextEvent:t}=(0,z.v)(),n=(0,O.ZP)(),[r,o]=(0,i.useState)(!1),[s,a]=(0,i.useState)(!1),[c,d]=(0,i.useState)(!0),m=(0,i.useRef)(!1),g=(0,X.k6)(),f=(0,U.Z)(),{data:v}=(0,p.Z)({name:"NewsHubSummaryResource",options:{news_id:e}});if((0,i.useEffect)((()=>{if(v){const{news_type:n}=v;void 0===n||m.current||(t({event_type:13,object_id_str:e,view_type:107,view_parameter:3082,aux_data:{news_type:n}}),m.current=!0)}}),[t,v,e]),!v)return null;const{category:y}=v,b=Y(v,e,r,o,0,a,f,t),w=()=>{t({event_type:101,component:3,element:1197,aux_data:{user_id:f.isAuth?f.id:""}}),g.push("/homefeed")};return(0,h.jsx)(B.Z,{view:107,viewParameter:3082,objectId:e,children:(0,h.jsxs)(u.xu,{children:[E.includes(v.news_type)?(0,h.jsx)(_,{newsId:e,newsSummary:v,renderComp:b}):(0,h.jsx)(Z,{newsId:e,newsSummary:v,renderComp:b}),y===x.LL?r?(0,h.jsxs)(u.xu,{children:[(0,h.jsx)(u.xu,{padding:5,children:(0,h.jsx)(u.X6,{align:"center",size:"md",children:n._("More ideas from your home feed","MoreIdeasFromYourHomeFeed","Appending home feed Pins at the end of news hub detail page title")})}),(0,h.jsx)(l.Z,{setFeedLoading:d,feedLimit:50}),";",!c&&(0,h.jsx)(H,{onGoToHFClicked:w}),";"]}):(0,h.jsx)(H,{onGoToHFClicked:w}):(0,h.jsx)(u.xu,{})]})})}var G=n(297441);function q(){const{params:e}=(0,X.$B)(),t=(0,U.Z)(),n=t.isAuth&&t.isLimitedLogin;return(0,G.Z)(1000129,{chrome_push_subscription:(0,s.Z)()}),n?(0,h.jsx)($,{newsId:e.id||""}):(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(r.Z,{placementId:1000129}),(0,h.jsx)($,{newsId:e.id||""}),(0,h.jsx)(o.Z,{placementId:1000129})]})}},261564:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(310486),r=n(883119),o=n(785893);function s({cover:e,height:t,image:n,width:s}){var l,a,c,d;return e?(0,o.jsx)(i.Z,{customCover:e.isCustom,height:t,imgPos:e.position||{width:0,height:0,x:0,y:0},imgUrl:null!==(d=e.url)&&void 0!==d?d:"",width:s}):n?(0,o.jsx)(r.zd,{height:t,wash:!0,width:s,children:(0,o.jsx)(r.Ee,{alt:"",color:"#EFEFEF",fit:"cover",naturalHeight:null!==(l=n.height)&&void 0!==l?l:1,naturalWidth:null!==(a=n.width)&&void 0!==a?a:1,src:null!==(c=n.url)&&void 0!==c?c:""})}):(0,o.jsx)(r.xu,{color:"lightGray",height:t,width:s})}var l=n(859475),a=n(639406),c=n(710159),d=n(952733),u=n(976252),h=n(342654);function m({boardThumbs:e=[],cover:t,editButton:n,isActive:i,isSecret:m,layout:p,sensitivityScreenAuxData:g,showSensitivityScreen:x=!1}){const f=(0,c.ZP)();(0,u.Q)(x?{component:13861,view_type:215,aux_data:g}:null);const{isRTL:v}=(0,d.B)(),{height:_,width:y}=(0,h.F)(p),b=t?void 0:e[0],w=e.slice(t?0:1);return(0,o.jsxs)(r.zd,{height:_,rounding:4,wash:i,width:y,children:[(0,o.jsxs)(r.xu,{color:"white",dangerouslySetInlineStyle:{__style:x?{filter:"blur(20px)"}:{}},display:"flex",height:"100%",justifyContent:"between",width:"100%",children:[(0,o.jsx)(s,{cover:t,height:_,image:b,width:Math.floor(y/3*2)}),(0,o.jsxs)(r.kC,{alignItems:"stretch",direction:"column",flex:"none",height:"100%",justifyContent:"between",children:[(0,o.jsx)(l.Z,{height:Math.floor(_/2),image:w[0],width:Math.floor(y/3)}),(0,o.jsx)(l.Z,{height:Math.floor(_/2),image:w[1],width:Math.floor(y/3)})]})]}),m&&(0,o.jsx)(r.xu,{alignItems:"center",color:"white",display:"flex",height:32,justifyContent:"center",left:!v,marginStart:2,marginTop:2,position:"absolute",right:v,rounding:"circle",top:!0,width:32,children:(0,o.jsx)(a.Z,{})}),i&&n&&(0,o.jsx)(r.xu,{alignItems:"center",bottom:!0,color:"white",display:"flex",height:32,justifyContent:"center",left:v,marginBottom:2,marginEnd:2,position:"absolute",right:!v,rounding:"circle",width:32,children:n}),x&&(0,o.jsx)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.5)"}},display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:(0,o.jsx)(r.X6,{align:"center",color:"white",size:"sm",children:f._("This board may contain sensitive content","profileBoardCard.boardCollage.heading","Warning text on board that may have sensitive content")})})]})}},859475:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),r=n(785893);function o({image:e,width:t,height:n}){return e?(0,r.jsx)(i.zd,{wash:!0,width:t,height:n,children:(0,r.jsx)(i.Ee,{alt:"",color:"#EFEFEF",fit:"cover",naturalHeight:e.height||1,naturalWidth:e.width||1,src:e.url||""})}):(0,r.jsx)(i.xu,{color:"lightGray",width:t,height:n})}},310486:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),r=n(785893);function o({customCover:e,height:t,imgUrl:n,imgPos:o,width:s}){const l=t/s;let a="center center";if(e&&o){let e=1;e=o.height/o.width>l?s/o.width:t/o.height;a=`-${o.x*e}px -${o.y*e}px`}const c={backgroundImage:`url(${n})`,backgroundPosition:a,backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:"100%",backgroundColor:"#EFEFEF",position:"relative"};return(0,r.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{height:t,width:s}},children:(0,r.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:c},children:(0,r.jsx)("div",{className:"imageWash",style:{position:"absolute"}})})})}},7933:(e,t,n)=>{n.d(t,{Z:()=>f});var i=n(667294),r=n(40142),o=n(330678),s=n(18553),l=n(427910),a=n(639406),c=n(710159),d=n(883119),u=n(785893);function h({board:e,canEdit:t,isActive:n,onEditClick:i,subtitle:r}){const o=(0,c.ZP)(),{image_cover_url:h,is_collaborative:m,name:p,pin_count:g,section_count:x}=e,f=m&&(0,u.jsx)(d.xu,{marginEnd:2,paddingX:1,children:(0,u.jsx)(d.JO,{accessibilityLabel:o._("Group board","Accessibility label to indicate group boards","Accessibility label to indicate group boards"),color:"darkGray",icon:"people",size:16})});return(0,u.jsxs)(d.xu,{alignItems:"center",display:"flex",marginEnd:-4,marginStart:-4,children:[(0,u.jsx)(d.xu,{column:9,display:"flex",paddingX:4,children:(0,u.jsxs)(d.xu,{display:"flex",flex:"grow",justifyContent:"between",marginEnd:-4,marginStart:-4,children:[(0,u.jsx)(d.xu,{overflow:"hidden",paddingX:4,children:(0,u.jsxs)(d.xu,{display:"flex",marginEnd:-2,marginStart:-2,children:[(0,u.jsx)(d.xu,{flex:"none",paddingX:2,children:(0,u.jsx)(d.xu,{height:40,overflow:"hidden",rounding:1,width:40,children:h?(0,u.jsx)(d.Ee,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,src:h}):(0,u.jsx)(d.xu,{color:"lightGray",height:"100%",width:"100%"})})}),(0,u.jsx)(d.xu,{alignItems:"center",display:"flex",marginEnd:-1,marginStart:-1,overflow:"hidden",paddingX:2,children:(0,u.jsx)(d.xu,{overflow:"hidden",paddingX:1,children:(0,u.jsx)(d.xv,{lineClamp:1,weight:"bold",children:p})})})]})}),(0,u.jsxs)(d.xu,{alignItems:"center",display:"flex",flex:"none",paddingX:4,children:[(0,s.Z)(e)&&(0,u.jsx)(d.xu,{marginEnd:2,children:(0,u.jsx)(a.Z,{})}),f,(0,u.jsx)(l.Z,{pinCount:g,sectionCount:x})]})]})}),(0,u.jsxs)(d.xu,{alignItems:"center",column:3,display:"flex",justifyContent:"between",marginEnd:-1,marginStart:-1,paddingX:4,children:[r&&(0,u.jsx)(d.xu,{overflow:"hidden",paddingX:1,children:(0,u.jsx)(d.xv,{size:"md",lineClamp:1,children:r})}),t&&n&&(0,u.jsx)(d.xu,{flex:"none",paddingX:1,children:(0,u.jsx)(d.hU,{accessibilityLabel:o._("Edit","Edit button accessibility label","Edit button accessibility label"),icon:"edit",onClick:({event:e})=>i(e)})})]})]})}var m=n(724207),p=n(647136),g=n(484951),x=n(358142);const f=(0,x.Cl)((function({board:e,canEdit:t,images:n,invite:s,isOwnProfile:l,isReordering:a,layout:x,onDeclineRequest:f,onEditClick:v,progress:_,subtitle:y,toastImageUrl:b,toastManagerContext:w}){var j;const I=(0,c.ZP)(),[C,E]=(0,i.useState)(!1),[T,R]=(0,i.useState)(!1),S=(0,g.U)();(0,i.useEffect)((()=>{a&&C&&E(!1)}),[a,C]);const k=null==e||null===(j=e.owner)||void 0===j?void 0:j.id,A=(0,r.useSelector)((({users:e})=>e[k])),Z=A&&A.blocked_by_me,O=null==e?void 0:e.id,D=(0,r.useSelector)((({boards:e})=>e[O])),P=()=>{E(!a),S&&S.load(new URL("[username]/[slug].js","file://"))},H=()=>{E(!1)};if(e||D){const i=null!=e?e:D;return(0,u.jsx)(d.xu,{"data-test-id":"profile-board-card",children:(0,u.jsx)(d.xu,{"data-test-id":`board-${i.name}`,onMouseEnter:P,onMouseLeave:H,children:"list"===x?(0,u.jsx)(h,{board:i,canEdit:t,isActive:C,onEditClick:v,subtitle:y}):(0,u.jsx)(o.Z,{board:i,canEdit:t,handleInviteResponse:e=>{(async e=>{if(!s)return;const{board:t={},invited_user:n={}}=s,i={board_id:null==t?void 0:t.id,invited_user_id:n.id};await m.ZP.create("BoardInviteResource",i)[e?"callUpdate":"callDelete"](),R(e),!e&&f?(f(),w.showToast((({onHide:e})=>(0,u.jsx)(p.ZP,{onHide:e,text:I._("Invitation declined","text in toast after declined a board collaborator invite","text in toast after declined a board collaborator invite")})))):w.showToast((({onHide:e})=>(0,u.jsx)(p.ZP,{duration:5e3,onHide:e,text:I._("You're in! Save Pins, plan with collaborators, and more!","ProfileBoardCard.handleInviteResponse.acceptedInviteToast","Text in toast after accepting a board collaborator invite.")})))})(e)},images:n,invite:s,isActive:C,isBoardInviteAccepted:T,isOwnProfile:l,isUserBlocked:Z,layout:x,onEditClick:v,progress:_,subtitle:y,toastImageUrl:b})})})}return null}))},411866:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(189734),r=n.n(i),o=n(710159),s=n(456168),l=n(883119),a=n(123686),c=n(785893);function d(e){var t,n;const i=null!==(t=e.imageMediumUrl)&&void 0!==t?t:e.image_medium_url;return{name:null!==(n=e.fullName)&&void 0!==n?n:e.full_name,src:"https://s.pinimg.com/images/user/default_75.png"===i?void 0:i}}function u({board:e,forceViewer:t,isCompact:n,ownerOnly:i}){const u=(0,o.ZP)(),h=(0,s.Z)(),m=i?[d(e.owner)]:function(e,t,n){const{collaborated_by_me:i,collaborating_users:o=[],owner:s}=e,l=[s];if(i||n){const e=o.findIndex((e=>t.isAuth&&e.id===t.id));if(-1!==e){const t=o.splice(e,1)[0];l.push(t)}else l.push(t)}const a=r()(o,"full_name");return[...l,...a]}(e,h,t).map(d),p=m.slice(0,3).map((e=>e.name));let g="";switch(m.length){case 3:g=(0,a.Wc)(`${u._("{{ first }}, {{ second }}, and {{ last }}","CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars","List of three usernames")}`,{first:`${p[0]}`,second:`${p[1]}`,last:`${p[2]}`});break;case 2:g=(0,a.Wc)(`${u._("{{ first }} and {{ second }}","CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars","List of two usernames.")}`,{first:`${p[0]}`,second:`${p[1]}`});break;default:g=p.join(", ")}const x=m.length>3?(0,a.Wc)(`, ${u.ngettext("Collaborators: {{ userNames }} and {{ leftCount }} more.","Collaborators: {{ userNames }} and {{ leftCount }} more.",m.length-3,"CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree","Accessibility label that lists the names of collaborators and a final count of non-displayed avatars")}`,{userNames:g,leftCount:""+(m.length-3)}):(0,a.Wc)(`, ${u._("Collaborators: {{ userNames }}.","CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree","Accessibility label that lists the names of collaborators")}`,{userNames:g});return(0,c.jsx)(l.HE,{accessibilityLabel:x,collaborators:m,size:n?"xs":"sm"})}},409554:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),r=n(235988),o=n(568594),s=n(710159),l=n(123686),a=n(883119),c=n(785893);function d({pinCount:e,sectionCount:t}){const n=(0,s.ZP)();return(0,c.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,c.jsx)(a.xu,{overflow:"hidden",children:(0,c.jsx)(a.xv,{size:"sm",lineClamp:1,children:(0,l.nk)(n.ngettext("{{ count }} Pin","{{ count }} Pins",e,"label for n amount of pins","label for n amount of pins"),{count:(0,c.jsx)(o.Z,{value:e},"pin_count")})})}),t?(0,c.jsxs)(i.Fragment,{children:[(0,c.jsx)(r.Z,{}),(0,c.jsx)(a.xu,{display:"none",overflow:"hidden",smDisplay:"flex",children:(0,c.jsx)(a.xv,{inline:!0,size:"sm",lineClamp:1,children:(0,l.nk)(n.ngettext("{{ count }} section","{{ count }} sections",t,"label for n amount of sections","label for n amount of sections"),{count:(0,c.jsx)(o.Z,{value:t},"section_count")})})})]}):null]})}},330678:(e,t,n)=>{n.d(t,{Z:()=>b});var i=n(667294),r=n(261564),o=n(18553),s=n(235744),l=n(411866),a=n(409554),c=n(883119),d=n(785893);function u({board:e,isCompact:t,isOwnProfile:n,subtitle:i}){const{is_collaborative:r,name:o,pin_count:s,section_count:u}=e;return(0,d.jsxs)(c.xu,{padding:2,children:[(0,d.jsxs)(c.kC,{alignItems:"start",justifyContent:"between",children:[(0,d.jsx)(c.X6,{accessibilityLevel:2,size:"sm",lineClamp:1,children:o}),r&&(0,d.jsx)(l.Z,{board:e,isCompact:t})]}),(0,d.jsx)(c.xu,{marginTop:1,children:(0,d.jsxs)(c.kC,{alignItems:"center",gap:2,justifyContent:"start",wrap:!0,children:[(0,d.jsx)(a.Z,{pinCount:s,sectionCount:u}),n&&(0,d.jsx)(c.xv,{align:"center",color:"subtle",size:"sm",lineClamp:1,children:i})]})})]})}var h=n(123686),m=n(710159);function p(e,t){const{full_name:n,username:i}=e,r=(0,d.jsx)(c.rU,{href:`/${i}`,inline:!0,children:n});return(0,h.nk)(t._("{{ linkToUser }} invited you to join this board","boardRep.invite.invitationText","Indicating that another user invited the viewer to this board"),{linkToUser:r})}function g({board:e,handleInviteResponse:t,invite:n,isBoardInviteAccepted:r,isCompact:o}){const s=(0,m.ZP)(),{name:a,url:u}=e,h=(0,d.jsx)(c.xu,{marginTop:0,marginBottom:1,children:(0,d.jsx)(c.X6,{accessibilityLevel:2,size:"sm",lineClamp:1,children:a})}),g=r?(0,d.jsx)(c.xv,{size:"md",lineClamp:1,children:s._("You’ve joined","boardRep.invite.invitationAcceptedText","Text shown after accepting collaborator board invitations")}):(0,d.jsx)(c.xv,{size:"md",children:p(n.invited_by_user,s)});return(0,d.jsxs)(i.Fragment,{children:[(0,d.jsxs)(c.xu,{alignItems:"start",display:"flex",padding:2,children:[(0,d.jsx)(c.kC,{alignItems:"start",direction:"column",flex:"grow",justifyContent:"start",overflow:"hidden",children:(0,d.jsxs)(c.xu,{width:"100%",children:[(0,d.jsx)(c.rU,{href:u,children:h}),g]})}),(0,d.jsx)(c.xu,{marginStart:2,children:(0,d.jsx)(l.Z,{board:e,forceViewer:!0,isCompact:o,ownerOnly:!r})})]}),r?(0,d.jsx)(c.xu,{direction:"row",display:"flex",paddingX:2,children:(0,d.jsx)(c.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,d.jsx)(c.zx,{role:"link",href:u,fullWidth:!0,size:"lg",text:s._("See board","boardRep.invite.seeBoardButton","Button text to see board after accepting collaborator invite")})})}):(0,d.jsxs)(c.kC,{direction:"row",flex:"grow",justifyContent:"start",wrap:!0,children:[(0,d.jsx)(c.xu,{marginBottom:3,paddingX:1,flex:"grow",children:(0,d.jsx)(c.zx,{fullWidth:!0,onClick:()=>{t(!1)},size:"lg",text:s._("Decline","boardRep.invite.declineButton","Button text to decline board collaborator invite or request")})}),(0,d.jsx)(c.xu,{marginBottom:3,paddingX:1,flex:"grow",children:(0,d.jsx)(c.zx,{fullWidth:!0,color:"red",onClick:()=>{t(!0)},size:"lg",text:s._("Accept","boardRep.invite.acceptButton","Button text to accept board collaborator invite or request")})})]})]})}function x({board:e,handleInviteResponse:t,invite:n,isBoardInviteAccepted:i,isCompact:r,isOwnProfile:o,subtitle:s}){return n?(0,d.jsx)(g,{board:e,handleInviteResponse:t,invite:n,isBoardInviteAccepted:i,isCompact:r}):(0,d.jsx)(u,{board:e,isCompact:r,isOwnProfile:o,subtitle:s})}var f=n(456168),v=n(112978);const _=()=>{},y=e=>{const t=e.split("/");return t[t.length-1].split(".")[0]};function b({board:e,canEdit:t,handleInviteResponse:n=_,images:l,invite:a,isActive:u,isBoardInviteAccepted:h=!1,isOwnProfile:p,isUserBlocked:g,layout:b,onEditClick:w=_,progress:j,subtitle:I,toastImageUrl:C}){var E,T,R,S,k,A,Z;const O=(0,m.ZP)(),{cover_images:D,cover_pin:P,has_custom_cover:H,url:N}=e,M=(0,f.Z)(),L=(0,s.Z)({board:e,viewer:M}),B=(0,v.tc)("web_board_sensitivity_screen"),F=!L&&B().anyEnabled,W=!(null===(E=e.sensitivity_screen)||void 0===E||!E.show_warning)&&F,U=null!==(T=P&&P.crop&&P.size&&{x:P.crop[0],y:P.crop[1],width:P.size[0],height:P.size[1]})&&void 0!==T?T:{x:0,y:0,width:0,height:0};let z=null!=P&&P.image_url||null!==(R=D["222x"])&&void 0!==R&&R.url?{isCustom:H,position:U,url:null!==(S=null==P?void 0:P.image_url)&&void 0!==S?S:null===(k=D["222x"])||void 0===k?void 0:k.url}:void 0;const X=null!==(A=l["170x"])&&void 0!==A?A:[];let Y=[];if(z){var $,G,q;const e=null!==($=null!==(G=(null===(q=D["222x"])||void 0===q?void 0:q.url)&&y(D["222x"].url))&&void 0!==G?G:null==P?void 0:P.image_signature)&&void 0!==$?$:(null==P?void 0:P.image_url)&&y(P.image_url);Y=X.filter((t=>{var n;return!(null!==(n=t.url)&&void 0!==n?n:"").includes(e)}))}else Y=X,a&&"square"!==b&&X.length&&(z={isCustom:H,position:U,url:X[0].url},Y=X.slice(1));const V=t?(0,d.jsx)(c.hU,{accessibilityLabel:O._("Edit"," - "," -- "),bgColor:"white",icon:"edit",iconColor:"darkGray",onClick:({event:e})=>w(e),size:"sm"}):null,J="list"!==b?(0,d.jsx)(c.xu,{"aria-hidden":"true",children:(0,d.jsx)(r.Z,{boardThumbs:Y,cover:z,editButton:V,isActive:u,isSecret:(0,o.Z)(e),layout:b,sensitivityScreenAuxData:{board_id:e.id,reason:(null===(Z=e.sensitivity_screen)||void 0===Z?void 0:Z.reason)||""},showSensitivityScreen:W})}):null;return(0,d.jsxs)(i.Fragment,{children:[a&&"list"!==b?(0,d.jsx)(c.iP,{role:"link",href:N,children:J}):J,(0,d.jsx)(x,{board:e,handleInviteResponse:n,invite:a,isBoardInviteAccepted:h,isCompact:"square"===b,isOwnProfile:p,subtitle:I})]})}},639406:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(710159),r=n(883119),o=n(785893);function s(){const e=(0,i.ZP)();return(0,o.jsx)(r.JO,{accessibilityLabel:e._("Secret board","Accessibility label for icon indicating a secret board","Accessibility label for icon indicating a secret board"),color:"darkGray",icon:"lock",inline:!0})}},342654:(e,t,n)=>{n.d(t,{F:()=>r,m:()=>o});const i={square:{width:236,height:157},wide:{width:320,height:213}};function r(e){return i["square"===e?"square":"wide"]}function o(e){return"list"===e?"100%":r(e).width+16}},18553:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(620831);function r(e){return e.privacy===i.Z.BoardPrivacy.SECRET}},16513:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(256045),r=n(883119),o=n(785893);function s({data:e,handleFollowingCountChange:t,suppressToasts:n,viewType:s,viewParameter:l,truncateName:a=!1,invertButtonColor:c=!1}){const{explicitly_followed_by_me:d=!1,follower_count:u=0,full_name:h,id:m,image_medium_url:p,username:g,verified_identity:x,is_verified_merchant:f,recent_pin_images:v}=e;return(0,o.jsx)(r.xu,{paddingX:2,paddingY:3,width:252,height:a?void 0:364,children:(0,o.jsx)(i.Z,{avatarSize:"lg",avatarUrl:null!=p?p:"",followedByMe:d,followersCount:u,fullName:h,identityIsVerified:Boolean(null==x?void 0:x.verified),isVerifiedMerchant:f,invertButtonColor:c,onActionClick:e=>{null==t||t(e?1:-1)},suppressToasts:n,userId:m,username:g,recentPinImages:null!=v?v:{},truncateName:a,viewType:s,viewParameter:l})})}},132551:(e,t,n)=>{n.d(t,{Z:()=>r,k:()=>i});const i={LONG:"long",YEAR:"year",WEEKDAY_DATE:"weekday_date",WEEKDAY_DATE_TIME_TIMEZONE:"weekday_date_time_timezone",SHORT_WEEKDAY_DATE:"short_weekday_date",LONG_MONTH_YEAR:"long_month_year",NUMERIC:"numeric",MONTH_DAY:"month_day",SHORT_MONTH:"short_month",SHORT_MONTH_DAY:"short_month_day",DAY:"day",YEAR_SHORT_MONTH_DAY:"year_short_month_day",YEAR_SHORT_MONTH_DAY_HOUR:"year_short_month_day_hour",TIME:"time",TIME_TIMEZONE:"time_timezone",HOUR:"hour"};function r(e,t,n,r=!0){const o=function(e){switch(e){case i.YEAR:return{year:"numeric"};case i.LONG:return{year:"numeric",month:"long",day:"numeric"};case i.NUMERIC:return{year:"numeric",month:"numeric",day:"numeric"};case i.WEEKDAY_DATE:return{weekday:"long",month:"long",day:"numeric",year:"numeric"};case i.SHORT_WEEKDAY_DATE:return{weekday:"short",month:"numeric",day:"numeric"};case i.WEEKDAY_DATE_TIME_TIMEZONE:return{weekday:"short",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case i.MONTH_DAY:return{month:"long",day:"numeric"};case i.SHORT_MONTH:return{month:"short"};case i.SHORT_MONTH_DAY:return{month:"short",day:"numeric"};case i.DAY:return{day:"numeric"};case i.LONG_MONTH_YEAR:return{month:"long",year:"numeric"};case i.YEAR_SHORT_MONTH_DAY:return{year:"numeric",month:"short",day:"numeric"};case i.YEAR_SHORT_MONTH_DAY_HOUR:return{month:"short",year:"numeric",day:"numeric",hour:"numeric"};case i.TIME:return{hour:"numeric",minute:"2-digit"};case i.TIME_TIMEZONE:return{hour:"numeric",minute:"2-digit",timeZoneName:"short"};case i.HOUR:return{hour:"numeric"};default:throw new Error('invalid dateFormatType "'+e+'"')}}(n);r&&(o.timeZone="UTC");return new Intl.DateTimeFormat(e,o).format(t)}},297441:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(667294),r=n(40142),o=n(442279),s=n(272792),l=n(952733),a=n(71445);const c=(0,o.P1)((e=>e.experiences),((e,t)=>t),((e,t)=>e[t])),d=(e,t)=>"function"==typeof t?t(e):t,u=(e,t={},n=!1)=>{const[o,u]=(0,i.useReducer)(d,t),{isBot:h}=(0,l.B)(),{fetchExperienceForPlacements:m,mountPlacement:p,triggerExperimentsForPlacement:g,unmountPlacement:x}=(0,s.M)();(0,i.useDebugValue)(`Placement Hook ID - ${e}`),(0,i.useEffect)((()=>{const t=Object.assign({},o),i=n&&null!=t&&t.advertiser_id?{advertiserId:t.advertiser_id}:void 0;return p(e,t,i),()=>{x(e)}}),[]),(0,i.useEffect)((()=>{Object.keys(o).length>0&&m([e],h,o)}),[o]);const f=(0,r.useSelector)((t=>c(t,e))),v=(0,r.useSelector)((t=>t.experiencesMulti[e])),_=f?f.triggerable_placed_exps:[];(0,i.useEffect)((()=>{((e,t,n={})=>{a.Z.increment(`${e}.${t}`,1,n)})("experienceservice","placementHookExperimentTrigger.1",{platform:"web",placement_id:e,..._}),g(e,o)}),[JSON.stringify(_)]);return{experience:f,experiencesMulti:v,setExtraContext:u}}},596732:(e,t,n)=>{n.d(t,{U:()=>p,X:()=>m});var i=n(667294),r=n(724207);var o=n(879268),s=n(487889),l=n(657478),a=n(785893);const c=()=>n.e(46112).then(n.bind(n,646112));function d(e,t,n=!1){return{type:"TOPIC_FOLLOW",payload:{id:e,value:t,showTooltip:n}}}function u(e){return r.ZP.create("InterestFollowResource",{interest_id:e,interest_list:o.X})}const{Provider:h,useHook:m}=(0,s.Z)("Topics");function p({children:e}){const[t,n]=function(e,t){const n=(0,i.useRef)([]),[r,o]=(0,i.useState)(),[s,l]=(0,i.useReducer)(null!=r?r:()=>t,t),a=(0,i.useCallback)((t=>{r?l(t):(n.current.length||e().then((e=>{o((()=>e.default))})),n.current=[...n.current,t])}),[e,r]);return(0,i.useEffect)((()=>{r&&(n.current.forEach(l),n.current=[])}),[r]),[s,a]}(c,{}),r=e=>{n({type:"TOPIC_FETCH_COMPLETE",payload:e})};(0,l.Z8)("InterestFollowingResource",r),(0,l.Z8)("InterestResource",r);const o=(0,i.useMemo)((()=>({follow:(e,t=!1)=>{u(e).callCreate({showError:!1}).catch((()=>n(d(e,!1,t)))),n(d(e,!0,t))},topics:t,unfollow:e=>{u(e).callDelete({showError:!1}).catch((()=>n(d(e,!0)))),n(d(e,!1))}})),[n,t]);return(0,a.jsx)(h,{value:o,children:e})}},13551:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(710159),r=n(883119),o=n(596732),s=n(785893);function l({fullWidth:e,isFollowed:t,topicId:n,primaryAction:l=!1,onFollow:a=(()=>{}),onUnFollow:c=(()=>{}),isFollowedText:d,isNotFollowedText:u,size:h="md"}){const m=(0,i.ZP)(),{follow:p,topics:g,unfollow:x}=(0,o.X)(),f=g[n],v=f?Boolean(f.is_followed):t;return(0,s.jsx)(r.zx,{color:"gray",selected:!v,fullWidth:!e,onClick:()=>{v?(c(n),x(n)):(a(n),p(n,l))},text:v?d||m._("Following","Button text to display for unfollowing an interest","Button text to display for unfollowing an interest"):u||m._("Follow","Button text to display for following an interest","Button text to display for following an interest"),size:h})}},506911:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(13551),r=n(568594),o=n(710159),s=n(123686),l=n(883119),a=n(785893);function c({backgroundColor:e,followersCount:t,followersCountDisplay:n,height:i,image:r,name:c,width:d}){var u,h,m;const p=(0,o.ZP)(),g=p.ngettext("{{ count }} {{ label }}","{{ count }} {{ label }}",t||0,"indicate a number of followers","indicate a number of followers"),x=p.ngettext("follower","followers",t||0,"used in {{count}} {{followers}}","used in {{count}} {{followers}}"),f=i||d;return(0,a.jsx)(l.xu,{children:(0,a.jsxs)(l.zd,{rounding:4,children:[r?(0,a.jsxs)(l.xu,{position:"relative",children:[(0,a.jsx)(l.GH,{width:d,height:f,contentAspectRatio:(null!==(u=r.width)&&void 0!==u?u:1)/(null!==(h=r.height)&&void 0!==h?h:1),children:(0,a.jsx)(l.Ee,{alt:c,color:e,naturalHeight:1,naturalWidth:1,src:null!==(m=r.url)&&void 0!==m?m:""})}),(0,a.jsx)(l.xu,{height:f,width:d,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.4)"}},position:"absolute",top:!0})]}):(0,a.jsx)(l.xu,{height:f,width:d,dangerouslySetInlineStyle:{__style:{backgroundColor:e}}}),(0,a.jsxs)(l.xu,{alignContent:"center",alignItems:"center",display:"flex",justifyContent:"center",bottom:!0,left:!0,padding:3,position:"absolute",right:!0,top:!0,children:[(0,a.jsx)(l.xv,{color:"inverse",overflow:"normal",weight:"bold",children:c}),t?(0,a.jsx)(l.xu,{children:(0,s.nk)(g,{count:(0,a.jsx)(l.xv,{color:"inverse",inline:!0,size:"md",weight:"bold",children:n},"followersCount"),label:(0,a.jsx)(l.xv,{color:"inverse",inline:!0,size:"md",children:x},"followersLabel")})}):null]})]})})}const d=236;function u(e){const{backgroundColor:t,followedByMe:n,followersCount:o,height:s,id:u,image:h,name:m,url:p,width:g=d,followingButton:x}=e,f=o?(0,a.jsx)(r.Z,{value:o,shortform:!0,shortformMaximumFractionDigits:1}):"",v=x||(0,a.jsx)(i.Z,{fullWidth:!0,topicId:u,isFollowed:n}),_=(0,a.jsx)(c,{backgroundColor:t,followersCount:o,followersCountDisplay:f,image:h,name:m,width:g,height:s});return(0,a.jsx)(l.Zb,{children:(0,a.jsxs)(l.xu,{width:g,children:[p?(0,a.jsx)(l.iP,{role:"link",href:`/ideas/${p}/${u}`,children:_}):_,(0,a.jsx)(l.xu,{marginTop:2,display:"flex",justifyContent:"center",children:v})]})})}},489972:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(123686),r=n(883119),o=n(785893);function s(e){const{applyMarkup:t=!0,applyLink:n=!1,text:s,textMapping:l={}}=e,a={};return l&&Object.keys(l).forEach((e=>{const i=l[e];a[e]=i.t.toString(),t&&(i.b&&(a[e]=(0,o.jsx)("strong",{children:a[e]},e)),i.r&&(a[e]=(0,o.jsx)(r.xv,{inline:!0,color:"error",children:a[e]},e)),i.l&&n&&(a[e]=(0,o.jsx)(r.rU,{href:i.l,inline:!0,children:a[e]},e)))})),(0,o.jsx)("span",{"data-test-id":"updates-link-text",children:(0,i.bF)(s,a)})}},799100:(e,t,n)=>{n.d(t,{AI:()=>M,AM:()=>y,AY:()=>z,Cc:()=>a,DX:()=>k,GO:()=>H,HJ:()=>s,Hj:()=>u,I2:()=>F,IV:()=>r,J0:()=>x,LL:()=>$,Ng:()=>i,P:()=>I,P3:()=>g,Rd:()=>j,So:()=>v,V$:()=>c,WC:()=>T,ZH:()=>O,aE:()=>p,c4:()=>C,cU:()=>E,ci:()=>R,di:()=>B,f_:()=>d,gb:()=>X,gs:()=>P,hf:()=>L,hp:()=>N,hy:()=>o,iJ:()=>h,ie:()=>f,kJ:()=>U,kc:()=>w,mM:()=>S,qZ:()=>b,qb:()=>_,ti:()=>Y,uW:()=>D,uZ:()=>l,wA:()=>m,yc:()=>Z,ys:()=>W,zM:()=>A});const i={BOARD:"board",DID_IT:"userdiditdata",INTEREST:"interest",PIN:"pin",SEARCH:"news_hub_search",STORY:"story",USER:"user"},r=3,o=360,s=375,l=64,a=36,c=344,d=328,u=8,h=156,m=164,p=328,g=164,x=108.7,f=3,v=82,_=82,y=164,b=164,w=4,j=164,I=164,C=2,E=82,T=164,R=2,S=2,k=4,A=328,Z="290x",O="170x",D={backgroundColor:"rgba(0, 0, 0, 0.4)"},P=4,H="1px",N=48,M=32,L=36,B="136x136",F=2,W=4,U=118,z=236,X={BASIC:0,TEXT:1,ROW_WITH_COUNT:2,MINI_PIN_GRID:4,ROW_WITH_COUNT_2:10,MINI_PIN_GRID_2:11,MINI_BOARD_GRID:12,MINI_USER_GRID:13,MINI_SEARCH_GRID:14,MINI_INTEREST_GRID:15,MINI_BOARD_GRID_WITH_ICON:18},Y=e=>"31"==`${String(e)}`,$="recommendation"},450490:(e,t,n)=>{n.d(t,{Z:()=>x});var i=n(667294),r=n(260245),o=n(855168),s=n(710159),l=n(883119),a=n(315141),c=n(785893);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u="up",h="down";let m=!1,p=!0;class g extends i.Component{constructor(e){super(e),d(this,"handleMouseOver",(()=>{!this.props.listResource.isFetching&&this._container&&this.setState({highlight:!1})})),d(this,"handleScroll",(0,r.Z)((()=>{if(this.props.listResource.isFetching||!this._container)return;const{handleScrollShadow:e}=this.props;e&&e((0,a.MX)(this._container)>0);const{scrollThreshold:t}=this.props;(0,a.aZ)(this._container)-(0,a.MX)(this._container)-(0,a.Uy)(this._container)<t&&this.fetchMore()}),100)),d(this,"addEventListeners",(e=>{const{useWindow:t}=this.props;t&&(e=window),this.removeEventListeners(),e&&(t||e.addEventListener("wheel",this.preventScroll),e.addEventListener("scroll",this.handleScroll),e.addEventListener("mouseover",this.handleMouseOver)),this._container=e})),d(this,"getRef",(e=>e.id===this.props.highlightId?this.onRefChange:null)),d(this,"preventScroll",(e=>{if(!this._container)return;const t=e.deltaY<0?u:h,n=this._container.scrollHeight-this._container.scrollTop-this._container.clientHeight==0,i=0===this._container.scrollTop;(t===h&&n||t===u&&i)&&e.preventDefault()})),d(this,"fetchForHighlight",(()=>{if(!this.state.isResourceExhausted&&!this.state.isHighlightedItemLoaded&&this.props.listResource.data){let e=!1;this.props.listResource.data.forEach((t=>{t.id===this.props.highlightId&&(e=!0,this.setState({isHighlightedItemLoaded:!0}))})),e||this.fetchMore()}})),d(this,"onRefChange",(e=>{this.setState({highlightedItemRef:e})})),d(this,"handleHighlightAndScrollToItem",(()=>{this.props.listResource&&this.props.listResource.data&&!this.state.isResourceExhausted&&!this.state.isHighlightedItemLoaded&&this.fetchForHighlight(),this.state.highlightedItemRef&&!m&&(this.state.highlightedItemRef.scrollIntoView({behavior:"smooth",block:"center"}),m=!0)})),this.state={highlightedItemRef:null,highlight:null,isResourceExhausted:!1,isHighlightedItemLoaded:!1}}componentWillUnmount(){this.removeEventListeners(),m&&(p=!1)}static getDerivedStateFromProps(e,t){return t.highlight?{}:{highlight:e.shouldHighlightListItem}}removeEventListeners(){const{useWindow:e}=this.props,t=this._container;t&&(e||t.removeEventListener("wheel",this.preventScroll),t.removeEventListener("scroll",this.handleScroll),t.removeEventListener("mouseover",this.handleScroll))}fetchMore(){const e=this._container;this.props.listResource.isFetching||(this.props.listResource.isAtEnd&&e?(e.removeEventListener("scroll",this.handleScroll),e.removeEventListener("mouseover",this.handleMouseOver),this.setState({isResourceExhausted:!0})):this.props.listResource.fetchMore())}render(){const{renderEmptyState:e,renderItem:t,renderTopStoryExperience:n}=this.props;this.props.shouldScrollToItem&&this.handleHighlightAndScrollToItem();const i=this.props.listResource.data;return!this.props.listResource.isFetching&&i&&0===i.length&&t?e():null===i?(0,c.jsx)(o.l_,{to:"/?show_error=true"}):(0,c.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{clear:"both",height:"calc(100% - 64px)",overflowY:"auto",overflowX:"hidden",wordBreak:"break-word"}},ref:this.addEventListeners,children:[i&&n&&n(),i?(0,c.jsx)("ul",{className:"scrollableList","data-test-id":"scrollable-list",children:i.map(((e,n)=>t(e,n,this.getRef(e),this.state.highlight&&p)))}):null,this.props.listResource.isAtEnd?null:(0,c.jsx)(l.xu,{"data-test-id":"loadingItem",height:"20%",position:"relative",dangerouslySetInlineStyle:{__style:{padding:"5%"}},children:(0,c.jsx)(l.$j,{accessibilityLabel:this.props.i18n._("Loading items"," - "," -- "),show:this.props.listResource.isFetching})})]})}}function x(e){const t=(0,s.ZP)();return(0,c.jsx)(g,{...e,i18n:t})}d(g,"defaultProps",{scrollThreshold:400,useWindow:!1,handleScrollShadow:()=>{},highlightId:null,shouldScrollToItem:!1})},484951:(e,t,n)=>{n.d(t,{U:()=>o,Z:()=>s});var i=n(667294);const r=(0,i.createContext)();function o(){return(0,i.useContext)(r)}const s=r}},e=>{e.O(0,[85049],(()=>{[97270,69965,15833,92982,88299,95244,48035,5035,43473,22347,22538,1593].map(e.E)}),5);e.O(0,[97270,83119,67631,32589,42746,82331,80490,61884,40803,69375,73117,35021,25643,55106,30273,53330,58561,12883,49832,93328,56045,90845,94040],(()=>{return t=697050,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/news_hub/[id]-authdesktop-ce029c4f0a8590b5.mjs.map