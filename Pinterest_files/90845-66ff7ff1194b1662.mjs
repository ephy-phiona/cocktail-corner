(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[90845],{108679:(e,t,n)=>{var i=n(121296),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return i.isMemo(e)?s:a[e.$$typeof]||o}a[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[i.Memo]=s;var d=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,n,i){if("string"!=typeof n){if(m){var o=p(n);o&&o!==m&&e(t,o,i)}var s=c(n);u&&(s=s.concat(u(n)));for(var a=l(t),g=l(n),f=0;f<s.length;++f){var _=s[f];if(!(r[_]||i&&i[_]||g&&g[_]||a&&a[_])){var x=h(n,_);try{d(t,_,x)}catch(y){}}}}return t}},396103:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,d=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116;function f(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case c:case u:case r:case a:case s:case p:return e;default:switch(e=e&&e.$$typeof){case d:case h:case l:return e;default:return t}}case g:case m:case o:return t}}}function _(e){return f(e)===u}t.typeOf=f,t.AsyncMode=c,t.ConcurrentMode=u,t.ContextConsumer=d,t.ContextProvider=l,t.Element=i,t.ForwardRef=h,t.Fragment=r,t.Lazy=g,t.Memo=m,t.Portal=o,t.Profiler=a,t.StrictMode=s,t.Suspense=p,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===r||e===u||e===a||e===s||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===d||e.$$typeof===h)},t.isAsyncMode=function(e){return _(e)||f(e)===c},t.isConcurrentMode=_,t.isContextConsumer=function(e){return f(e)===d},t.isContextProvider=function(e){return f(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return f(e)===h},t.isFragment=function(e){return f(e)===r},t.isLazy=function(e){return f(e)===g},t.isMemo=function(e){return f(e)===m},t.isPortal=function(e){return f(e)===o},t.isProfiler=function(e){return f(e)===a},t.isStrictMode=function(e){return f(e)===s},t.isSuspense=function(e){return f(e)===p}},121296:(e,t,n)=>{e.exports=n(396103)},968337:(e,t,n)=>{function i(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach((function(t){t&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e}function o(e){return Object.prototype.toString.call(e)}function r(e){return"[object Function]"===o(e)}function s(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var a={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var l={"http:":{validate:function(e,t,n){var i=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(i)?i.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){var i=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(i)?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:i.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){var i=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(i)?i.match(n.re.mailto)[0].length:0}}},d="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function c(e){var t=e.re=n(136066)(e.__opts__),i=e.__tlds__.slice();function a(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||i.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),i.push(t.src_xn),t.src_tlds=i.join("|"),t.email_fuzzy=RegExp(a(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(a(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(a(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(a(t.tpl_host_fuzzy_test),"i");var l=[];function d(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach((function(t){var n=e.__schemas__[t];if(null!==n){var i={validate:null,link:null};if(e.__compiled__[t]=i,"[object Object]"===o(n))return!function(e){return"[object RegExp]"===o(e)}(n.validate)?r(n.validate)?i.validate=n.validate:d(t,n):i.validate=function(e){return function(t,n){var i=t.slice(n);return e.test(i)?i.match(e)[0].length:0}}(n.validate),void(r(n.normalize)?i.normalize=n.normalize:n.normalize?d(t,n):i.normalize=function(e,t){t.normalize(e)});!function(e){return"[object String]"===o(e)}(n)?d(t,n):l.push(t)}})),l.forEach((function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)})),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};var c=Object.keys(e.__compiled__).filter((function(t){return t.length>0&&e.__compiled__[t]})).map(s).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+c+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+c+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function u(e,t){var n=e.__index__,i=e.__last_index__,o=e.__text_cache__.slice(n,i);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=i+t,this.raw=o,this.text=o,this.url=o}function h(e,t){var n=new u(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function p(e,t){if(!(this instanceof p))return new p(e,t);var n;t||(n=e,Object.keys(n||{}).reduce((function(e,t){return e||a.hasOwnProperty(t)}),!1)&&(t=e,e={})),this.__opts__=i({},a,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=i({},l,e),this.__compiled__={},this.__tlds__=d,this.__tlds_replaced__=!1,this.re={},c(this)}p.prototype.add=function(e,t){return this.__schemas__[e]=t,c(this),this},p.prototype.set=function(e){return this.__opts__=i(this.__opts__,e),this},p.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,n,i,o,r,s,a,l;if(this.re.schema_test.test(e))for((a=this.re.schema_search).lastIndex=0;null!==(t=a.exec(e));)if(o=this.testSchemaAt(e,t[2],a.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+o;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(l=e.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||l<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(r=n.index+n[1].length,(this.__index__<0||r<this.__index__)&&(this.__schema__="",this.__index__=r,this.__last_index__=n.index+n[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&e.indexOf("@")>=0&&null!==(i=e.match(this.re.email_fuzzy))&&(r=i.index+i[1].length,s=i.index+i[0].length,(this.__index__<0||r<this.__index__||r===this.__index__&&s>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=r,this.__last_index__=s)),this.__index__>=0},p.prototype.pretest=function(e){return this.re.pretest.test(e)},p.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},p.prototype.match=function(e){var t=0,n=[];this.__index__>=0&&this.__text_cache__===e&&(n.push(h(this,t)),t=this.__last_index__);for(var i=t?e.slice(t):e;this.test(i);)n.push(h(this,t)),i=i.slice(this.__last_index__),t+=this.__last_index__;return n.length?n:null},p.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter((function(e,t,n){return e!==n[t-1]})).reverse(),c(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,c(this),this)},p.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},p.prototype.onCompile=function(){},e.exports=p},136066:(e,t,n)=>{e.exports=function(e){var t={};t.src_Any=n(329369).source,t.src_Cc=n(499413).source,t.src_Z=n(335045).source,t.src_P=n(373189).source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");return t.src_pseudo_letter="(?:(?![><｜]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><｜]|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+"[><｜]|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,3}[a-zA-Z0-9%/]|\\.(?!"+t.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+t.src_ZCc+").|\\!(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]+',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-(?!-)|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|[><｜]|\\(|"+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},702958:(e,t,n)=>{var i=n(646384),o=n(690939);e.exports=function(e,t,n,r){var s=n.length,a=s,l=!r;if(null==e)return!a;for(e=Object(e);s--;){var d=n[s];if(l&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++s<a;){var c=(d=n[s])[0],u=e[c],h=d[1];if(l&&d[2]){if(void 0===u&&!(c in e))return!1}else{var p=new i;if(r)var m=r(u,h,c,e,t,p);if(!(void 0===m?o(h,u,3,r,p):m))return!1}}return!0}},267206:(e,t,n)=>{var i=n(191573),o=n(716432),r=n(406557),s=n(701469),a=n(139601);e.exports=function(e){return"function"==typeof e?e:null==e?r:"object"==typeof e?s(e)?o(e[0],e[1]):i(e):a(e)}},191573:(e,t,n)=>{var i=n(702958),o=n(301499),r=n(542634);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?r(t[0][0],t[0][1]):function(n){return n===e||i(n,e,t)}}},716432:(e,t,n)=>{var i=n(690939),o=n(227361),r=n(379095),s=n(115403),a=n(689162),l=n(542634),d=n(240327);e.exports=function(e,t){return s(e)&&a(t)?l(d(e),t):function(n){var s=o(n,e);return void 0===s&&s===t?r(n,e):i(t,s,3)}}},840371:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},379152:(e,t,n)=>{var i=n(297786);e.exports=function(e){return function(t){return i(t,e)}}},301499:(e,t,n)=>{var i=n(689162),o=n(3674);e.exports=function(e){for(var t=o(e),n=t.length;n--;){var r=t[n],s=e[r];t[n]=[r,s,i(s)]}return t}},689162:(e,t,n)=>{var i=n(513218);e.exports=function(e){return e==e&&!i(e)}},542634:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},618446:(e,t,n)=>{var i=n(690939);e.exports=function(e,t){return i(e,t)}},139601:(e,t,n)=>{var i=n(840371),o=n(379152),r=n(115403),s=n(240327);e.exports=function(e){return r(e)?i(s(e)):o(e)}},727418:e=>{var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(o){return!1}}()?Object.assign:function(e,r){for(var s,a,l=o(e),d=1;d<arguments.length;d++){for(var c in s=Object(arguments[d]))n.call(s,c)&&(l[c]=s[c]);if(t){a=t(s);for(var u=0;u<a.length;u++)i.call(s,a[u])&&(l[a[u]]=s[a[u]])}}return l}},869921:(e,t)=>{var n="function"==typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,d=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,f=n?Symbol.for("react.lazy"):60116,_=n?Symbol.for("react.block"):60121,x=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function v(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case c:case u:case r:case a:case s:case p:return e;default:switch(e=e&&e.$$typeof){case d:case h:case f:case g:case l:return e;default:return t}}case o:return t}}}function C(e){return v(e)===u}t.AsyncMode=c,t.ConcurrentMode=u,t.ContextConsumer=d,t.ContextProvider=l,t.Element=i,t.ForwardRef=h,t.Fragment=r,t.Lazy=f,t.Memo=g,t.Portal=o,t.Profiler=a,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return C(e)||v(e)===c},t.isConcurrentMode=C,t.isContextConsumer=function(e){return v(e)===d},t.isContextProvider=function(e){return v(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return v(e)===h},t.isFragment=function(e){return v(e)===r},t.isLazy=function(e){return v(e)===f},t.isMemo=function(e){return v(e)===g},t.isPortal=function(e){return v(e)===o},t.isProfiler=function(e){return v(e)===a},t.isStrictMode=function(e){return v(e)===s},t.isSuspense=function(e){return v(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===r||e===u||e===a||e===s||e===p||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===g||e.$$typeof===l||e.$$typeof===d||e.$$typeof===h||e.$$typeof===x||e.$$typeof===y||e.$$typeof===b||e.$$typeof===_)},t.typeOf=v},659864:(e,t,n)=>{e.exports=n(869921)},560053:(e,t)=>{var n,i,o,r;if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var d=null,c=null,u=function(){if(null!==d)try{var e=t.unstable_now();d(!0,e),d=null}catch(n){throw setTimeout(u,0),n}};n=function(e){null!==d?setTimeout(n,0,e):(d=e,setTimeout(u,0))},i=function(e,t){c=setTimeout(e,t)},o=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},r=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,p=window.clearTimeout;if("undefined"!=typeof console){var m=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,f=null,_=-1,x=5,y=0;t.unstable_shouldYield=function(){return t.unstable_now()>=y},r=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,v=b.port2;b.port1.onmessage=function(){if(null!==f){var e=t.unstable_now();y=e+x;try{f(!0,e)?v.postMessage(null):(g=!1,f=null)}catch(n){throw v.postMessage(null),n}}else g=!1},n=function(e){f=e,g||(g=!0,v.postMessage(null))},i=function(e,n){_=h((function(){e(t.unstable_now())}),n)},o=function(){p(_),_=-1}}function C(e,t){var n=e.length;e.push(t);e:for(;;){var i=n-1>>>1,o=e[i];if(!(void 0!==o&&0<D(o,t)))break e;e[i]=t,e[n]=o,n=i}}function w(e){return void 0===(e=e[0])?null:e}function k(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,o=e.length;i<o;){var r=2*(i+1)-1,s=e[r],a=r+1,l=e[a];if(void 0!==s&&0>D(s,n))void 0!==l&&0>D(l,s)?(e[i]=l,e[a]=n,i=a):(e[i]=s,e[r]=n,i=r);else{if(!(void 0!==l&&0>D(l,n)))break e;e[i]=l,e[a]=n,i=a}}}return t}return null}function D(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var j=[],E=[],I=1,T=null,S=3,P=!1,A=!1,R=!1;function M(e){for(var t=w(E);null!==t;){if(null===t.callback)k(E);else{if(!(t.startTime<=e))break;k(E),t.sortIndex=t.expirationTime,C(j,t)}t=w(E)}}function O(e){if(R=!1,M(e),!A)if(null!==w(j))A=!0,n(L);else{var t=w(E);null!==t&&i(O,t.startTime-e)}}function L(e,n){A=!1,R&&(R=!1,o()),P=!0;var r=S;try{for(M(n),T=w(j);null!==T&&(!(T.expirationTime>n)||e&&!t.unstable_shouldYield());){var s=T.callback;if("function"==typeof s){T.callback=null,S=T.priorityLevel;var a=s(T.expirationTime<=n);n=t.unstable_now(),"function"==typeof a?T.callback=a:T===w(j)&&k(j),M(n)}else k(j);T=w(j)}if(null!==T)var l=!0;else{var d=w(E);null!==d&&i(O,d.startTime-n),l=!1}return l}finally{T=null,S=r,P=!1}}var F=r;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){A||P||(A=!0,n(L))},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_getFirstCallbackNode=function(){return w(j)},t.unstable_next=function(e){switch(S){case 1:case 2:case 3:var t=3;break;default:t=S}var n=S;S=t;try{return e()}finally{S=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=S;S=e;try{return t()}finally{S=n}},t.unstable_scheduleCallback=function(e,r,s){var a=t.unstable_now();switch("object"==typeof s&&null!==s?s="number"==typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:I++,callback:r,priorityLevel:e,startTime:s,expirationTime:l=s+l,sortIndex:-1},s>a?(e.sortIndex=s,C(E,e),null===w(j)&&e===w(E)&&(R?o():R=!0,i(O,s-a))):(e.sortIndex=l,C(j,e),A||P||(A=!0,n(L))),e},t.unstable_wrapCallback=function(e){var t=S;return function(){var n=S;S=t;try{return e.apply(this,arguments)}finally{S=n}}}},363840:(e,t,n)=>{e.exports=n(560053)},499413:e=>{e.exports=/[\0-\x1F\x7F-\x9F]/},373189:e=>{e.exports=/[!-#%-\*,-/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E49\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},335045:e=>{e.exports=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/},329369:e=>{e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},681008:(e,t,n)=>{function i(e){let t=!1;return{promise:new Promise(((n,i)=>{e.then((e=>t?i({isCanceled:!0}):n(e)),(e=>i(t?{isCanceled:!0}:e)))})),cancel(){t=!0}}}n.d(t,{Z:()=>i})},735368:(e,t,n)=>{n.d(t,{Z:()=>c,w:()=>u});var i=n(123686);const o=e=>e._("{{ first }}","Generic message that lists 1 item","Generic message that lists 1 item (ex: Stevie)"),r=e=>e._("{{ first }} and {{ second }}","Generic message that lists 2 items","Generic message that lists 2 items (ex: Stevie and Michael)"),s=e=>e._("{{ first }}, {{ second }} and {{ third }}","Generic message that lists 3 items","Generic message that lists 3 items (ex: Stevie, Michael and Cyndi)"),a=e=>e._("{{ first }}, {{ second }}, {{ third }} and {{ fourth }}","Generic message that lists 4 items","Generic message that lists 4 items (ex: Stevie, Michael, Cyndi and Bob)"),l=e=>e._("{{ first }}, {{ second }}, {{ third }}, {{ fourth }} and {{ fifth }}","Generic message that lists 5 items","Generic message that lists 5 items (ex: Stevie, Michael, Cyndi, Bob and Bruce)"),d=e=>e._("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ sixth }}","Generic message that lists 6 items","Generic message that lists 6 items (ex: Stevie, Michael, Cyndi, Bob, Bruce and Lionel)");function c(e,t){const n={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],remaining:e.length-5};switch(e.length){case 0:return[];case 1:return(0,i.nk)(o(t),n);case 2:return(0,i.nk)(r(t),n);case 3:return(0,i.nk)(s(t),n);case 4:return(0,i.nk)(a(t),n);case 5:return(0,i.nk)(l(t),n);case 6:return(0,i.nk)(d(t),n);default:return(0,i.nk)((e=>e._("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ remaining }} others","Generic message that lists more than 6 items","Generic message that lists more than 6 items (ex: Stevie, Michael, Cyndi, Bob, Bruce and 2 others)"))(t),n)}}function u(e,t){const n={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],seventh:e[6],remaining:e.length-6};switch(e.length){case 0:return[];case 1:return(0,i.nk)(o(t),n);case 2:return(0,i.nk)(r(t),n);case 3:return(0,i.nk)(s(t),n);case 4:return(0,i.nk)(a(t),n);case 5:return(0,i.nk)(l(t),n);case 6:return(0,i.nk)(d(t),n);case 7:return(0,i.nk)((e=>e._("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ seventh }}","Generic message that lists 7 items","Generic message that lists 7 items (ex: Stevie, Michael, Cyndi, Bob, Bruce, Lionel and Tina)"))(t),n);default:return(0,i.nk)((e=>e._("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ remaining }} others","Generic message that lists more than 7 items","Generic message that lists more than 7 items (ex: Stevie, Michael, Cyndi, Bob, Bruce, Lionel and 2 others)"))(t),n)}}},139386:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294),o=n(681008);function r(){const e=(0,i.useRef)([]),t=(0,i.useRef)({});return(0,i.useEffect)((()=>()=>{[...Object.keys(t.current).map((e=>t.current[e])),...e.current].forEach((e=>e()))}),[]),function(n,i){if(i){const e=t.current[i];e&&(e(),delete t.current[i])}const{cancel:r,promise:s}=(0,o.Z)(n);return i?t.current[i]=r:e.current.push(r),s}}},201030:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(156575),o=n(883119),r=n(785893);function s({user:e,size:t="md",hasOutline:n}){const{first_name:s,image_medium_url:a,username:l}=e;return(0,r.jsx)(o.iP,{role:"link",rounding:"circle",href:`/${l}/`,children:(0,r.jsx)(i.Z,{size:t,src:null!=a?a:"",name:s||l||"",outline:n})})}},782957:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(667294),o=n(94153),r=n(251483),s=n(353136),a=n(144977),l=n(710159),d=n(887196),c=n(883119),u=n(785893);const h=({action:e,label:t,testId:n})=>(0,u.jsx)(a.Z,{id:`flyout-item-${n}`,children:(0,u.jsx)(c.iP,{onTap:e,children:(0,u.jsx)(o.Z,{text:t})})}),p=({handleBlockUser:e,handleClickReport:t,handleDelete:n,handleOnEdit:o,handleRemoveMention:p,handleHighlight:m,handleRemoveHighlight:g,showHighlightEducator:f,iconColor:_,small:x})=>{const y=(0,l.ZP)(),[b,v]=(0,i.useState)(!1),C=(0,i.useRef)(),w=e=>{const t=(e||{}).event||{};t.preventDefault&&(t.preventDefault(),t.stopPropagation()),v(!b)};return e||t||n||o||p||m?(0,u.jsx)(c.kC,{alignItems:"end",direction:"column",justifyContent:"start",children:(0,u.jsxs)(c.xu,{children:[(0,u.jsx)(c.xu,{ref:C,children:(0,u.jsx)(a.Z,{id:"flyout-toggle",children:(0,u.jsx)(c.hU,{accessibilityExpanded:b,accessibilityHaspopup:!0,accessibilityLabel:y._("more options","accessible label for button to see more options on report content","accessible label for button to see more options on report content"),icon:"ellipsis",iconColor:_||void 0,onClick:w,size:x?"sm":"md"})})}),f&&(0,u.jsx)(c.mh,{zIndex:d.lI,children:(0,u.jsx)(s.Z,{children:(0,u.jsx)(r.Z,{anchor:C.current,experienceIds:[503461],idealDirection:"down",placementId:12,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center"})})}),b&&(0,u.jsx)(c.mh,{children:(0,u.jsx)(s.Z,{children:(0,u.jsx)(a.Z,{id:"flyout",children:(0,u.jsx)(c.J2,{anchor:C.current,idealDirection:"down",onDismiss:w,positionRelativeToAnchor:!1,size:"sm",children:(0,u.jsxs)(c.xu,{width:"100%",children:[m&&(0,u.jsx)(h,{action:()=>{m(),w()},label:y._("Highlight","Highlight a community post or comment","Highlight a community post or comment"),testId:"highlight"}),g&&(0,u.jsx)(h,{action:()=>{g(),w()},label:y._("Remove highlight","Remove highlight for a community post or comment","Remove highlight for a community post or comment"),testId:"removeHighlight"}),o&&(0,u.jsx)(h,{action:o,label:y._("Edit","Edit a community post or comment","Edit a community post or comment"),testId:"edit"}),n&&(0,u.jsx)(h,{action:n,label:y._("Delete","Delete a community post or comment","Delete a community post or comment"),testId:"delete"}),t&&(0,u.jsx)(h,{action:t,label:y._("Report this content","Report a community post or comment","Report a community post or comment"),testId:"report"}),p&&(0,u.jsx)(h,{action:()=>{p(),w()},label:y._("Remove @mention","closeup.activityItem.removeMention","Button that allows user to remove their @mention in a comment on a pin"),testId:"removeMention"}),e&&(0,u.jsx)(h,{action:e,label:y._("Block user","closeup.activityItem.blockUser","Block comment author"),testId:"blockUser"})]})})})})})]})}):null};p.defaultProps={handleBlockUser:null,handleClickReport:null,handleDelete:null,handleOnEdit:null,handleRemoveMention:null};const m=p},385913:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),o=n(766291),r=n(883119),s=n(785893);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends i.PureComponent{constructor(...e){super(...e),a(this,"parseText",(()=>{const{tags:e,taggedUsers:t,text:n,size:i}=this.props;if(!e.length||!t||e.length!==t.length)return this.renderRegularText(n,"1");let o=0,a=[];return e.forEach(((e,t)=>{const i=n.substring(o,e.offset);o=e.offset+e.length;const r=n.substring(e.offset,o);a=a.concat(this.renderRegularText(i,`${t}a`)).concat(this.renderTaggedText(r,t,`${t}b`))})),a=a.concat(this.renderRegularText(n.substring(o),"2")),(0,s.jsx)(r.xv,{inline:!0,size:i,overflow:"normal",children:a})})),a(this,"renderRegularText",((e,t)=>(0,s.jsx)(r.xv,{inline:!0,size:this.props.size,overflow:"normal",children:this.props.allowLink?(0,s.jsx)(o.Z,{children:e}):e},t))),a(this,"renderTaggedText",((e,t,n)=>(0,s.jsx)(r.xv,{color:"shopping",inline:!0,size:this.props.size,weight:"bold",overflow:"normal",children:(0,s.jsx)(r.rU,{inline:!0,href:`/${this.props.taggedUsers[t].username}`,children:e})},n)))}render(){return(0,s.jsx)("span",{style:{whiteSpace:"pre-wrap",wordWrap:"break-word"},children:this.parseText()})}}a(l,"defaultProps",{allowLink:!0,size:"md"})},968674:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(667294),o=n(385913),r=n(8183),s=n(620998),a=n(883119),l=n(710159),d=n(785893);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.PureComponent{constructor(...e){super(...e),c(this,"state",{truncate:!!this.props.text&&this.props.text.length>(this.props.maxCharLength||s.lr)+this.revealText.length}),c(this,"showFullText",(()=>this.setState({truncate:!1})))}get revealText(){return this.props.inUnifiedComments?this.props.i18n._("... More","click to see more of a long post","click to see more of a long post"):this.props.i18n._("... See more","click to see more of a long post","click to see more of a long post")}render(){const{allowLink:e,allowReveal:t,maxCharLength:n,size:l,tags:c,taggedUsers:u,text:h}=this.props,{truncate:p}=this.state,m=p?h.substring(0,n||s.lr).trim():h;return(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)(o.Z,{allowLink:e,size:l,taggedUsers:u,tags:c,text:m}),p&&!t&&(0,d.jsx)(a.xv,{inline:!0,weight:"bold",overflow:"normal",children:this.revealText}),p&&t&&(0,d.jsx)(r.Z,{color:"darkGray",handleClick:this.showFullText,text:this.revealText,size:l})]})}}c(u,"defaultProps",{allowLink:!0,allowReveal:!1,size:"md",tags:[],taggedUsers:[],text:""});const h=function(e){const t=(0,l.ZP)();return(0,d.jsx)(u,{...e,i18n:t})}},8183:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),o=n(785893);function r({color:e="gray",handleClick:t,size:n="sm",text:r}){return(0,o.jsx)(i.xu,{display:"inlineBlock",children:(0,o.jsx)(i.iP,{onTap:t,rounding:"pill",children:(0,o.jsx)(i.xv,{color:e,size:n,weight:"bold",children:r})})})}},766291:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),o=n(362672),r=n(968337),s=n.n(r),a=n(361086),l=n(610248),d=n(883119),c=n(785893);const u=new(s());u.tlds(l),u.add("#",{validate(e,t,n){const i=e.slice(t);return n.re.hashtag||(n.re.hashtag=new RegExp("^([a-zA-Z0-9_]){1,15}(?!_)(?=$|"+n.re.src_ZPCc+")")),n.re.hashtag.test(i)?!(t>=2&&"#"===i[t-2])&&i.match(n.re.hashtag)[0].length:0},normalize(e){e.url=`https://pinterest.com/search/pins/?q=${encodeURIComponent(e.text)}&rs=hashtag_pinrep`}});const h=({decoratedHref:e,decoratedText:t,index:n,isTrusted:i})=>(0,c.jsx)(d.rU,{href:e,onClick:({event:e})=>{e.stopPropagation()},target:i?null:"blank",children:t},n);class p extends i.PureComponent{parseString(e){if(""===e)return e;const t=(n=e,u.match(n));var n;if(!t)return e;const i=[];let r=0;return t.forEach(((t,n)=>{t.index>r&&i.push(e.substring(r,t.index));let s=t.url;const l=(0,o.Z)(t.url)&&!t.url.match(/help.pinterest/g);if(l){const e=(0,a.Z)(t.url);s=s.replace(e.origin,"")}const d=t.text,u=(0,c.jsx)(h,{decoratedHref:s,decoratedText:d,index:n,isTrusted:l});i.push(u),r=t.lastIndex})),e.length>r&&i.push(e.substring(r)),1===i.length?i[0]:i}parse(e,t=0){return"string"==typeof e?this.parseString(e):(0,i.isValidElement)(e)&&"a"!==e.type&&"button"!==e.type?(0,i.cloneElement)(e,{key:t},this.parse(e.props.children)):Array.isArray(e)?e.map(((e,t)=>this.parse(e,t))):e}render(){return(0,c.jsx)("span",{children:this.parse(this.props.children)})}}},620998:(e,t,n)=>{n.d(t,{A7:()=>o,YD:()=>r,lr:()=>i});const i=170,o=(e,t,n)=>{const i=new Date(e),o=(new Date).getTime()-i.getTime();return Math.floor(o/1e3)<60?t._("now","timestamp for a comment or post that was created within the last minute","timestamp for a comment or post that was created within the last minute"):n(e,!0)},r=e=>{const t=e.first_name||e.full_name||e.username;return t&&t.length>60?t.substring(0,60).trim().concat("..."):t}},947144:(e,t,n)=>{n.d(t,{DO:()=>de,VO:()=>ue,Kg:()=>se,Eb:()=>ce});var i=n(667294),o=n(40142),r=n(201030),s=n(916389),a=n(144977),l=n(883119),d=n(785893);const c=({accessibilityModalLabel:e,cancelButtonText:t,confirmButtonText:n,detail:i,heading:o,onConfirm:r,onDismiss:c})=>(0,d.jsx)(s.ZP,{accessibilityModalLabel:e,heading:o,onDismiss:c,size:"md",children:(0,d.jsxs)(l.xu,{children:[(0,d.jsx)(l.xu,{padding:4,children:(0,d.jsx)(l.xv,{children:i})}),(0,d.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"end",children:[(0,d.jsx)(l.xu,{margin:2,children:(0,d.jsx)(a.Z,{id:"confirm-modal-cancel",children:(0,d.jsx)(l.zx,{fullWidth:!0,onClick:c,text:t})})}),(0,d.jsx)(l.xu,{margin:2,children:(0,d.jsx)(a.Z,{id:"confirm-modal-confirm",children:(0,d.jsx)(l.zx,{fullWidth:!0,color:"red",onClick:()=>{r(),c()},text:n})})})]})]})});var u=n(734253),h=n(362038),p=n(456168),m=n(249832),g=n(498953),f=n(125560),_=n(539195),x=n(891946),y=n(710159);function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const v={isTextChanged:!1,showConfirmDiscardModal:!1,submissionInProgress:!1,textValue:"",userMentionOverLimitError:!1};class C extends i.Component{constructor(...e){super(...e),b(this,"state",{...v,tags:this.props.tags||[],textValue:this.props.text||"",isEmojiTrayOpen:!1}),b(this,"handleFocus",(()=>{this.props.onEnter()})),b(this,"handleChange",(({text:e,mentions:t})=>{t.length<this.state.tags.length&&this.props.logContextEvent({event_type:8906,aux_data:{tag_type:1}});const n=(this.props.text||"")!==e;this.setState({isTextChanged:n,textValue:e,tags:t,userMentionOverLimitError:t.length>f.b7})})),b(this,"handleOnClickEdit",(()=>{const{onEditItem:e}=this.props;let t={};const{textValue:n,tags:i}=this.state;t={contentMarkdown:n,imageSignatures:"",objectIds:[],tags:JSON.stringify(i)},e&&e(t),this.setState({submissionInProgress:!1})})),b(this,"handleOnClickPost",(()=>{this.state.userMentionOverLimitError||(this.setState({submissionInProgress:!0,isEmojiTrayOpen:!1}),this.handleOnClickPostFinal())})),b(this,"handleOnClickPostFinal",(()=>{const{onAddItem:e}=this.props;let t={};const{textValue:n,tags:i}=this.state;t={contentMarkdown:n,imageSignatures:"",objectIds:[],tags:JSON.stringify(i)},e&&e(t),this.setState(v)})),b(this,"handleOnFinalDiscardItem",(()=>{const{onCancelItem:e}=this.props;this.setState(v),e()})),b(this,"isSubmitEditDisabled",(()=>{const{isTextChanged:e}=this.state;return!e})),b(this,"toggleShowConfirmDiscardModal",(()=>{const{showConfirmDiscardModal:e}=this.state;this.setState({showConfirmDiscardModal:!e,isEmojiTrayOpen:!1})})),b(this,"renderConfirmDiscardModal",(()=>{const{statusType:e}=this.props;let t,n;return"textInFlightEdit"===e?(t=this.props.i18n._("Your changes will be discarded","Confirmation dialog before discarding changes","Confirmation dialog before discarding changes"),n=this.props.i18n._("Discard changes","Clear edits","Clear edits")):(t=this.props.i18n._("Once you delete a draft, you can’t undo it","Confirmation before discarding changes","Confirmation before discarding changes"),n=this.props.i18n._("Delete","delete draft of a post or comment","delete draft of a post or comment")),(0,d.jsx)(c,{accessibilityModalLabel:this.props.i18n._("Confirm discard composer","Confirm discarding a post or comment","Confirm discarding a post or comment"),heading:this.props.i18n._("Are you sure?","Confirm discarding a post or comment","Confirm discarding a post or comment"),cancelButtonText:this.props.i18n._("Cancel","Cancel discarding a post or comment","Cancel discarding a post or comment"),confirmButtonText:n,detail:t,onConfirm:this.handleOnFinalDiscardItem,onDismiss:this.toggleShowConfirmDiscardModal})})),b(this,"getReplyToEntity",(e=>[e?`@${e.user.username} `:"",e?[{offset:0,object_id:e.user.id,length:e.user.username.length+1,tag_type:1}]:[]]))}get isAggregatedComment(){const{objectType:e}=this.props;return e===g.o.pin||e===g.o.didIt||e===g.o.aggregatedComment}render(){const{avatarSize:e,replyToObject:t,privatePin:n,statusType:i,viewingUser:o}=this.props,{isTextChanged:s,isEmojiTrayOpen:c,showConfirmDiscardModal:p,submissionInProgress:m,tags:g,textValue:f,userMentionOverLimitError:_}=this.state,y={background:"transparent",border:"0",display:s?"inline-block":"block",minHeight:"textStaticDisplay"===i?"":"50px",fontSize:"16px",outline:"0",overflowX:"hidden",resize:"none",whiteSpace:"pre-wrap",width:"100%"},[b,v]=this.getReplyToEntity(t),C=(0,d.jsx)(l.xu,{children:(0,d.jsx)(l.xv,{color:"error",size:"sm",align:"end",children:(0,x.bl)(!1,this.props.i18n)})});let w,k;w=this.isAggregatedComment&&n?this.props.i18n._("Add a public comment","Add a comment","Add a comment"):this.isAggregatedComment?this.props.i18n._("Add a comment","Prompt to add a comment","Prompt to add a comment"):this.props.i18n._("Reply","Adding text to a community comment","Adding text to a community comment"),k=this.isAggregatedComment?this.props.i18n._("Done","Post a top level comment on a pin or tried it","Post a top level comment on a pin or tried it"):this.props.i18n._("Reply","Posting a reply to a post or comment","Posting a reply to a post or comment");const D=s;return"textInflightCreation"===i?(0,d.jsxs)(l.xu,{column:12,display:"flex",justifyContent:"center",children:[(0,d.jsxs)(l.xu,{width:"100%",children:[(0,d.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,d.jsx)(l.xu,{marginEnd:2,children:(0,d.jsx)(r.Z,{user:o,size:e})}),(0,d.jsx)(l.xu,{borderStyle:"sm",padding:3,rounding:4,flex:"grow",children:(0,d.jsx)(h.Z,{focusOnMount:!0,initialMentions:v,initialText:b,onAddMention:()=>{this.props.logContextEvent({event_type:8905,aux_data:{tag_type:1}})},onChange:this.handleChange,onSearchMentionCancel:()=>{this.props.logContextEvent({event_type:8908,aux_data:{tag_type:1}})},onSuggestionsPopoverOpen:()=>{this.props.logContextEvent({event_type:8907,aux_data:{tag_type:1}})},openEmojiTrayOnLoad:c,placeholder:w,privatePin:n})})]}),_&&C,(0,d.jsxs)(l.xu,{display:"flex",justifyContent:"end",marginTop:4,children:[(0,d.jsx)(a.Z,{id:"activity-item-create-cancel",children:(0,d.jsx)(l.zx,{color:"gray",onClick:D?this.toggleShowConfirmDiscardModal:this.handleOnFinalDiscardItem,text:this.props.i18n._("Cancel","Cancel making post or comment","Cancel making post or comment")})}),(0,d.jsx)(l.xu,{marginStart:2,children:(0,d.jsx)(a.Z,{id:"activity-item-create-submit",children:(0,d.jsx)(l.zx,{color:"red",disabled:!s||m||!f.length,onClick:this.handleOnClickPost,text:k})})})]})]}),p&&this.renderConfirmDiscardModal()]}):"textInFlightEdit"===i?(0,d.jsxs)(l.xu,{column:12,display:"flex",justifyContent:"center",children:[(0,d.jsxs)(l.xu,{width:"100%",children:[(0,d.jsx)(l.kC,{alignItems:"stretch",justifyContent:"start",children:(0,d.jsx)(l.xu,{borderStyle:"sm",padding:3,rounding:4,flex:"grow",children:(0,d.jsx)(h.Z,{focusOnMount:!0,initialMentions:g,initialText:f,onAddMention:()=>{this.props.logContextEvent({event_type:8905,aux_data:{tag_type:1}})},onChange:this.handleChange,onSearchMentionCancel:()=>{this.props.logContextEvent({event_type:8908,aux_data:{tag_type:1}})},onSuggestionsPopoverOpen:()=>{this.props.logContextEvent({event_type:8907,aux_data:{tag_type:1}})},placeholder:w})})}),_&&C,(0,d.jsxs)(l.xu,{display:"flex",justifyContent:"end",marginTop:4,children:[(0,d.jsx)(l.zx,{color:"gray",onClick:D?this.toggleShowConfirmDiscardModal:this.handleOnFinalDiscardItem,text:this.props.i18n._("Cancel","Cancel making post or comment","Cancel making post or comment")}),(0,d.jsx)(l.xu,{marginStart:2,children:(0,d.jsx)(l.zx,{color:"red",disabled:this.isSubmitEditDisabled()||m,onClick:this.handleOnClickEdit,text:this.props.i18n._("Save","comment save button","comment save button")})})]})]}),p&&this.renderConfirmDiscardModal()]}):(0,d.jsx)(l.xu,{alignItems:"center",display:"flex",justifyContent:"between",rounding:2,children:(0,d.jsx)("div",{"aria-label":this.props.i18n._("Add comment field","ActivityItemCreate.textbox.accessibilityLabel","Textbox for comment field."),onKeyDown:this.handleFocus,onClick:this.handleFocus,role:"textbox",tabIndex:"0",style:{cursor:"text",width:"100%"},children:(0,d.jsxs)(l.xu,{column:12,display:"flex",children:[(0,d.jsx)(l.xu,{width:48,children:(0,d.jsx)(r.Z,{user:o,size:e})}),(0,d.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:"26px"}},width:"100%",height:48,alignItems:"center",display:"flex",marginStart:4,padding:4,borderStyle:"sm",children:[(0,d.jsx)("textarea",{"data-test-id":"communityItemTextBox",maxLength:2e3,name:"communityItemTextBox",onFocus:this.handleFocus,placeholder:w,rows:1,style:y}),(0,d.jsx)(u.Z,{isEmojiTrayOpen:c,onClick:()=>{this.setState({isEmojiTrayOpen:!c})}})]})]})})})}}b(C,"defaultProps",{imageSignature:"",onEnter:()=>{},showWelcomeEducation:!1,text:"",widthAuto:!1});const w=(0,m.Z)((function(e){const{logContextEvent:t}=(0,_.v)(),n=(0,y.ZP)(),i=(0,p.Z)(),o=i.isAuth?{image_medium_url:i.imageMediumUrl,type:"user",username:i.username,full_name:i.fullName,first_name:"",id:""}:{};return(0,d.jsx)(C,{...e,i18n:n,viewingUser:o,logContextEvent:t})}));var k=n(782957),D=n(298774),j=n(102219),E=n(620998);function I({createdAt:e,user:t,isHighlighted:n}){const i=(0,y.ZP)(),o=(0,j.Z)(),r=(0,d.jsx)(l.xv,{color:"subtle",size:"md",children:(0,E.A7)(e,i,o)}),s=(0,d.jsxs)(l.xv,{color:"subtle",size:"md",children:["· ",i._("Highlighted","pin.comments.highlight","Identifier for highlighted comments")]});return(0,d.jsxs)(l.xu,{display:"flex",alignItems:"start",marginStart:-1,marginEnd:-1,children:[(0,d.jsx)(l.xu,{paddingX:1,children:(0,d.jsx)(l.xv,{size:"md",weight:"bold",children:(0,d.jsx)(l.rU,{href:`/${t.username}/`,children:(0,E.YD)(t)})})}),(0,d.jsx)(l.xu,{paddingX:1,children:r}),n&&(0,d.jsx)(l.xu,{paddingX:1,children:s})]})}var T=n(958131),S=n(317295),P=n(741874),A=n(385913),R=n(124820),M=n(968674),O=n(379771),L=n(734754);const F=(0,i.lazy)((()=>n.e(51470).then(n.bind(n,351470))));function Z({allowLink:e=!1,avatarSize:t="sm",commentCount:n,contentImage:o,contentImageSignature:s,contentText:c,flyout:u,handleOnEditCancel:h,handleOnEdited:p,handleHelpfulClick:m,handleLikeClick:g,handleLikeCountClick:f,handleReplyClick:_,handleReplyCountClick:x,helpfulCount:b,hideAddObjects:v,hideReplyCount:C,inEditMode:k,isHighlighted:D,isLikedByMe:j,isMarkedHelpfulByMe:E,isPlainComment:Z,parentObject:z,pins:U,reactionCounts:B,responsePin:N,slotIndex:G,taggedUsers:H,tags:q,truncateText:$,commentId:V,createdAt:W,commentAuthor:K,type:Y,isORBACProfileManager:X}){const J=(0,L.K)(),Q=(0,y.ZP)(),[ee,te]=(0,i.useState)(V===J),{isLoaded:ne}=(0,O.Z)({name:"PinResource",dangerouslyDisableFetch:!N,options:{id:null==N?void 0:N.id,field_set_key:"detailed"}});(0,i.useEffect)((()=>{V===J&&R.Z.setTimeout((()=>{te(!1)}),1500)}),[]);const ie=ne&&!!N;return(0,d.jsx)(a.Z,{id:"canonical-comment",children:(0,d.jsxs)(l.xu,{display:"flex",marginBottom:Z?4:0,children:[(0,d.jsx)(l.xu,{marginEnd:2,children:(0,d.jsx)(r.Z,{user:K,size:t})}),(0,d.jsxs)(l.xu,{flex:"grow",marginStart:2,children:[(0,d.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{borderColor:k?"transparent":void 0,transition:"1000ms",backgroundColor:ee?"lightGray":null}},borderStyle:"sm",padding:k?0:3,rounding:4,children:k?(0,d.jsx)(w,{addedObjects:U,addedImage:o,hideAddObjects:v,imageSignature:s,objectType:Y,onAddItem:()=>{},onCancelItem:h,onEditItem:p,onEnter:()=>{},parentObjectId:z.id,statusType:"textInFlightEdit",tags:q,text:c,widthAuto:!0}):(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)(I,{createdAt:W,user:K,isHighlighted:D}),$?(0,d.jsx)(M.Z,{allowLink:e,allowReveal:!0,size:"sm",taggedUsers:H,tags:q,text:c}):(0,d.jsx)(A.Z,{allowLink:e,size:"sm",tags:q,taggedUsers:H,text:c}),N&&ie&&(0,d.jsx)(P.Z,{fallback:(0,d.jsx)(T.Z,{accessibilityLabel:Q._("Loading comment reply Pin preview","Loading pin previews for comment reply comments component","Loading pin previews for comment reply comments component")}),children:(0,d.jsx)(l.xu,{marginTop:1,maxWidth:"21%",children:(0,d.jsx)(F,{pinId:N.id,surface:"CommentReply",trackingParameters:{slotIndex:G}})})})]})}),!X&&!ie&&!k&&!Z&&(0,d.jsx)(l.xu,{padding:1,children:(0,d.jsx)(S.Z,{commentCount:n,flyout:k?null:u,hideReplyCount:C,isLikedByMe:j,onLikeClick:g,onLikeCountClick:f,onReplyClick:_,onReplyCountClick:x,reactionCounts:B,isMarkedHelpfulByMe:E,onHelpfulClick:m,helpfulCount:b,small:!0})})]})]})})}var z=n(736799),U=n(628885),B=n(647136),N=n(694715),G=n(178009),H=n(70657),q=n(361177),$=n(602837),V=n(261484),W=n(265328),K=n(123686),Y=n(8720),X=n(378351),J=n(358142),Q=n(234777);const ee=({aggregatedCommentId:e,apdId:t,creatorId:n,depth:r,didItOwnerId:a,isManagedView:u,objectType:h,onUpdate:p,parentObjectId:m,pinDomainOwnerId:f,pinId:x,slotIndex:b,viewerId:v,showHighlightEducator:C,numHighlights:j,canSetHighlight:E,isORBACProfileManager:I})=>{const{logContextEvent:T}=(0,_.v)(),S=(0,y.ZP)(),{isLoaded:P}=(0,O.Z)({name:"PinResource",options:{id:x,field_set_key:"detailed"}}),{showToast:A}=(0,J.F9)(),{reportComment:R}=(0,X.f)(),[M,L]=(0,i.useState)(!1),[F,ee]=(0,i.useState)(!1),[te,ne]=(0,i.useState)(!1),[ie,oe]=(0,i.useState)(!1),[re,ae]=(0,i.useState)(!1),[le,de]=(0,i.useState)(!1),ue=(0,o.useDispatch)();(0,i.useEffect)((()=>{ue((0,V.U2)("AggregatedCommentResource",{options:{commentId:e}}))}),[ue,e]),(0,i.useEffect)((()=>{p&&p()}),[p]);const he=(0,o.useSelector)((({pins:e})=>{if(!x)return"";const t=e[x];let n="pin";if(t){const e=(0,Y.iR)(t.videos);t.story_pin_data_id?n="story":e&&(n="video")}return n})),pe=(0,o.useSelector)((({aggregatedComments:t})=>t[e]));if(!pe||!pe.user)return null;const{comment_response_pin:me,comment_count:ge,created_at:fe,helpful_count:_e,marked_helpful_by_me:xe,reaction_by_me:ye,reaction_counts:be,tagged_users:ve,tags:Ce,text:we,user:{id:ke,username:De},highlighted_by_pin_owner:je}=pe,Ee=r===se,Ie=be[1],Te=()=>{ue((0,Q.f9)({aggregatedCommentId:e,isLikedByMe:!!ye}))},Se=()=>{ue((0,Q.Pd)({aggregatedCommentId:e,isMarkedHelpfulByMe:!!xe}))},Pe=t=>(0,d.jsx)(l.zx,{text:S._("Undo","closeup.pinActionDropDown.commentHighlightToast.UndoButton","Undo comment highlight or comment highlight removal"),size:"lg",onClick:()=>{ue((0,Q.rK)({aggregatedCommentId:e,pinId:x,isHighlighted:t}))}},"button-key"),Ae=()=>{j&&j>=3?A((({onHide:e})=>(0,d.jsx)(B.ZP,{onHide:e,text:S._("Only 3 comments can be highlighted","closeup.pinActionDropDown.commentHighlightMaxNumberToast","Toast that tells user that at most 3 comments can be highlighted.")}))):(ue((0,Q.rK)({aggregatedCommentId:e,pinId:x,isHighlighted:!1})),A((({onHide:e})=>(0,d.jsx)(B.ZP,{onHide:e,text:S._("Comment highlighted","closeup.pinActionDropDown.commentHighlightToast","Toast that tells user that they have successfully highlighted a comment."),button:Pe(!0)}))))},Re=()=>{ue((0,Q.rK)({aggregatedCommentId:e,pinId:x,isHighlighted:!0})),A((({onHide:e})=>(0,d.jsx)(B.ZP,{onHide:e,text:S._("Highlight removed","closeup.pinActionDropDown.commentHighlightRemovalToast","Toast that tells user that they have successfully removed a comment highlight."),button:Pe(!1)})))},Me=()=>{ne(!te)},Oe=()=>{L(!0)},Le=()=>{L(!1)},Fe=t=>{ue((0,Q.SL)({commentId:e,tags:t.tags,text:t.contentMarkdown})),L(!1)},Ze=()=>{ue((0,$.Q)(e)),T({event_type:8909,component:13464,view_type:3,view_parameter:140,aux_data:{tag_id:v,tag_type:1}}),A((({onHide:e})=>(0,d.jsx)(B.ZP,{onHide:e,text:S._("@mention removed!","closeup.pinActionDropDown.mentionRemovalToast","Toast that tells user that they have successfully removed the @mention of them in another user's Pin description")})))},ze=()=>{oe(!0)},Ue=()=>{ae(!0)},Be=()=>{de(!0)},Ne=()=>{oe(!1),ae(!1),de(!1)},Ge=()=>{R(e,null,null)},He=()=>{const e=[ke,n,a,f].includes(v),t=v===ke,i=v!==ke,o=v!==ke,r=ve.filter((({id:e})=>e===v)).length>0;return(0,d.jsx)(k.Z,{handleBlockUser:o?Be:null,handleClickReport:i?Ge:null,handleDelete:e?ze:null,handleOnEdit:t?Oe:null,handleRemoveMention:r?Ze:null,handleHighlight:E&&!je?Ae:null,handleRemoveHighlight:E&&je?Re:null,showHighlightEducator:C,small:!0})};return(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)(W.F,{contextLogData:{objectId:pe.id},impressionAuxFields:{commentId:pe.id,pinId:x,pinType:he,parentId:m,parentType:h,commentType:g.o.aggregatedComment},componentType:h===g.o.pin?13696:13697,impressionType:"Comment",isPaused:!P,loggingId:pe.id,slotIndex:b,viewType:3,children:({impressionTrackerRef:t})=>(0,d.jsx)(l.xu,{ref:t,"data-test-id":"aggregatedCommentContainer-comment",children:(0,d.jsx)(Z,{avatarSize:Ee?"sm":"md",commentAuthor:pe.user,commentCount:ge,commentId:e,contentText:we,createdAt:fe,flyout:He(),handleHelpfulClick:Se,handleLikeClick:Te,handleLikeCountClick:Ue,handleOnEditCancel:Le,handleOnEdited:Fe,handleReplyClick:Me,helpfulCount:_e,hideAddObjects:!0,hideReplyCount:!0,inEditMode:M,isHighlighted:je,isLikedByMe:!!ye,isMarkedHelpfulByMe:xe,parentObject:{id:m},reactionCounts:be,responsePin:me,slotIndex:b,taggedUsers:ve,tags:Ce,truncateText:!0,type:g.o.aggregatedComment,isORBACProfileManager:I})})}),te&&(0,d.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:Ee?0:48}},"data-test-id":"aggregatedCommentContainer-replyComposer",children:(0,d.jsx)(l.xu,{display:"flex",marginTop:2,children:(0,d.jsx)(l.xu,{flex:"grow",children:(0,d.jsx)(w,{avatarSize:"sm",hideAddObjects:!0,onAddItem:async({contentMarkdown:t,tags:n})=>{let i,o=e;Me(),ee(!0),Ee&&(o=m,i=e),await ue((0,q.n)({objectType:g.o.aggregatedComment,objectId:o,tags:n,text:t,replyToCommentId:i})),ee(!1)},onCancelItem:Me,onEnter:()=>{},objectType:g.o.aggregatedComment,parentObjectId:m,replyToObject:Ee?pe:null,statusType:"textInflightCreation"})})})}),ge>0&&(0,d.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:48}},"data-test-id":"aggregatedCommentContainer-replyList",children:[(0,d.jsx)(ce,{baseIndex:b+1,commentCount:ge,creatorId:n,didItOwnerId:a,depth:r,isManagedView:u,objectId:e,objectType:g.o.aggregatedComment,onUpdate:p,parentObjectId:m,pinDomainOwnerId:f,pinId:x,variant:"legacy",isORBACProfileManager:I}),(0,d.jsx)(l.$j,{accessibilityLabel:S._("Comments loading"," - "," -- "),show:F})]}),ie&&(0,d.jsx)(c,{accessibilityModalLabel:S._("Deleting a comment","closeup.deleteCommentModal.label","Label for deleting a comment"),heading:S._("Are you sure?","closeup.deleteCommentModal.heading","Are you sure to remove post or comment"),cancelButtonText:S._("Cancel","closeup.deleteCommentModal.cancelButton","Cancel deleting comment"),confirmButtonText:S._("Delete","closeup.deleteCommentModal.confirmButton","Delete comment"),detail:S._("This comment will be deleted","closeup.deleteCommentModal.detailText","confirmation before deleting comment"),onConfirm:()=>{ue((0,z.Z)({aggregatedCommentId:e,aggregatedPinId:t,feedType:"aggregatedComments",type:Ee?H.Rv.REPLY_TO_AGGREGATED:H.Rv.TOP,parentId:m,updateParentCommentCount:!0}))},onDismiss:Ne}),re&&(0,d.jsx)(s.ZP,{accessibilityModalLabel:S._("Users who have liked this.","closeup.comment.showLikeListModal.label","Label for a modal showing a list of users who have liked a Tried Item Comment"),heading:(0,U.Z)(S.ngettext("{{count}} Like","{{count}} Likes",Ie,"closeup.comment.showLikeListModal.heading","Number of likes a comment has"),{count:Ie.toString()}),onDismiss:Ne,size:"md",children:(0,d.jsx)(N.Xd,{id:e})}),le&&(0,d.jsx)(D.Z,{firstName:De,onBlockUser:()=>{ue((0,G.G)(ke)),Ne(),A((({onHide:e})=>(0,d.jsx)(B.ZP,{onHide:e,text:(0,K.nk)(S._("You've blocked {{ username }}","comment.blockAuthor.toast","confirmation toast that shows after user blocks comment author"),{username:De}).join("")})))},onClearModal:Ne})]})};var te=n(8183),ne=n(914861),ie=n(498177),oe=n(855168),re=n(816458);const se=2,ae=({baseIndex:e=0,commentCount:t,creatorId:n,depth:r=0,didItOwnerId:s,feedItems:a,feedResourceName:c,initialLoadCount:u,isManagedView:h,objectId:m,objectType:f,onUpdate:x,parentObjectId:b,pinDomainOwnerId:v,pinId:C,privatePin:k,shouldFeatureComment:D=!1,variant:j,isORBACProfileManager:E})=>{var I,T;const{logContextEvent:S}=(0,_.v)(),P=(0,y.ZP)(),[A,R]=(0,i.useState)(!1),[M,F]=(0,i.useState)(!1),Z=(0,p.Z)(),z=(0,L.K)(),U=(0,oe.TH)(),{comment_is_hidden:N="0"}=(0,ie.mB)(U.search),G=1===parseInt(N,10),{showOneToast:H}=(0,J.F9)();(0,ne.Z)((()=>{if(z&&G&&D){const e=P._("Sorry, the comment has been hidden","AggregatedCommentList.featuredComment.isHidden","Error message for featured comment is unavailable");H((({onHide:t})=>(0,d.jsx)(B.ZP,{onHide:t,text:e})))}}));const $=(0,o.useDispatch)(),{fetchMore:V,isAtEnd:W,isLoaded:Y}=(0,O.Z)({name:c,options:{objectId:m,page_size:u||2,redux_normalize_feed:!0,featured_ids:D&&z&&!G?[z]:null}}),X=(0,o.useSelector)((({pins:e})=>C?e[C]:null)),Q=X&&X.pinner?X.pinner.id:"",re=!!X&&X.story_pin_data_id,se=null!==(I=null==X||null===(T=X.aggregated_pin_data)||void 0===T?void 0:T.id)&&void 0!==I?I:"";(0,i.useEffect)((()=>{Y&&x&&x()}),[Y,x]);const ae=()=>{R(!A)},le=!!a&&Y&&t>a.length&&!W,de=a?t-a.length:0,ce=(0,K.nk)(P.ngettext("{{commentCount}} comment","{{commentCount}} comments",de,"Show comments link with count","Show comments link with count"),{commentCount:String(de)}).join(""),ue=f===g.o.aggregatedComment,he=f===g.o.pin&&(a&&0===a.length||0===t)&&Y&&!M,pe="default"===j,me=0===r,ge=me&&X&&X.highlighted_aggregated_comments?X.highlighted_aggregated_comments:[],fe=me&&Z.isAuth&&Z.id===Q;let _e=fe;return(0,d.jsxs)(l.xu,{"data-test-id":"aggregated-comment-list",marginTop:ue&&!pe?2:0,paddingY:ue||pe?0:2,children:[!!C&&ge.map(((t,i)=>(0,d.jsx)(l.xu,{marginBottom:2,children:(0,d.jsx)(ee,{aggregatedCommentId:t,apdId:se,creatorId:n,depth:r+1,didItOwnerId:s,isManagedView:h,objectType:f,onUpdate:x,parentObjectId:f===g.o.pin?C:m,pinDomainOwnerId:v,pinId:C,slotIndex:e+i,variant:j,viewerId:Z.isAuth?Z.id:"",canSetHighlight:fe,isORBACProfileManager:E})},t))),!!C&&(null==a?void 0:a.filter((e=>!ge.includes(e.id))).map((({id:t},i)=>{const o=_e;return _e=!1,(0,d.jsx)(l.xu,{marginBottom:2,children:(0,d.jsx)(ee,{aggregatedCommentId:t,apdId:se,creatorId:n,depth:r+1,didItOwnerId:s,isManagedView:h,objectType:f,onUpdate:x,parentObjectId:f===g.o.pin?C:m,pinDomainOwnerId:v,pinId:C,slotIndex:e+ge.length+i,variant:j,viewerId:Z.isAuth?Z.id:"",showHighlightEducator:o,numHighlights:ge.length,canSetHighlight:fe,isORBACProfileManager:E})},t)}))),(0,d.jsx)(l.$j,{accessibilityLabel:P._("Comments loading"," - "," -- "),show:!Y||M}),le&&(0,d.jsx)(l.xu,{marginTop:3,children:(0,d.jsx)(te.Z,{handleClick:V,text:ce})}),he&&(0,d.jsx)(l.xu,{paddingY:pe?0:2,children:(0,d.jsx)(l.xv,{size:pe?"sm":"md",children:P._("Share feedback, ask a question or give a high five"," - "," -- ")})}),!E&&f!==g.o.aggregatedComment&&!h&&(0,d.jsx)(l.xu,{display:"flex",marginTop:6,children:(0,d.jsx)(l.xu,{"data-test-id":"add-comment",flex:"grow",children:(0,d.jsx)(w,{hideAddObjects:!0,objectType:f,onAddItem:async({contentMarkdown:e,tags:t})=>{ae(),F(!0);try{await $((0,q.n)({objectType:f,objectId:m,pinId:C,tags:t,text:e})),f===g.o.pin&&S({event_type:7,object_id_str:C,aux_data:{num_user_mention_tags:(t?JSON.parse(t):[]).length,...re?{creator_id:n,story_pin_data_id:re}:{}}})}catch(i){}F(!1)},onCancelItem:ae,onEnter:ae,parentObjectId:b||"",privatePin:k,replyToObject:null,statusType:A?"textInflightCreation":"textStaticDisplay"})})})]})},le=e=>(0,o.useSelector)((({feeds:{[re.DV.AGGREGATED_COMMENTS]:t={}}})=>t[e])),de=e=>{var t;const n=le(e.objectId);return(0,d.jsx)(ae,{...e,feedItems:null!==(i=n,o="id",t=i?i.filter(((e,t,n)=>n.map((e=>e[o])).indexOf(e[o])===t)):i)&&void 0!==t?t:[],feedResourceName:"AggregatedCommentFeedResource",shouldFeatureComment:!0});var i,o},ce=e=>{var t;return(0,d.jsx)(ae,{...e,feedItems:null!==(t=le(e.objectId))&&void 0!==t?t:[],feedResourceName:"AggregatedCommentReplyFeedResource"})},ue=e=>{var t;return(0,d.jsx)(ae,{...e,feedItems:null!==(t=le(e.objectId))&&void 0!==t?t:[],feedResourceName:"DidItCommentsResource"})}},734754:(e,t,n)=>{n.d(t,{K:()=>s,Q:()=>r});var i=n(667294);const o=(0,i.createContext)(null),r=o.Provider;function s(){const e=(0,i.useContext)(o);return null==e?void 0:e.featuredCommentId}},70657:(e,t,n)=>{n.d(t,{LH:()=>o,Rv:()=>r,TJ:()=>s,iB:()=>i,pW:()=>a});const i=48,o=i+8,r=Object.freeze({TOP:0,REPLY_TO_TRIED:1,REPLY_TO_AGGREGATED:2}),s="comment_featured_ids",a="did_it_featured_ids"},703680:(e,t,n)=>{n.d(t,{Z:()=>K});var i=n(667294),o=n(434809),r=n(822015),s=n(379771),a=n(883119),l=n(40142),d=n(422042),c=n(395141),u=n(724207),h=n(539195),p=n(60598),m=n(284355),g=n(710159),f=n(785893);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class x extends i.Component{constructor(...e){super(...e),_(this,"_videoContainerRef",null),_(this,"removeVideoTag",(()=>{this._videoContainerRef&&this._videoContainerRef.childNodes[0]&&this._videoContainerRef.removeChild(this._videoContainerRef.childNodes[0])})),_(this,"clear",(({event:e})=>{e.stopPropagation(),this.removeVideoTag(),this.props.handleRemoveClick()}))}get isPin(){const{display:e,imagePreviewSrc:t,videoUrls:n}=this.props;return!("pin"!==e||!t&&!n)}renderProgressBar(){const{progress:e}=this.props,t=100===e||0===e?"uploadProgressBar transition":"uploadProgressBar";return(0,f.jsx)("div",{className:t,style:{width:`${e}%`}})}renderDropZone(){return(0,f.jsxs)(a.xu,{children:[(0,f.jsx)(a.kC,{alignItems:"center",justifyContent:"center",children:(0,f.jsx)(a.kC,{alignItems:"center",justifyContent:"center",children:(0,f.jsx)(a.JO,{color:"darkGray",icon:"camera",accessibilityLabel:this.props.i18n._("Add a Photo","Add a photo as part of a form","Add a photo as part of a form"),size:32})})}),(0,f.jsx)(a.xu,{marginTop:2,paddingX:12,children:(0,f.jsx)(a.xv,{align:"center",color:"default",weight:"bold",children:this.props.i18n._("Drag and drop or click to upload","Label on drag/drop area for uploading a pin","Label on drag/drop area for uploading a pin")})})]})}renderImage(){const{height:e,imagePreviewSrc:t,width:n}=this.props,i=this.props.i18n._("Your Upload","Image a pinner just uploaded to a form","Image a pinner just uploaded to a form");return this.isPin?(0,f.jsx)("img",{alt:i,src:t}):(0,f.jsx)(a.xu,{height:e,width:n,children:(0,f.jsx)(a.Ee,{alt:i,src:t,color:"white",naturalHeight:e,naturalWidth:n})})}renderResetButton(){return(0,f.jsx)(a.xu,{top:!0,left:!0,position:"absolute",margin:2,children:(0,f.jsx)(a.hU,{accessibilityLabel:this.props.i18n._("Remove Photo","Remove photo from a form","Remove photo from a form"),bgColor:"lightGray",icon:"clear",iconColor:"darkGray",onClick:this.clear,size:"sm"})})}renderContent(){const{height:e,imagePreviewSrc:t,isHovering:n,isVideo:o,isVideoComplete:r,isOver:s,thumbnail:l,videoUrls:d,allowReset:c=!0,width:u}=this.props,h=d?(0,f.jsx)("video",{height:this.isPin?"auto":e,width:u,autoPlay:!0,controls:!0,loop:!0,poster:l||"",children:Object.keys(d).map((e=>(0,f.jsx)("source",{src:d[e],type:"hls"===e?"m3u8":"video/mp4"},e)))}):null,p=s?"lightGray":"white";return(0,f.jsxs)(i.Fragment,{children:[(0,f.jsx)(a.zd,{rounding:2,height:"100%",children:(0,f.jsxs)(a.xu,{color:p,height:"100%",width:"100%",justifyContent:"center",alignItems:"center",display:"flex",children:[!t&&!o&&this.renderDropZone(),o&&!d&&(0,f.jsxs)(a.xu,{children:[r&&(0,f.jsx)(a.xv,{align:"center",weight:"bold",children:this.props.i18n._("Processing Video","Loading message shown while user video is uploading","Loading message shown while user video is uploading")}),(0,f.jsx)(a.xu,{paddingY:4,children:(0,f.jsx)(a.$j,{show:!0,accessibilityLabel:this.props.i18n._("Video uploading","Loading spinner while video uploads","Loading spinner while video uploads")})})]}),h,t&&this.renderImage()]})}),(t||d)&&c&&n&&this.renderResetButton()]})}render(){const{connectDropTarget:e,height:t,imagePreviewSrc:n,onClick:i,videoUrls:o,width:r,hoverHandlers:{onMouseOver:s,onMouseLeave:l}}=this.props,d=this.isPin?"auto":t,c={width:r,border:this.isPin?0:"2px dashed #767676",borderRadius:"10px",cursor:n?"default":"pointer",height:d,marginLeft:"auto",marginRight:"auto",outline:"none",padding:0},u=(0,f.jsxs)(a.xu,{position:"relative",children:[this.renderProgressBar(),n||o?(0,f.jsx)("div",{onMouseEnter:s,onMouseLeave:l,style:{...c},children:this.renderContent()}):(0,f.jsx)("button",{style:c,onClick:i,onMouseEnter:s,onMouseLeave:l,children:this.renderContent()})]});return e((0,f.jsx)("div",{children:u}))}}const y=(0,p.GR)((e=>e.accepts),{drop:(e,t)=>{e.onDrop&&e.onDrop(e,t)}},((e,t)=>({connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:t.canDrop()})))((function(e){const t=(0,g.ZP)(),{isHovering:n,hoverHandlers:i}=(0,m.Z)();return(0,f.jsx)(x,{...e,i18n:t,isHovering:n,hoverHandlers:i})}));function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const v=["video/quicktime","video/mp4"];class C extends i.Component{constructor(...e){var t;super(...e),t=this,b(this,"state",{imagePreviewSrc:this.props.existingImageSrc||"",isVideo:!1,isVideoComplete:!1,thumbnail:null,videoUrls:null,errorFlyout:null,progress:0}),b(this,"mounted",!1),b(this,"containerRef",null),b(this,"fileInputRef",null),b(this,"xhr",null),b(this,"CHECK_VIDEO_TIMEOUT",null),b(this,"ERROR_MESSAGE",this.props.i18n._("Unable to upload video. Please try again later.","Error shown when we can't accept video uploads","Error shown when we can't accept video uploads")),b(this,"handleFileDrop",((e,t)=>{if(t&&(!this.xhr||4===this.xhr.readyState)){const e=t.getItem().files[0];this.handleFile(e)}})),b(this,"handleFile",(e=>{const{onImageUploadStart:t}=this.props;e.size>2e9?this.showError(this.props.i18n._("The video is too large. The maximum size is 2 GB.","Error if a user tries to upload a video that is too large","Error if a user tries to upload a video that is too large")):(this.props.allowVideo&&v.includes(e.type)&&this.setState({isVideo:!0}),this.loadMedia(e),t&&t())})),b(this,"showError",(e=>{const t=(0,f.jsx)(a.J2,{color:"red",anchor:this.containerRef,idealDirection:this.props.idealErrorDirection,onDismiss:()=>this.setState({errorFlyout:null}),size:"sm",shouldFocus:!1,children:(0,f.jsx)(a.xu,{padding:3,children:(0,f.jsx)(a.xv,{color:"inverse",weight:"bold",children:(0,f.jsx)("span",{children:e})})})});this.removePreview(t)})),b(this,"openFileDialog",(()=>{this.state.imagePreviewSrc||this.state.isVideo||(this.props.logContextEvent({event_type:101,component:192,element:1156}),this.fileInputRef&&this.fileInputRef.click())})),b(this,"openFile",(e=>{const t=e.target.files[0];this.handleFile(t)})),b(this,"removePreview",(e=>{this.setState({imagePreviewSrc:"",progress:0,isVideo:!1,isVideoComplete:!1,videoUrls:null,errorFlyout:e}),this.fileInputRef&&(this.fileInputRef.value=""),this.xhr&&this.xhr.abort&&(this.xhr.abort(),this.xhr=null),this.CHECK_VIDEO_TIMEOUT&&clearTimeout(this.CHECK_VIDEO_TIMEOUT),this.props.onReset&&this.props.onReset()})),b(this,"checkForMedia",(async function(e){const n=await u.ZP.create("VIPResource",{upload_ids:[e]}).callGet();if(n.resource_response&&n.resource_response.data&&n.resource_response.data[e]){const i=n.resource_response.data[e],{status:o,signature:r}=i;"processing"===o||"registered"===o?t.CHECK_VIDEO_TIMEOUT=setTimeout((()=>t.checkForMedia(e)),1e3):"succeeded"===o?t.handleMediaUploadSuccess(r,e):t.showError(t.ERROR_MESSAGE)}else t.showError(t.ERROR_MESSAGE)})),b(this,"loadMedia",(e=>{const{isVideo:t}=this.state,n=t?"video":"triedit-image";u.ZP.create("VIPResource",{type:n}).callCreate().then((t=>{var n,i;const{upload_id:o,upload_url:r,upload_parameters:s}=null!==(n=null===(i=t.resource_response)||void 0===i?void 0:i.data)&&void 0!==n?n:{};this.uploadMedia(e,o,r,s)}),(()=>{this.showError(this.ERROR_MESSAGE)}))})),b(this,"uploadMedia",((e,t,n,i)=>{const{isVideo:o}=this.state,r=new XMLHttpRequest;r.open("POST",n,!0),r.onload=()=>{(e=>e>=200&&e<400)(r.status)?this.setState({errorFlyout:null,isVideoComplete:o}):this.showError(this.props.i18n._("Something went wrong. Please try again later.","Error if video fails to upload","Error if video fails to upload")),this.checkForMedia(t)},r.upload.onprogress=e=>{const t=Math.round(99*e.loaded/e.total);this.setState({progress:t})};const s=new FormData;for(const a in i)s.append(a,i[a]);s.append("file",e),r.send(s),this.xhr=r}))}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}async handleMediaUploadSuccess(e,t){const{isVideo:n}=this.state,{width:i,height:o}=this.props;if(n){const n=await u.ZP.create("VideoUrlsResource",{signatures:[e]}).callGet();this.handleVideoUploadSuccess(n,e,t)}else{const t=((e,t="1200x")=>e&&`https://i.pinimg.com/${t}/${e.substring(0,2)}/${e.substring(2,4)}/${e.substring(4,6)}/${e}.jpg`||"")(e);this.setState({imagePreviewSrc:t,progress:100}),this.props.onImageUploadFinished({image:{url:t,width:i,height:o}})}}handleVideoUploadSuccess(e,t,n){if(!this.mounted)return;const i=e.resource_response.data,o=`https://i.pinimg.com/${i[t].metadata.thumbnail}`,r=i[t].urls;this.setState({videoUrls:r,thumbnail:o,progress:100});const s=new XMLHttpRequest;s.onload=()=>{const e=new FileReader;e.readAsDataURL(s.response),e.onloadend=()=>{var t;this.props.onImageUploadFinished({video:{uploadId:n,imageBase64:null!==(t=e.result)&&void 0!==t?t:""}})}},s.open("GET",o),s.responseType="blob",s.send()}render(){const{FILE:e}=c.hm,{errorFlyout:t,imagePreviewSrc:n,isVideo:i,isVideoComplete:o,progress:r,thumbnail:s,videoUrls:l}=this.state,{allowReset:d,allowVideo:u,display:h,height:p,width:m}=this.props,g=u?"image/*,video/mp4,video/quicktime":"image/*";return(0,f.jsxs)(a.xu,{ref:e=>{this.containerRef=e},children:[(0,f.jsx)(a.xu,{display:"visuallyHidden",children:(0,f.jsx)("input",{accept:g,onChange:this.openFile,ref:e=>{this.fileInputRef=e},type:"file"})}),(0,f.jsx)(y,{allowReset:d,onClick:this.openFileDialog,handleRemoveClick:this.removePreview,imagePreviewSrc:n,accepts:[e],onDrop:this.handleFileDrop,height:p,width:m,progress:r,isVideo:i,isVideoComplete:o,videoUrls:l,thumbnail:s,display:h}),t]})}}b(C,"defaultProps",{onImageUploadStart:()=>{}});const w=function(e){const{logContextEvent:t}=(0,h.v)(),n=(0,g.ZP)();return(0,f.jsx)(C,{...e,i18n:n,logContextEvent:t})};var k=n(645079),D=n(647136),j=n(249832),E=n(355650),I=n(358142),T=n(708206);function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const P=1e3,A=/#[^(. #,\/$%\^&\*;:{}=\`~()\[\]@|<>)]*$/;class R extends i.PureComponent{constructor(e){super(e),S(this,"setTextAreaRef",(e=>{this._textAreaRef=e})),S(this,"handleTextInputChange",(({value:e})=>{this.setState({notes:e.substring(0,P)}),e.length>P?this.forceUpdate():this.handleHashtagTypeahead(e)})),S(this,"handleHashtagTypeahead",(e=>{const t=A.exec(e),n=t?t[0]:"";!this.state.inTypeahead&&n?this.setState({inTypeahead:!0,typeaheadValue:n}):this.state.inTypeahead&&(n?this.setState({typeaheadValue:n}):this.setState({inTypeahead:!1,typeaheadValue:""}))})),S(this,"addHashtag",(e=>{this.setState((t=>({inTypeahead:!1,notes:t.notes.replace(A,e),typeaheadValue:""})))})),S(this,"uploadImageAndCreateDidIt",(()=>{const e={image_url:this.state.imageUrlToSend};u.ZP.create("DidItImageUploadResource",e).callCreate().then((e=>{const{data:{image_signature:t}}=e.resource_response;return this.createUpdateDidIt(t)})).catch((()=>this.createUpdateDidIt()))})),S(this,"handleImageReset",(()=>this.setState({imageUrlToSend:null}))),S(this,"handleFinishImageUpload",(e=>{e.image&&this.setState({imageUrlToSend:e.image.url})})),S(this,"handleDoneClick",(()=>{const{pinId:e,logContextEvent:t}=this.props;t({event_type:101,view_type:101,component:192,element:1112,object_id_str:e}),this.setState({submitted:!0}),this.handleDoneSubmission()})),S(this,"handleDoneSubmission",(()=>{const{imageUrlToSend:e}=this.state,{pinActivity:t}=this.props;if(e){if(!t||e!==t.oldImageUrl)return this.uploadImageAndCreateDidIt();if(t.imageSignatures&&t.imageSignatures.length>0)return this.createUpdateDidIt(t.imageSignatures[0])}return this.createUpdateDidIt()})),S(this,"handleCancel",(()=>{const{onDoneStateChanged:e}=this.props;e&&e(!1)})),S(this,"handleDeleteConfirmation",(e=>{const{aggregatedPinDataId:t,deleteUserDidItData:n,isDoneByMe:i,loggedInUser:{username:o},onDoneStateChanged:r,pinId:s,logContextEvent:a}=this.props;this.setState({showDeleteModal:!1}),e&&(a({event_type:101,view_type:101,component:192,element:1264,object_id_str:s}),n({aggregatedPinDataId:t,pinId:s,username:o,id:e,isOwnedByMe:!0}),r&&r(i))})),S(this,"handleShowDeleteModal",(()=>this.setState({showDeleteModal:!0})));const t=e.pinActivity||{};this.state={id:t.id||null,imageUrlToSend:t.oldImageUrl||null,inTypeahead:!1,notes:t.notes||"",showDeleteModal:!1,submitted:!1,typeaheadValue:""}}createUpdateDidIt(e){const{aggregatedPinDataId:t,createUserDidItData:n,isDoneByMe:i,loggedInUser:{username:o},onDoneStateChanged:r,pinId:s,toastManagerContext:a,updateUserDidItData:l}=this.props,{id:d,notes:c}=this.state;if(!c)return;i?d&&l({id:d,pinId:s,details:c,image_signatures:e?[e]:[]}):n({aggregatedPinDataId:t,username:o,details:c,image_signatures:e?[e]:[],pin_id:s}),r&&r(!i);-1===window.location.href.indexOf(o+"/tried")&&a.showToast((({onHide:e})=>(0,f.jsx)(D.ZP,{duration:3e3,href:`/${o}/tried/`,onHide:e,text:this.props.i18n._("Nice work! Pins you've tried live on your profile","Congratulations after trying a pin","Congratulations after trying a pin")})))}render(){const{imageUrlToSend:e,notes:t,showDeleteModal:n,submitted:i}=this.state,{isDoneByMe:o,pinActivity:r}=this.props,s=!!e&&(r||{}).oldImageUrl!==e,l=!!e,c=r&&r.notes!==t,u=!!t&&""!==t.trim(),h=!l||!u||!c&&!s;return(0,f.jsxs)(a.xu,{children:[(0,f.jsx)(a.xu,{marginTop:4,paddingX:12,children:(0,f.jsx)(a.xu,{column:12,children:(0,f.jsx)(a.xu,{paddingY:e?0:10,dangerouslySetInlineStyle:{__style:{transition:"padding-top 0.2s ease"}},children:(0,f.jsx)(a.xu,{display:"flex",column:12,marginBottom:2,color:"transparent",rounding:2,alignItems:"center",justifyContent:"center",children:(0,f.jsx)(w,{display:"image",existingImageSrc:e,onImageUploadFinished:this.handleFinishImageUpload,idealErrorDirection:"up",onReset:this.handleImageReset,height:366,width:366,uploadSource:"pinner"})})})})}),(0,f.jsx)(a.xu,{height:e?"auto":0,opacity:e?1:0,dangerouslySetInlineStyle:{__style:{transition:"opacity 0.2s ease",transitionDelay:"0.2s",visibility:e?"visible":"hidden"}},children:(0,f.jsxs)(a.xu,{width:366,margin:3,marginStart:"auto",marginEnd:"auto",children:[(0,f.jsx)(a.xu,{ref:this.setTextAreaRef,children:(0,f.jsx)(a.Kx,{id:"trynotes",onChange:this.handleTextInputChange,placeholder:this.props.i18n._("Add a note or tip","Tip input for tried it","Tip input for tried it"),value:t})}),this.state.inTypeahead&&this._textAreaRef?(0,f.jsx)(k.Z,{editing:!0,addHashtag:this.addHashtag,anchor:this._textAreaRef,query:this.state.typeaheadValue,idealDirection:"up"}):null,t.length>900&&(0,f.jsx)(a.xu,{paddingY:1,children:(0,f.jsxs)(a.xv,{size:"md",align:"end",children:[" ",t.length,"/",P," "]})})]})}),(0,f.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"end",children:[n&&(0,f.jsx)(d.Z,{didItData:r,onDeleteConfirmation:this.handleDeleteConfirmation}),i?(0,f.jsx)(a.xu,{marginEnd:2,children:(0,f.jsx)(a.$j,{accessibilityLabel:this.props.i18n._("submit","accessible label for loading spinner on submit button","accessible label for loading spinner on submit button"),show:!0})}):null,(0,f.jsxs)(a.xu,{display:"flex",marginBottom:3,marginEnd:4,children:[o?(0,f.jsx)(a.xu,{marginEnd:1,children:(0,f.jsx)(a.zx,{onClick:this.handleShowDeleteModal,text:this.props.i18n._("Delete","delete button in modal for tried-it info","delete button in modal for tried-it info"),size:"md"})}):(0,f.jsx)(a.xu,{marginEnd:1,children:(0,f.jsx)(a.zx,{onClick:this.handleCancel,text:this.props.i18n._("Cancel","cancel button in modal for tried-it info","cancel button in modal for tried-it info"),size:"md"})}),(0,f.jsx)(a.xu,{children:(0,f.jsx)(a.zx,{color:"red",disabled:h,onClick:this.handleDoneClick,text:this.props.i18n._("Done","done button in modal for tried-it info","done button in modal for tried-it info"),size:"md"})})]})]})]})}}const M=(0,T.compose)((0,l.connect)(null,((e,t)=>({createUserDidItData:(0,T.bindActionCreators)(E.DD,e),deleteUserDidItData:(0,T.bindActionCreators)(E.lg,e),updateUserDidItData:(0,T.bindActionCreators)(E.IU,e)}))),j.Z,I.Cl)((function(e){const{logContextEvent:t}=(0,h.v)(),n=(0,g.ZP)();return(0,f.jsx)(R,{...e,i18n:n,logContextEvent:t})}));function O(e){if(!e)return null;const{details:t,images:n,image_signatures:i,id:o}=e;return{id:o,imageSignatures:i,notes:t,oldImageUrl:n[0]["200x"].url}}class L extends i.Component{constructor(...e){var t,n,i;super(...e),i=e=>{const{onDoneStateChanged:t,pinActivityResource:n}=this.props;t&&t(e),e&&n&&n.refresh&&n.refresh()},(n="onDoneStateChanged")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}render(){const{onDoneStateChanged:e,pinActivityResource:t,pinTitle:n,userDidItDataId:i,...o}=this.props;return!t||t&&t.isLoaded?(0,f.jsx)(a.xu,{rounding:2,children:(0,f.jsx)(M,{onDoneStateChanged:this.onDoneStateChanged,pinActivity:O(t&&t.data),...o})}):(0,f.jsx)(r.Z,{})}}function F(e){const t=(0,s.Z)({name:"DidItUserPinActivityResource",options:{aggregated_pin_data_id:e.aggregatedPinDataId,username:"me"},noCache:!0});return(0,f.jsx)(L,{...e,pinActivityResource:t})}function Z(e){const t=(0,s.Z)({name:"DidItActivityResource",options:{user_did_it_data_id:e.userDidItDataId,username:"me"},noCache:!0});return(0,f.jsx)(L,{...e,pinActivityResource:t})}function z(e){return e.isDoneByMe&&e.userDidItDataId?(0,f.jsx)(Z,{...e}):e.isDoneByMe?(0,f.jsx)(F,{...e}):(0,f.jsx)(L,{...e})}var U=n(126684),B=n(912265);const N=(0,n(648925).Z)((e=>{const{title:t}=e.richMetadata;return t?{...e,title:t}:null}));var G=n(916389);class H extends i.PureComponent{render(){const{aggregatedPinDataId:e,isDoneByMe:t,loggedInUser:n,onDoneStateChanged:i,onHide:s,pinId:l,pinResource:d,pinTitle:c,userDidItDataId:u}=this.props;if(!d.isLoaded)return(0,f.jsx)(r.Z,{});const{title:h}=N((0,B.Z)((0,U.Z)({pin:d.data})))||{},p=c||h?(0,o.Z)(this.props.i18n._("Add a photo of {{pinTitle}}","Adding photo of a pin","Adding photo of a pin"),{pinTitle:c||h}):this.props.i18n._("Add a photo","Adding a photo","Adding a photo");return(0,f.jsx)(G.ZP,{accessibilityModalLabel:p,heading:p,onDismiss:s,size:500,children:(0,f.jsx)(a.xu,{color:"white",rounding:2,display:"flex",justifyContent:"center",children:(0,f.jsx)(z,{aggregatedPinDataId:e,isDoneByMe:t,loggedInUser:n,onDoneStateChanged:i,pinId:l,pinTitle:c||h,userDidItDataId:u})})})}}function q(e){const t=(0,g.ZP)(),n=(0,s.Z)({name:"PinResource",options:{field_set_key:"detailed",id:e.pinId}});return(0,f.jsx)(H,{...e,pinResource:n,i18n:t})}var $=n(786654);function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class W extends i.PureComponent{constructor(...e){super(...e),V(this,"state",{showModal:!1}),V(this,"onTriedItButtonClick",this.props.requireAuth((({event:e})=>{e&&e.stopPropagation(),this.handleModalStateChange(!0),this.props.logContextEvent({event_type:101,view_type:101,component:this.props.thriftComponentType,element:1141,object_id_str:this.props.pinId,aux_data:{is_create:!this.props.isDoneByMe}})}))),V(this,"handleHideModal",(()=>{this.handleModalStateChange(!1),this.props.logContextEvent({event_type:101,view_type:101,component:192,element:75,object_id_str:this.props.pinId})})),V(this,"onModalDoneStateChanged",(e=>{this.handleModalStateChange(!1,e)})),V(this,"handleModalStateChange",((e,t)=>{const{onDoneStateChanged:n,onToggleModal:i}=this.props;this.setState({showModal:e},(()=>{e||n&&n("boolean"==typeof t&&t),i&&i(e)}))}))}render(){const{aggregatedPinDataId:e="",isDoneByMe:t=!1,loggedInUser:n={id:"",username:""},pinId:o="",pinTitle:r,userDidItDataId:s}=this.props;return(0,f.jsxs)(i.Fragment,{children:[this.props.children({onTriedItButtonClick:this.onTriedItButtonClick}),this.state.showModal?(0,f.jsx)(q,{aggregatedPinDataId:e,isDoneByMe:t,loggedInUser:n,onDoneStateChanged:this.onModalDoneStateChanged,onHide:this.handleHideModal,pinId:o,pinTitle:null!=r?r:"",userDidItDataId:s}):null]})}}function K(e){const{logContextEvent:t}=(0,h.v)(),n=(0,$.Z)();return(0,f.jsx)(W,{...e,requireAuth:n,logContextEvent:t})}},362038:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(324288),o=n(263116),r=n(785893);const s=(0,o.ZP)({resolved:{},chunkName:()=>"EditorWithMentionsInternal",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(89333),n.e(35978)]).then(n.bind(n,549075)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 549075}});function a(e){return(0,r.jsx)(s,{...e,fallback:(0,r.jsx)(i.Z,{})})}},324288:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(710159),o=n(883119),r=n(785893);function s(){const e=(0,i.ZP)();return(0,r.jsx)(o.kC,{alignItems:"center",justifyContent:"center",children:(0,r.jsx)(o.$j,{accessibilityLabel:e._("Loading editor","EditorWithMentionsFallback.loading","Message shown while waiting for the editor to load"),show:!0})})}},125560:(e,t,n)=>{n.d(t,{SF:()=>i,XU:()=>r,b7:()=>o});const i=5,o=5,r=1},317295:(e,t,n)=>{n.d(t,{N:()=>c,Z:()=>h});var i=n(628885),o=n(144977),r=n(710159),s=n(123686),a=n(883119),l=n(785893);const d={__path:"M21 14.09a2.1 2.1 0 01-2.11 2.08 2.1 2.1 0 012.11 2.1 2.1 2.1 0 01-2.11 2.08H16.5c1.02 0 1.85.82 1.85 1.82 0 1.01-.83 1.83-1.85 1.83H9.9A7.87 7.87 0 012 16.17c0-2.2.93-4.2 2.41-5.61 2.19-2.3 3.4-5.3 3.4-8.47A2.1 2.1 0 019.9 0a2.1 2.1 0 012.12 2.09c0 1.99-.37 3.92-1.05 5.74h7.9A2.1 2.1 0 0121 9.9a2.1 2.1 0 01-2.11 2.1A2.1 2.1 0 0121 14.09z"};function c(e){const t=(0,r.ZP)(),{helpfulCount:n,isMarkedHelpfulByMe:i,onHelpfulClick:o}=e,c=t._("Helpful","Comments marked helpful text.","Comments marked helpful text."),u=(0,s.nk)(t._("Helpful {{helpfulCount}}","Comments marked helpful count text.","Comments marked helpful count text."),{helpfulCount:n||0});return(0,l.jsx)(a.kC,{alignItems:"center",justifyContent:"center",children:(0,l.jsx)(a.iP,{onTap:o,rounding:2,children:(0,l.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,l.jsx)(a.JO,{accessibilityLabel:"helpful icon",dangerouslySetSvgPath:d,color:i?"red":"gray",size:16}),(0,l.jsx)(a.xu,{paddingX:1,children:(0,l.jsx)(a.xv,{size:"sm",color:"subtle",weight:"bold",children:void 0!==n&&n>0?u:c})})]})})})}function u(e){const{likeCount:t,isLikedByMe:n,onLikeClick:i}=e;return(0,l.jsx)(a.kC,{alignItems:"center",justifyContent:"center",children:(0,l.jsx)(a.iP,{onTap:i,rounding:2,children:(0,l.jsxs)(a.xu,{display:"flex","data-test-id":"reactions-likeWithCountButton",children:[(0,l.jsx)(a.JO,{accessibilityLabel:"like icon",icon:"heart",color:n?"red":"gray",size:16}),t>0&&(0,l.jsx)(a.xu,{paddingX:1,"data-test-id":"reactions-likeCount",children:(0,l.jsx)(a.xv,{size:"sm",color:"subtle",weight:"bold",children:t})})]})})})}function h(e){const t=(0,r.ZP)(),{commentCount:n=0,reactionCounts:s={},hideReplyCount:d,isLikedByMe:h=!1,onLikeClick:p,onReplyClick:m,onReplyCountClick:g,isMarkedHelpfulByMe:f,onHelpfulClick:_,helpfulCount:x,flyout:y,small:b}=e,v=s[1]||0,C=!!n&&(0,i.Z)(t.ngettext("{{commentCount}} reply","{{commentCount}} replies",n," - "," -- "),{commentCount:n}),w=b?1:2;return(0,l.jsxs)(a.kC,{alignItems:"center",children:[(0,l.jsxs)(a.xu,{display:"flex",marginStart:-w,marginEnd:-w,children:[(0,l.jsx)(u,{likeCount:v,isLikedByMe:h,onLikeClick:p}),(0,l.jsx)(a.xu,{paddingX:w,children:(0,l.jsx)(o.Z,{id:"reactions-reply",children:(0,l.jsx)(a.hU,{accessibilityLabel:"Reply",bgColor:"transparent",icon:"speech",iconColor:"gray",onClick:m,size:b?"sm":"md"})})}),!!y&&(0,l.jsx)(a.xu,{paddingX:w,children:y})]}),(0,l.jsxs)(a.xu,{display:"flex",flex:"grow",justifyContent:"end",marginStart:-3,marginEnd:-3,children:[!!C&&!d&&(0,l.jsx)(o.Z,{id:"reactions-reply-count",children:(0,l.jsx)(a.xu,{paddingX:3,children:g?(0,l.jsx)(a.iP,{onTap:g,rounding:2,children:(0,l.jsx)(a.xv,{size:"md",color:"subtle",weight:"bold",children:C})}):(0,l.jsx)(a.xv,{size:"md",color:"subtle",weight:"bold",children:C})})}),(0,l.jsx)(c,{helpfulCount:x,isMarkedHelpfulByMe:f,onHelpfulClick:_})]})]})}},912265:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(0,n(648925).Z)((e=>{const{rich_metadata:t}=e.pin;return t?{...e,richMetadata:t}:null}))},693618:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(710159),o=n(883119),r=n(785893);function s({handleFollowClick:e,isFollowing:t,isSelf:n,disabled:s,isSecondaryColor:a}){const l=(0,i.ZP)(),d=t?l._("Unfollow"," - "," -- "):l._("Follow"," - "," -- ");return n?(0,r.jsx)(o.zx,{disabled:!0,text:l._("That's you!","Text describing that the person's avatar is you","Text describing that the person's avatar is you")}):(0,r.jsx)(o.zx,{color:t||a?"gray":"red",onClick:e,text:d,disabled:s})}},422284:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(667294),o=n(40142),r=n(156575),s=n(693618),a=n(667851),l=n(883119),d=n(461694),c=n(785893);function u({isSelf:e,showVerified:t=!1,user:n={}}){const[u,h]=(0,i.useState)(n.explicitly_followed_by_me||!1),p=(0,o.useDispatch)(),{domain_verified:m,full_name:g,is_verified_merchant:f,username:_}=n,x=n.image_key||n.image_medium_url||n.image_small_url;return(0,c.jsxs)(l.xu,{alignItems:"center",direction:"row",display:"flex",marginStart:-1,marginEnd:-1,paddingY:1,children:[(0,c.jsx)(l.xu,{flex:"grow",paddingX:1,children:(0,c.jsx)(l.iP,{role:"link",href:`/${_}/`,children:(0,c.jsxs)(l.kC,{alignItems:"center",justifyContent:"start",gap:2,children:[(0,c.jsx)(l.xu,{width:50,children:(0,c.jsx)(r.Z,{name:g,src:x,size:"fit"})}),(0,c.jsx)(l.xv,{weight:"bold",children:t&&(f||m)?(0,c.jsx)(a.Z,{badgeSize:"sm",badgeSpacing:2,fullName:null!=g?g:"",identityIsVerified:m,isVerifiedMerchant:f}):g})]})})}),(0,c.jsx)(l.xu,{paddingX:1,children:(0,c.jsx)(s.Z,{handleFollowClick:()=>{u?(p((0,d.fv)(n.id)),h(!1)):(p((0,d.ZN)(n.id)),h(!0))},isFollowing:u,isSelf:Boolean(e)})})]})}},422042:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(916389),o=n(710159),r=n(883119),s=n(785893);function a({onDeleteConfirmation:e,didItData:t}){const n=(0,o.ZP)(),a=t&&t.id,l=n._("Are you sure?","Confirmation dialog for deleting data","Confirmation dialog for deleting data");return(0,s.jsx)(i.ZP,{accessibilityModalLabel:n._("Are you sure you want to delete the did it photo?","Label for a modal showing to confirm deleting a did it photo","Label for a modal showing to confirm deleting a did it photo"),heading:l,onDismiss:()=>e(null),size:"sm",role:"alertdialog",footer:(0,s.jsxs)(r.xu,{display:"flex",justifyContent:"end",marginEnd:-1,marginStart:-1,children:[(0,s.jsx)(r.xu,{padding:1,children:(0,s.jsx)(r.zx,{fullWidth:!0,onClick:()=>e(null),size:"lg",text:n._("Cancel","Cancel the deleting data in a modal form","Cancel the deleting data in a modal form")})}),(0,s.jsx)(r.xu,{padding:1,children:(0,s.jsx)(r.zx,{fullWidth:!0,color:"red",onClick:()=>e(a),size:"lg",text:n._("Delete","Confirmation of deleting data","Confirmation of deleting data")})})]}),children:(0,s.jsx)(r.xu,{paddingX:4,paddingY:2,children:(0,s.jsx)(r.xv,{children:n._("This will remove this photo","Confirmation dialog for deleting data","Confirmation dialog for deleting data")})})})}},822015:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(710159),o=n(883119),r=n(785893);function s(){const e=(0,i.ZP)();return(0,r.jsx)(o.xu,{alignItems:"center",color:"white",display:"flex",height:155,justifyContent:"center",rounding:2,width:300,dangerouslySetInlineStyle:{__style:{outline:"none"}},children:(0,r.jsx)(o.$j,{accessibilityLabel:e._("Tried it"," - "," -- "),show:!0})})}},773613:(e,t,n)=>{n.d(t,{Z:()=>z});var i=n(667294),o=n(40142),r=n(422042),s=n(710159),a=n(703680),l=n(883119),d=n(785893);function c(e){const t=(0,s.ZP)();return(0,d.jsx)(a.Z,{thriftComponentType:193,...e,children:({onTriedItButtonClick:e})=>(0,d.jsx)("button",{style:{background:"none",border:"none",padding:"0"},onClick:e,children:(0,d.jsx)(l.xu,{paddingY:1,paddingX:2,children:(0,d.jsx)(l.xv,{weight:"bold",children:t._("Save","comment save button","comment save button")})})})})}var u=n(490914),h=n(916389),p=n(724207),m=n(628885);const g="__SafeLinkFlag__",f=({html:e,onClick:t})=>{const n=t||null,i=[],o=(e=(e=e||"").replace(/#[^(\-\\.\s#,\/$%\^&\*;:{}=\`~()\[\]@|<>)]+/gi,(e=>(i.push({url:`/search/pins/?q=${encodeURIComponent(e)}&rs=hashtag_closeup`,text:e}),g)))).replace(/<a[\s]+href=['"]([^'"<>]+)['"][^>]*>([^<]*)<\/a>/gi,((e,t,n)=>(i.push({url:t,text:n}),g)));return(0,d.jsx)(l.xu,{"data-test-id":"safe-link",children:o.split(new RegExp("(__SafeLinkFlag__)")).filter((e=>e.length>0)).map(((e,t)=>{let o=e;if(e===g&&i.length){const{url:e,text:t}=i.shift();o=(0,d.jsx)(l.rU,{onClick:n||void 0,href:e,inline:!0,children:t})}return(0,d.jsx)(l.xv,{color:"shopping",weight:"bold",inline:!0,children:o},t)}))})};var _=n(570993);function x(e){var t;const{item:{images:n,pin:i}}=e,o=n.length>0,r=o?n[0]["750x"]:null;if(!o||!r)return null;const s=n[0]["750x"].url;return(0,d.jsx)(l.zd,{rounding:2,wash:!0,children:(0,d.jsx)(l.Ee,{alt:null!==(t=i.title)&&void 0!==t?t:"",src:s,color:"#efefef",naturalWidth:r.width,naturalHeight:r.height},s)})}var y=n(876447),b=n(456168),v=n(708206),C=n(498953),w=n(947144),k=n(694715),D=n(891037),j=n(317295),E=n(123686),I=n(602482),T=n(539195),S=n(971415),P=n(102219),A=n(786654),R=n(355650),M=n(525722);function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const L={background:"none",border:"none",padding:"0",width:"100%"},F=({isLikedByMe:e,onClick:t})=>{const n=(0,s.ZP)(),i=(0,A.Z)({shouldStopEventPropagation:!1});return(0,d.jsx)(l.hU,{accessibilityLabel:n._("Like"," - "," -- "),icon:"heart",iconColor:e?"red":"gray",onClick:i((()=>t())),size:"md"})};class Z extends i.PureComponent{constructor(...e){super(...e),O(this,"state",{isLikedByMe:this.props.item.liked_by_me,isReportedByMe:!1,likeCount:this.props.item.like_count,showDeleteModal:!1,showEditModal:!1,showFlyout:!1,showLikesListModal:!1,showReportModal:!1,showShareFlyout:!1,isDeleteHover:!1,isReportHover:!1}),O(this,"handleClickthrough",(()=>{const{handlePinClickLogging:e,logContextEvent:t,item:{id:n}}=this.props;e&&e(),t({event_type:101,component:172,element:1263,object_id_str:n})})),O(this,"handleClickHashTag",(()=>{const{logContextEvent:e,item:{id:t}}=this.props;e({event_type:101,component:172,element:10194,object_id_str:t})})),O(this,"handleToggleLikesListModal",(()=>this.setState((({showLikesListModal:e})=>({showLikesListModal:!e}))))),O(this,"handleClickLike",(()=>{const{item:{id:e},viewType:t,logContextEvent:n}=this.props,{isLikedByMe:i,likeCount:o}=this.state;n({event_type:101,component:172,element:1353,object_id_str:e,view_type:t});const r=p.ZP.create("DidItLikeResource",{didItDataId:e});var s,a;return this.setState({isLikedByMe:!i,likeCount:(s=o,a=i,a?s-1:s+1)}),i?r.callDelete({showError:!1}):r.callCreate()})),O(this,"handleToggleFlyout",(()=>this.setState((({showFlyout:e})=>({showFlyout:!e,showShareFlyout:!1}))))),O(this,"handleShowShareFlyout",(()=>this.setState({showShareFlyout:!0}))),O(this,"handleDismissFlyout",(()=>{this.state.showEditModal||this.setState({showFlyout:!1,showShareFlyout:!1})})),O(this,"handleShowReportModal",(()=>this.setState({showReportModal:!0}))),O(this,"handleHideReportModal",(e=>()=>{const{item:{id:t},removeReportedActivity:n}=this.props;this.setState({showReportModal:!1}),n&&this.state.isReportedByMe&&e&&n(t)})),O(this,"handleShowDeleteModal",(()=>this.setState({showDeleteModal:!0}))),O(this,"handleDeleteConfirmation",(e=>{const{item:{id:t,pin:{aggregated_pin_data:n={},id:i},user:o},deleteUserDidItData:r,logContextEvent:s}=this.props;if(this.setState({showDeleteModal:!1}),!e||!o)return;const{username:a}=o;s({event_type:101,view_type:101,component:192,element:1264,object_id_str:i}),r({aggregatedPinDataId:null==n?void 0:n.id,id:t,isOwnedByMe:this.isOwnedByCurrentUser,pinId:i,username:a})})),O(this,"handleToggleEditModal",(e=>this.setState({showEditModal:e,showFlyout:e}))),O(this,"handleClickHelpful",(()=>{const{didItDataId:e,item:{marked_helpful_by_me:t},toggleHelpful:n}=this.props;n({didItDataId:e,isMarkedHelpfulByMe:!!t})})),O(this,"handleDeleteMouseEnter",(()=>this.setState({isDeleteHover:!0}))),O(this,"handleDeleteMouseLeave",(()=>this.setState({isDeleteHover:!1}))),O(this,"handleReportMouseEnter",(()=>this.setState({isReportHover:!0}))),O(this,"handleReportMouseLeave",(()=>this.setState({isReportHover:!1}))),O(this,"renderFlyout",(()=>{var e,t,n;const{creatorId:i,item:{details:o,id:r,images:s,pin:a,privacy:u,user:h},viewer:p}=this.props,{aggregated_pin_data:m={},id:g,images:f={},link_domain:x={},rich_metadata:y={},title:b}=a||{},{showFlyout:v,showShareFlyout:C}=this.state,w=(x||{}).official_user||{},k=(y||{}).title,D={description:o,id:r,imageUrl:s.length>0?null==s||null===(e=s[0])||void 0===e||null===(t=e["550x"])||void 0===t?void 0:t.url:null===(n=f["136x136"])||void 0===n?void 0:n.url,name:k||this.props.i18n._("this idea"," - "," -- "),type:I.d.DID_IT,url:`/pin/${g}/activity/tried/${r}`},j=this.isOwnedByCurrentUser||p.isAuth&&p.id===w.id||p.isAuth&&p.id===i;return(0,d.jsxs)(l.xu,{children:[(0,d.jsx)(l.xu,{ref:e=>{this.flyoutAnchor=e},children:(0,d.jsx)(l.hU,{accessibilityExpanded:v,accessibilityHaspopup:!0,accessibilityLabel:this.props.i18n._("more options","accessible label for button to see more options on report content","accessible label for button to see more options on report content"),icon:"ellipsis",onClick:this.handleToggleFlyout,size:"sm"})}),v&&(0,d.jsx)(l.mh,{children:(0,d.jsx)(l.xu,{alignSelf:"end",children:(0,d.jsx)(l.J2,{anchor:this.flyoutAnchor,idealDirection:"down",onDismiss:this.handleDismissFlyout,size:C?"lg":"xs",children:C?(0,d.jsx)(_.Z,{onHide:this.handleToggleFlyout,sendType:I.d.DID_IT,sharedObject:D}):(0,d.jsx)(l.xu,{display:"flex",column:12,color:"white",position:"relative",rounding:2,alignSelf:"start",children:(0,d.jsxs)(l.sg,{span:12,children:["public"===u&&(0,d.jsx)("button",{style:L,onClick:this.handleShowShareFlyout,children:(0,d.jsx)(l.xu,{paddingY:1,paddingX:2,display:"flex",children:(0,d.jsx)(l.xv,{weight:"bold",children:this.props.i18n._("Share"," - "," -- ")})})}),(0,d.jsx)(l.xu,{paddingY:1,paddingX:2,display:"flex",children:(0,d.jsx)(l.rU,{onClick:this.handleClickthrough,href:this.pinURL,children:(0,d.jsx)(l.xv,{weight:"bold",children:this.props.i18n._("Go to Pin"," - "," -- ")})},this.pinURL)}),h&&(this.isOwnedByCurrentUser||j)?(0,d.jsxs)(l.xu,{children:[this.isOwnedByCurrentUser&&(0,d.jsx)(l.kC,{alignItems:"stretch",justifyContent:"start",children:(0,d.jsx)(c,{aggregatedPinDataId:null==m?void 0:m.id,isDoneByMe:this.isOwnedByCurrentUser,loggedInUser:h,onToggleModal:this.handleToggleEditModal,pinId:g,pinTitle:b,userDidItDataId:r})}),j&&(0,d.jsx)("button",{style:L,onClick:this.handleShowDeleteModal,children:(0,d.jsx)(l.xu,{"data-test-id":"flyout-delete-button",paddingY:1,paddingX:2,display:"flex",children:(0,d.jsx)(l.xv,{weight:"bold",children:this.props.i18n._("Delete"," - "," -- ")})})})]}):(0,d.jsx)("button",{style:L,onClick:this.handleShowReportModal,children:(0,d.jsx)(l.xu,{paddingY:1,paddingX:2,display:"flex",children:(0,d.jsx)(l.xv,{weight:"bold",children:this.props.i18n._("Report this content"," - "," -- ")})})})]})})})})})]})})),O(this,"renderStatsBar",(()=>{const{item:{comment_count:e,done_at:t,pin:{link_domain:n},marked_helpful_by_me:i,helpful_count:o},isManagedView:r,viewer:s}=this.props,{isLikedByMe:a,likeCount:c,isDeleteHover:u,isReportHover:h}=this.state,p=(0,m.Z)(this.props.i18n.ngettext("{{likeCount}} like","{{likeCount}} likes",c," - "," -- "),{likeCount:c}),g=(0,m.Z)(this.props.i18n.ngettext("{{commentCount}} comment","{{commentCount}} comments",e," - "," -- "),{commentCount:e}),f=(n||{}).official_user||{},_=this.isOwnedByCurrentUser||s.isAuth&&s.id===f.id,x=this.props.getHumanizedTimeSince(t,!0);return(0,d.jsxs)(l.xu,{column:12,display:"flex",alignItems:"center",children:[(0,d.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,d.jsx)(l.xv,{size:"md",children:r?x:(0,d.jsx)(S.Z,{value:new Date(t),dateFormatType:S.k.LONG,useUTC:!1})}),e>0&&(0,d.jsx)(l.xu,{marginStart:6,children:(0,d.jsx)(l.xv,{size:"md",weight:"bold",children:g})}),c>0&&(0,d.jsx)(l.xu,{marginStart:6,"data-test-id":"did_it_show_likes_tap_area",children:(0,d.jsx)(l.iP,{onTap:this.handleToggleLikesListModal,children:(0,d.jsx)(l.xv,{size:"md",weight:"bold",children:p})})})]}),(0,d.jsxs)(l.kC,{alignItems:"stretch",flex:"grow",justifyContent:"end",children:[(0,d.jsx)(l.xu,{marginBottom:1,marginTop:1,display:"flex",justifyContent:c>0?"between":"end",children:s.isAuth&&(0,d.jsx)(F,{isLikedByMe:a,onClick:this.handleClickLike})}),(0,d.jsx)(l.xu,{display:"flex",paddingY:3,children:(0,d.jsx)(j.N,{helpfulCount:o,isMarkedHelpfulByMe:i,onHelpfulClick:this.handleClickHelpful})})]}),r&&(0,d.jsx)(l.kC,{alignItems:"stretch",flex:"none",children:(0,d.jsx)(l.iP,{onMouseEnter:this.handleReportMouseEnter,onMouseLeave:this.handleReportMouseLeave,onTap:this.handleShowReportModal,rounding:"pill",children:(0,d.jsx)(l.xu,{padding:2,children:(0,d.jsx)(l.xv,{color:h?"darkGray":"gray",size:"md",weight:"bold",children:this.props.i18n._("Report"," - "," -- ")})})})}),r&&_&&(0,d.jsx)(l.kC,{alignItems:"stretch",flex:"none",children:(0,d.jsx)(l.iP,{onMouseEnter:this.handleDeleteMouseEnter,onMouseLeave:this.handleDeleteMouseLeave,onTap:this.handleShowDeleteModal,rounding:"pill",children:(0,d.jsx)(l.xu,{padding:2,children:(0,d.jsx)(l.xv,{color:u?"darkGray":"gray",size:"md",weight:"bold",children:this.props.i18n._("Delete"," - "," -- ")})})})})]})})),O(this,"renderPinInfoBar",(()=>{var e,t;const{item:{images:n,pin:i,user:o},isManagedView:r}=this.props,{full_name:s}=o||{},{dominant_color:a,images:c={},rich_metadata:u={},title:h}=i,p=(u||{}).title;let m;m=this.isOwnedByCurrentUser&&p?(0,E.nk)(this.props.i18n._("You tried {{pinTitleForTriedByText}}","Navigating to a Pin from a try","Navigating to a Pin from a try"),{pinTitleForTriedByText:p}):p?(0,E.nk)(this.props.i18n._("{{fullName}} tried {{pinTitleForTriedByText}}","Navigating to a Pin from a try","Navigating to a Pin from a try"),{fullName:s,pinTitleForTriedByText:p}):this.isOwnedByCurrentUser?this.props.i18n._("See the Pin you tried","Navigating to a Pin from a try","Navigating to a Pin from a try"):this.props.i18n._("See the Pin that inspired it","call to action - navigating to a Pin from a try","call to action - navigating to a Pin from a try");return(0,d.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:n.length?{backgroundImage:"linear-gradient(to bottom, rgba(118, 118, 118, 0), rgba(0, 0, 0, 0.2) 33%, rgba(0, 0, 0, 0.5) 66%, rgba(0, 0, 0, 0.7))"}:{}},rounding:n.length?2:0,children:(0,d.jsx)(l.iP,{role:"link",onTap:this.handleClickthrough,href:this.pinURL,children:(0,d.jsxs)(l.xu,{paddingX:n.length?3:0,paddingY:3,display:"flex",alignItems:"center",children:[(0,d.jsxs)(l.xu,{marginEnd:2,display:"flex",flex:"grow",justifyContent:"start",alignItems:"center",children:[(0,d.jsx)(l.xu,{width:60,marginEnd:3,children:(0,d.jsx)(l.zd,{rounding:2,wash:!0,children:(0,d.jsx)(l.Ee,{alt:null!=h?h:"",color:null!=a?a:"transparent",naturalHeight:60,naturalWidth:60,src:null!==(e=null===(t=c["136x136"])||void 0===t?void 0:t.url)&&void 0!==e?e:""})})}),(0,d.jsxs)(l.xv,{color:n.length?"white":"darkGray",size:r?"sm":"lg",weight:"bold",children:[" ",m," "]})]}),(0,d.jsx)(l.JO,{accessibilityLabel:this.props.i18n._("See pin"," - "," -- "),color:n.length?"white":"darkGray",icon:"arrow-forward",size:32})]})},this.pinURL)})}))}get isOwnedByCurrentUser(){const{viewer:e,item:t}=this.props;return!(!e.isAuth||!t.user||e.id!==t.user.id)}get pinURL(){return`/pin/${this.props.item.pin.id}/`}render(){var e;const{creatorId:t,isManagedView:n,item:i,viewType:o}=this.props,{likeCount:s,showDeleteModal:a,showLikesListModal:c,showReportModal:p}=this.state,{comment_count:g,details:_,id:b,images:v,pin:j,user:E,videos:I}=i,{aggregated_pin_data:T={},id:S}=j||{},{full_name:P,id:A,image_medium_url:R,username:M}=E||{},O=`/${M}/`;(0,m.Z)(this.props.i18n.ngettext("{{likeCount}} like","{{likeCount}} likes",s," - "," -- "),{likeCount:s}),(0,m.Z)(this.props.i18n.ngettext("{{commentCount}} comment","{{commentCount}} comments",g," - "," -- "),{commentCount:g});const L=!!(I&&I.length>0&&I[0].video_list&&I[0].video_list.V_HLSV4),F=!!(v.length>0&&v[0]&&v[0]["750x"]),Z=F||L,z=82!==o,U=F&&z;return(0,d.jsxs)(l.xu,{display:"flex",direction:"column",alignItems:"stretch",justifyContent:"between",paddingY:7,children:[(0,d.jsxs)(l.xu,{display:"flex",column:12,alignItems:"center",children:[(0,d.jsx)(l.kC,{alignItems:"center",children:(0,d.jsx)(l.xu,{width:n?36:42,marginEnd:3,children:(0,d.jsx)(l.iP,{role:"link",rounding:"circle",onTap:this.handleClickthrough,href:O,children:(0,d.jsx)(l.zd,{rounding:"circle",wash:!0,children:(0,d.jsx)(l.Ee,{alt:null!=P?P:"",color:"#efefef",naturalHeight:42,naturalWidth:42,src:null!=R?R:""},R)})},O)})}),(0,d.jsx)(l.xu,{column:1,display:"flex",mdDisplay:"none"}),(0,d.jsxs)(l.xu,{alignItems:"center",column:12,display:"flex",justifyContent:"between",children:[(0,d.jsx)(l.xv,{size:n?"md":"lg",children:(0,d.jsx)(l.rU,{onClick:this.handleClickthrough,href:O,children:P||""},O)}),!n&&this.renderFlyout()]})]}),(0,d.jsx)(l.xu,{marginTop:2,marginBottom:n?0:1,children:Z&&(0,d.jsxs)(l.xu,{column:12,position:"relative",children:[L?(0,d.jsx)(y.Z,{item:i,viewType:o}):(0,d.jsx)(x,{item:i}),U&&(0,d.jsx)(l.xu,{column:12,position:"absolute",bottom:!0,children:this.renderPinInfoBar()})]})}),(0,d.jsxs)(l.xu,{marginStart:1,children:[F&&this.renderStatsBar(),_&&(0,d.jsx)(l.xu,{column:10,marginBottom:2,dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-line"}},children:(0,d.jsx)(l.xv,{size:n?"sm":"lg",children:(0,d.jsx)(f,{html:_,onClick:this.handleClickHashTag})})}),!F&&(0,d.jsxs)(l.xu,{children:[z&&this.renderPinInfoBar(),this.renderStatsBar()]}),(0,d.jsx)(l.xu,{column:12,children:(0,d.jsx)(w.VO,{commentCount:g,creatorId:t,didItOwnerId:A,objectId:b,objectType:C.o.didIt,pinId:j.id,variant:"legacy"})})]}),a&&(0,d.jsx)(r.Z,{didItData:{id:b},onDeleteConfirmation:this.handleDeleteConfirmation}),c&&(0,d.jsx)(h.ZP,{accessibilityModalLabel:this.props.i18n._("Users who have liked this.","Label for a modal showing a list of users who have liked a Tried Item","Label for a modal showing a list of users who have liked a Tried Item"),allowScroll:!0,heading:(0,m.Z)(this.props.i18n.ngettext("{{count}} Like","{{count}} Likes",s," - "," -- "),{count:s.toString()}),onDismiss:this.handleToggleLikesListModal,size:"md",children:(0,d.jsx)(k.Jo,{id:b})}),p&&E&&(0,d.jsx)(D.N,{children:(0,d.jsx)(u.Z,{aggregatedPinDataId:null!==(e=null==T?void 0:T.id)&&void 0!==e?e:"",didItDataId:b,pinId:S,onClose:this.handleHideReportModal,username:M,users:[E]})})]})}}function z(e){const{logContextEvent:t}=(0,T.v)(),n=(0,s.ZP)(),i=(0,P.Z)(),r=(0,o.useDispatch)(),a={deleteUserDidItData:(0,v.bindActionCreators)(R.lg,r),toggleHelpful:(0,v.bindActionCreators)(M.Y,r),updateUserDidItDataCommentCount:(0,v.bindActionCreators)(R.L8,r)},l=(0,o.useSelector)((({userDidItData:t})=>t[e.didItDataId]));return(0,d.jsx)(Z,{...e,...a,item:l,viewer:(0,b.Z)(),i18n:n,getHumanizedTimeSince:i,logContextEvent:t})}},694715:(e,t,n)=>{n.d(t,{Jo:()=>f,Xd:()=>g});var i=n(667294),o=n(40142),r=n(260245),s=n(422284),a=n(379771),l=n(456168),d=n(710159),c=n(883119),u=n(315141),h=n(785893);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends i.Component{constructor(...e){super(...e),p(this,"setRef",(e=>{e&&!this.list&&(this.list=e.parentElement,this.list&&this.list.addEventListener("scroll",this.handleScroll))})),p(this,"fetchMore",(()=>{const{feedResource:e}=this.props;e.isFetching||(e.isAtEnd?window.removeEventListener("scroll",this.handleScroll):e.fetchMore())})),p(this,"handleScroll",(0,r.Z)((()=>{const{feedResource:e}=this.props;if(e.isFetching||e.isAtEnd)return;const t=(0,u.Uy)(this.list);(0,u.aZ)(this.list)-(0,u.MX)(this.list)-50<t&&this.fetchMore()}),10))}componentWillUnmount(){this.list.removeEventListener("scroll",this.handleScroll)}render(){const{feedResource:{data:e,isLoaded:t},users:n,viewer:i}=this.props;if(!t)return(0,h.jsx)("div",{className:"loadingSpinner",children:(0,h.jsx)(c.$j,{accessibilityLabel:this.props.i18n._("Loading spinner for like list","Accessibility label for loading spinner for like list","Accessibility label for loading spinner for like list"),show:!0})});const o=e&&e.map((e=>e.id?{...e,...n[e.id]}:e));return(0,h.jsx)(c.xu,{"data-test-id":"liked-by-list",maxHeight:400,ref:this.setRef,children:o&&o.map((e=>(0,h.jsx)(c.xu,{paddingX:4,paddingY:3,children:(0,h.jsx)(s.Z,{isSelf:Boolean(i.isAuth&&i.id&&e.id===i.id),user:e})},e.id)))})}}function g(e){const t=(0,d.ZP)(),n=(0,l.Z)(),i=(0,o.useSelector)((({users:e})=>e)),r=(0,a.Z)({name:"AggregatedCommentLikedByResource",options:{aggregatedCommentId:e.id},noCache:!0});return(0,h.jsx)(m,{...e,feedResource:r,users:i,viewer:n,i18n:t})}function f(e){const t=(0,d.ZP)(),n=(0,l.Z)(),i=(0,o.useSelector)((({users:e})=>e)),r=(0,a.Z)({name:"DidItLikedByResource",options:{didItDataId:e.id},noCache:!0});return(0,h.jsx)(m,{...e,feedResource:r,users:i,viewer:n,i18n:t})}},876447:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(667294),o=n(52063),r=n(278482),s=n(710159),a=n(952733),l=n(883119),d=n(785893);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.Component{constructor(...e){super(...e),c(this,"state",{isFullscreen:!1,isPlaying:!1,showControls:!0,volumeLevel:0}),c(this,"handleTouch",(({event:e})=>{e.stopPropagation(),this.setState((e=>({isPlaying:!e.isPlaying})))})),c(this,"handleShowControls",(()=>this.setState({showControls:!0}))),c(this,"handleHideControls",(()=>this.setState({showControls:!1}))),c(this,"handleEnded",(e=>{e.event.stopPropagation(),this.setState({isPlaying:!1})})),c(this,"handlePause",(e=>{e.event.stopPropagation(),this.setState({isPlaying:!1})})),c(this,"handlePlay",(e=>{e.event.stopPropagation(),this.setState({isPlaying:!0})})),c(this,"handleToggleFullscreen",(e=>{const{event:t,fullscreen:n}=e;t.stopPropagation(),this.setState({isFullscreen:n})})),c(this,"handleVolumeChange",(e=>{const{event:t,volume:n}=e;t.stopPropagation(),this.setState({volumeLevel:n})}))}render(){const{item:e,requestContext:t,viewType:n}=this.props,{videos:i}=e;if(!i||0===i.length)return null;const s=i[0],{showControls:a,isFullscreen:c,isPlaying:u,volumeLevel:h}=this.state,{V_HLSV4:p}=s.video_list;if(!p)return null;const{height:m,width:g,thumbnail:f,url:_}=p||{},x=[{type:"video/m3u8",src:_}];return(0,d.jsx)(l.iP,{onMouseEnter:this.handleShowControls,onMouseLeave:this.handleHideControls,onTap:this.handleTouch,rounding:2,children:(0,d.jsx)(l.zd,{rounding:2,willChangeTransform:!((0,r.G6)(t.userAgent.browserName)&&c),wash:!0,children:(0,d.jsx)(o.ZP,{isAutoPlay:!1,contextLogData:{view:n,viewParameter:3071,component:172,objectId:e.id,video_id:s.id},accessibilityMaximizeLabel:this.props.i18n._("Maximize","Maximize button on video","Maximize button on video"),accessibilityMinimizeLabel:this.props.i18n._("Minimize","Minimize button on video","Minimize button on video"),accessibilityMuteLabel:this.props.i18n._("Mute","Mute button on video","Mute button on video"),accessibilityPauseLabel:this.props.i18n._("Pause","Pause button on video","Pause button on video"),accessibilityPlayLabel:this.props.i18n._("Play","Play button on video","Play button on video"),accessibilityProgressBarLabel:this.props.i18n._("Progress bar","trieditvideo.accessibilityProgressBarLabel","Video progress bar accessibility label"),accessibilityUnmuteLabel:this.props.i18n._("Unmute","Unmute button on video","Unmute button on video"),aspectRatio:Math.max((null!=g?g:1)/(null!=m?m:1),1),captions:"",controls:a,onEnded:this.handleEnded,onFullscreenChange:this.handleToggleFullscreen,onPause:this.handlePause,onPlay:this.handlePlay,onVolumeChange:this.handleVolumeChange,playing:u,poster:f,src:x,volume:h})})})}}function h(e){const t=(0,s.ZP)(),n=(0,a.B)();return(0,d.jsx)(u,{...e,i18n:t,requestContext:n})}},298774:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(916389),o=n(632589),r=n(710159),s=n(123686),a=n(883119),l=n(785893);const d=o.Z.settings.HELP_BLOCKING+"?source=block_dialogue";function c({firstName:e,onBlockUser:t,onClearModal:n}){const o=(0,r.ZP)(),c=(0,s.nk)(o._("Block {{ firstName }}?","blockUser.modal.header","header text asking if we should block the user"),{firstName:e}).join("");return(0,l.jsxs)(i.ZP,{accessibilityModalLabel:c,onDismiss:n,heading:c,footer:(0,l.jsxs)(a.xu,{marginStart:-1,marginEnd:-1,display:"flex",alignItems:"center",justifyContent:"end",children:[(0,l.jsx)(a.xu,{padding:1,children:(0,l.jsx)(a.zx,{fullWidth:!0,size:"md",text:o._("Cancel","blockUser.modal.cancel","Cancel blocking a user"),onClick:n})}),(0,l.jsx)(a.xu,{padding:1,children:(0,l.jsx)(a.zx,{fullWidth:!0,size:"md",color:"red",text:o._("Block","Button to confirm blocking a user","Button to confirm blocking a user"),onClick:t})})]}),role:"alertdialog",size:"md",children:[(0,l.jsx)(a.xu,{padding:4,"data-test-id":"block-text",children:(0,l.jsx)(a.xv,{children:(0,s.nk)(o._("Blocking {{ firstName }}, stops messages, follows, and comments. You can still view each other’s profiles.","blockUser.modal.description","explanation of what blocking another user means"),{firstName:e})})}),(0,l.jsx)(a.xu,{padding:4,children:(0,l.jsx)(a.xv,{color:"default",weight:"bold",children:(0,l.jsx)(a.rU,{target:"blank",href:d,children:o._("Learn more","link to help center to learn more about blocking","link to help center to learn more about blocking")})})})]})}},891946:(e,t,n)=>{function i(e,t){return e?t._("Title too long. Make sure all cards' titles have less than 100 characters","Title entered is too long while editing a carousel pin and/or one of its pins","Title entered is too long while editing a carousel pin and/or one of its pins"):t._("Title too long. Make sure title has less than 100 characters","Title entered is too long while editing a pin","Title entered is too long while editing a pin")}function o(e,t){return e?t._("Description too long. Make sure all cards' descriptions have less than 500 characters","Description entered is too long while editing a carousel pin and/or one of its pins","Description entered is too long while editing a carousel pin and/or one of its pins"):t._("Description too long. Make sure description has less than 500 characters","Description entered is too long while editing a pin","Description entered is too long while editing a pin")}function r(e,t){return t._("Too many mentions. Make sure you have at most 5.","editPinModal.errorMessages.userMentionOverLimit","Too many mentions used in the description")}function s(e,t){return e?t._("Need to provide a valid URL. Make sure all cards' links are valid","Invalid URL/link provided while editing a carousel pin and/or one of its pins","Invalid URL/link provided while editing a carousel pin and/or one of its pins"):t._("Need to provide a valid URL. Make sure the link is valid","Invalid URL/link provided while editing a pin","Invalid URL/link provided while editing a pin")}n.d(t,{MM:()=>o,Y8:()=>i,bl:()=>r,qj:()=>s})},645079:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(667294),o=n(76814),r=n(568594),s=n(724207),a=n(139386),l=n(123686),d=n(710159),c=n(883119),u=n(785893);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends i.Component{constructor(...e){super(...e),h(this,"state",{recommendations:[],selectedIndex:0,resourceLoaded:!1}),h(this,"onDismiss",(()=>{})),h(this,"mounted",!1),h(this,"addHashtag",(e=>{this.props.addHashtag(e),this.setState({recommendations:[]})})),h(this,"handleKeyDown",(e=>{e.keyCode===o.Z.UP?this.handlePrevHashtag(e):e.keyCode===o.Z.DOWN?this.handleNextHashtag(e):e.keyCode===o.Z.ESCAPE?this.handleClose(e):e.keyCode===o.Z.ENTER&&this.handleSubmit(e)})),h(this,"handlePrevHashtag",(e=>{e.preventDefault(),this.state.selectedIndex>0&&this.setState((e=>({selectedIndex:e.selectedIndex-1})))})),h(this,"handleNextHashtag",(e=>{e.preventDefault(),this.state.selectedIndex<this.state.recommendations.length-1&&this.setState((e=>({selectedIndex:e.selectedIndex+1})))})),h(this,"handleClose",(e=>{e.preventDefault(),this.setState({recommendations:[]})})),h(this,"handleSubmit",(e=>{e.preventDefault(),this.addHashtag(this.state.recommendations[this.state.selectedIndex].query)})),h(this,"callResource",(e=>{const{makeCancelablePromise:t}=this.props;t(s.ZP.create("HashtagTypeaheadResource",{query:e,showPinCount:!0}).callGet(),"typeahead").then((e=>{if(!this.mounted)return;const t=e.resource_response.data;this.setState({recommendations:t.slice(0,5),resourceLoaded:!0})})).catch((({isCanceled:e})=>{e||this.setState({resourceLoaded:!1})}))}))}componentDidMount(){this.mounted=!0,this.callResource(this.props.query),window.addEventListener("keydown",this.handleKeyDown)}componentDidUpdate(e){this.props.query!==e.query&&""!==this.props.query&&this.callResource(this.props.query)}componentWillUnmount(){window.removeEventListener("keydown",this.handleKeyDown),this.mounted=!1}render(){const{recommendations:e,resourceLoaded:t,selectedIndex:n}=this.state,{anchor:i,idealDirection:o}=this.props,s=e.filter((e=>e.query)),a=o||"down",d="flyout_"+s.length;return t&&s.length>0?(0,u.jsx)(c.J2,{anchor:i,idealDirection:a,onDismiss:this.onDismiss,size:"sm",children:(0,u.jsx)(c.xu,{width:"100%",zIndex:new c.Ry(3),children:s.length>0?s.map(((e,t)=>(0,u.jsx)(c.iP,{fullWidth:!1,onTap:()=>this.addHashtag(e.query),children:(0,u.jsxs)(c.xu,{display:"flex",justifyContent:"between",alignItems:"center",color:t===n?"lightGray":"transparent",padding:1,children:[(0,u.jsx)(c.xu,{flex:"grow",children:(0,u.jsx)(c.xv,{inline:!0,size:"md",weight:"bold",children:e.query})}),(0,u.jsx)(c.xu,{flex:"none",children:(0,u.jsx)(c.xv,{inline:!0,size:"sm",children:(0,l.nk)(this.props.i18n.ngettext("{{ count }} pin","{{ count }} pins",Number(e.pin_count),"label for n pins in hashtag flyout","label for n pins in hashtag flyout"),{count:(0,u.jsx)(r.Z,{value:Number(e.pin_count)},"pinCount")})})})]})},e.query))):null})},d):null}}function m(e){const t=(0,d.ZP)(),n=(0,a.Z)();return(0,u.jsx)(p,{...e,makeCancelablePromise:n,i18n:t})}},570993:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),o=n(53930),r=n(741874),s=n(710159),a=n(883119),l=n(785893);const d=(0,i.lazy)((()=>n.e(61116).then(n.bind(n,904659))));function c(e){const t=(0,s.ZP)();return(0,l.jsx)(o.Z,{name:"SafeSuspense_SendObjectLoader_SendObjectWrapper",children:(0,l.jsx)(r.Z,{fallback:(0,l.jsx)(a.xu,{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",padding:2,children:(0,l.jsx)(a.$j,{accessibilityLabel:t._("Loading sharing","Accessibility label for loading sharing UI","Accessibility label for loading sharing UI"),show:!0})}),children:(0,l.jsx)(d,{...e})})})}},876206:(e,t,n)=>{n.d(t,{Z:()=>I});var i=n(667294),o=n(724207);var r=n(735368),s=n(632589),a=n(710159),l=n(456168),d=n(123686),c=n(891037),u=n(883119),h=n(785893);const p=s.Z.settings.HELP_BLOCKING+"?source=block_dialogue";function m(e){return e.map((({full_name:e})=>e))}const g=function({users:e,onClose:t,onSubmit:n}){const i=(0,a.ZP)(),o=(0,h.jsx)("strong",{children:(0,r.Z)(m(e),i)},"userlist");return(0,h.jsxs)("form",{method:"post",children:[(0,h.jsxs)(u.xu,{padding:8,children:[(0,h.jsx)(u.xv,{children:(0,d.nk)(i._("If you block {{ users }}, you won’t be able to follow  each other or interact with each other’s Pins.","description of blocking users","description of blocking users"),{users:o})}),(0,h.jsx)("br",{}),(0,h.jsx)("br",{}),(0,h.jsx)(u.xv,{children:(0,h.jsx)(u.rU,{inline:!0,href:p,children:i._("Learn more","link to learn more about blocking","link to learn more about blocking")})})]}),(0,h.jsx)(u.xu,{padding:2,children:(0,h.jsxs)(u.kC,{alignItems:"stretch",justifyContent:"end",gap:1,children:[(0,h.jsx)(u.zx,{fullWidth:!0,onClick:t,text:i._("Cancel","UserBlock.Cancel","cancel form")}),(0,h.jsx)(u.zx,{fullWidth:!0,color:"red",onClick:()=>{n()},text:i._("Block","UserBlock.Submit","submit form to block users"),type:"submit"})]})})]})};var f=n(216768);const _=s.Z.settings.HELP_BLOCKING,x=s.Z.settings.POLICY_COMMUNITY_GUIDELINES,y=({board:e,flagReason:t,flagType:n,onClose:s,selectedReason:p,status:y,users:b})=>{const v=(0,a.ZP)(),[C,w]=(0,i.useState)({}),{setModalTitle:k,setStatus:D}=(0,c.d)(),j=(0,l.Z)(),{id:E}=j.isAuth?j:{},I=null==e?void 0:e.followed_by_me,T=b[0].explicitly_followed_by_me,S=b.filter((({id:e})=>C[e])),P=S.length>0;(0,i.useEffect)((()=>{(()=>{let e;[f.qb.SUBMITTED,f.qb.PROCESSING].includes(y)?e=v.ngettext("Block this person?","Block these people?",S.length,"BlockAndUnfollow","Confirmation text when blocking users (plural)"):n===f.Vm.CONVERSATION&&(e=y===f.qb.COMPLETED?(0,d.nk)(v._("You’ve blocked {{usernames}}","BlockAndUnfollow","title of modal after user has been blocked"),{usernames:(0,r.Z)(m(S),v).join("")}).join(""):v._("Thanks for your report","BlockAndUnfollow","title at end of report flow")),k(e)})()}),[y]),(0,i.useEffect)((()=>{D(P?f.qb.SELECTED:f.qb.STARTED)}),[C]);const A=b.filter((({id:e})=>e!==E)),R=[f.qb.STARTED,f.qb.COMPLETED].includes(y);return(0,h.jsx)("form",{method:"post",children:[f.qb.SUBMITTED,f.qb.PROCESSING].includes(y)?(0,h.jsx)(g,{onClose:()=>{D(f.qb.SELECTED)},onSubmit:()=>(D(f.qb.PROCESSING),Promise.all(Object.keys(C).filter((e=>C[e])).map((e=>function(e){return o.ZP.create("UserBlockResource",{blocked_user_id:e}).callCreate().then((()=>{}),(()=>{}))}(e)))).finally((()=>{D(f.qb.COMPLETED)}))),users:S}):(0,h.jsxs)(u.xu,{padding:8,children:[(0,h.jsx)(u.xu,{children:y!==f.qb.COMPLETED?(()=>{let e,n;return"harassingOther"===p?e=(0,d.nk)(v._("We remove content that identifies and attacks private people because we consider it to be bullying. We also don’t allow content that reveal someone’s personally identifiable information.  Learn more about our  {{ communityGuidelines }}.","confirmation message after reporting harassment","confirmation message after reporting harassment"),{communityGuidelines:(0,h.jsx)(u.rU,{inline:!0,href:x,children:v._("Community Guidelines","link to community guidelines for harassment","link to community guidelines for harassment")},"policyLink")}):"harassingPublicFigure"===p?e=v._("Please note that we won’t necessarily take down stuff that attacks public figures.","message shown after reporting harrassment","message shown after reporting harrassment"):"harassingFriend"===p?e=v._("Before we can review this Pin, we need to hear from the person who’s being harassed. Please have your friend report this Pin to us.","message shown after reporting harrassment","message shown after reporting harrassment"):["spam","policies","hurtfulContent"].includes(t)&&(e=v._("We’ll take a look at this Pin and delete it if it goes against our policies.","confirmation message after reporting a pin","confirmation message after reporting a pin")),n=I&&T?v._("You can also unfollow or block this person.","description to block or unfollow","description to block or unfollow"):v.ngettext("You can also block this person.","You can also block these people.",A.length,"description to block people","description to block people"),(0,h.jsxs)(i.Fragment,{children:[e&&(0,h.jsx)(u.xu,{marginBottom:8,children:(0,h.jsx)(u.xv,{children:e})}),(0,h.jsx)(u.xu,{marginBottom:8,children:(0,h.jsx)(u.xv,{children:n})}),(0,h.jsx)(u.xu,{marginBottom:8,children:A.map((({id:e,full_name:t})=>(0,h.jsx)(u.XZ,{id:"blockPinner"+e,checked:Boolean(C[e]),label:(0,d.nk)(v._("Block {{ pinnerName }}","BlockAndUnfollow","form option to block a pinner"),{pinnerName:t}).join(""),onChange:({checked:t})=>{w({...C,[e]:t})},subtext:v._("You won’t be able to send each other messages or interact with each other’s Pins.","BlockAndUnfollow","explanation of blocking a user")},e)))})]})})():P&&(0,h.jsx)(u.xu,{marginBottom:8,children:(0,h.jsx)(u.xv,{children:v._("You won’t be able to follow each other or interact with each other’s pins.","BlockAndUnfollow","message describing what blocking means")},"blockingConfirmation")})}),(0,h.jsxs)(u.xu,{children:[y!==f.qb.COMPLETED&&(0,h.jsx)(u.xu,{marginBottom:8,children:(0,h.jsx)(u.xv,{size:"sm",children:(0,d.nk)(v._("Learn more about {{ linkToTopic }}","BlockAndUnfollow","footer link to learn more about a topic"),{linkToTopic:(0,h.jsx)(u.rU,{inline:!0,href:_,children:v._("blocking","BlockAndUnfollow","footer link to learn more about blocking")},"policyLink")})})}),(0,h.jsx)(u.xu,{children:(0,h.jsx)(u.zx,{fullWidth:!0,color:"red",onClick:R?s:()=>{w(C),D(f.qb.SUBMITTED)},text:R?v._("Done","Block.Complete","confirm reporting flow is done & close modal"):v._("Block","BlockAndUnfollow","submit users to block")})})]})]})})};function b({flagOptions:e,flow:t,handleClose:n,handleNext:i,selectedReason:o,showPrimaryAction:r,submitButton:s}){const l=(0,a.ZP)();if(t===f.Zw.REPORT){var d;if(f.qb.PROCESSING===status||null!==(d=e.getFlagOption(o))&&void 0!==d&&d.isTerminalReason)return s;if(r)return(0,h.jsx)(u.zx,{fullWidth:!0,color:"red",disabled:void 0===o,onClick:i,text:l._("Next","go to the next view in the report flow","go to the next view in the report flow")})}else if(t===f.Zw.END)return(0,h.jsx)(u.zx,{fullWidth:!0,color:"red",onClick:n,text:l._("Got it","confirm reporting flow is done & close modal","confirm reporting flow is done & close modal")});return null}var v=n(916389);const C=s.Z.settings.POLICY_COMMUNITY_GUIDELINES;function w({flow:e,flagReason:t}){const n=(0,a.ZP)();if(e===f.Zw.REPORT){if("attacks"===t)return(0,h.jsx)(u.xv,{size:"sm",children:(0,d.nk)(n._("Learn more about our {{ linkToTopic }}","footer link to learn more about community guidelines","footer link to learn more about community guidelines"),{linkToTopic:(0,h.jsx)(u.rU,{target:"blank",href:C,children:(0,h.jsx)(u.xv,{inline:!0,color:"error",size:"sm",weight:"bold",children:n._("Community Guidelines","name of footer link to community guidelines","name of footer link to community guidelines")})},"policyLink")})});if("policies"===t)return(0,h.jsxs)("p",{children:[(0,h.jsx)(u.xv,{size:"sm",children:(0,d.nk)(n._("Learn about {{ linkToTopic }}","footer link to learn more about a topic","footer link to learn more about a topic"),{linkToTopic:(0,h.jsx)(u.rU,{target:"blank",href:C+"#sub-section-adult-content",children:(0,h.jsx)(u.xv,{inline:!0,color:"error",size:"sm",children:n._("our nudity policies","name of footer link to policy","name of footer link to policy")})},"policyLink")})}),(0,h.jsx)(u.xv,{size:"sm",children:(0,d.nk)(n._("Learn about {{ linkToTopic }}","footer link to learn more about a topic","footer link to learn more about a topic"),{linkToTopic:(0,h.jsx)(u.rU,{target:"blank",href:C+"#sub-section-dangerous-goods-and-activities",children:(0,h.jsx)(u.xv,{inline:!0,color:"error",size:"sm",children:n._("our policies on hurtful content","name of footer link to policy","name of footer link to policy")})},"policyLink")})}),(0,h.jsx)(u.xv,{size:"sm",children:(0,d.nk)(n._("Learn about {{ linkToTopic }}","footer link to learn more about a topic","footer link to learn more about a topic"),{linkToTopic:(0,h.jsx)(u.rU,{target:"blank",href:C+"#sub-section-violence",children:(0,h.jsx)(u.xv,{inline:!0,color:"error",size:"sm",children:n._("our policies on gore","name of footer link to policy","name of footer link to policy")})},"policyLink")})})]});if("spam"===t||void 0===t)return(0,h.jsx)(u.xv,{size:"sm",children:(0,d.nk)(n._("Learn about {{ linkToTopic }}","footer link to learn more about a topic","footer link to learn more about a topic"),{linkToTopic:(0,h.jsx)(u.rU,{target:"blank",href:C,children:(0,h.jsx)(u.xv,{inline:!0,color:"error",size:"sm",weight:"bold",children:"spam"===t?n._("our spam policies","name of footer link to policy","name of footer link to policy"):n._("our policies","name of footer link to policy","name of footer link to policy")})},"policyLink")})})}return null}function k(e,t,n){return e.map(((e,i)=>{const{condition:o}=e;return void 0===o||o?function(e,t,n,i){const{text:o,value:r,category:s}=e;return(0,h.jsx)("label",{htmlFor:r,children:(0,h.jsxs)(u.xu,{alignItems:"center",padding:2,display:"flex",children:[(0,h.jsx)(u.EU,{checked:n===r,id:r,onChange:({checked:e})=>t(e,r,s),name:"flagReason",value:r}),(0,h.jsx)(u.xu,{padding:2,children:(0,h.jsx)(u.xv,{size:"md",children:o})})]})},i)}(e,t,n,i):null}))}class D{constructor(e){this.config=e,this.configMap=function(e){const t={};for(const n in e)e[n].forEach((e=>{const i=e.value;if(Object.prototype.hasOwnProperty.call(t,i))throw new Error("Duplicate key in FlagOptions config: "+i);t[i]=e,t[i].parentOption=n}));return t}(e)}getFlagOption(e){return e?this.configMap[e]:null}renderFlagLabels(e){const{flagReason:t,onSelectReason:n,selectedReason:i}=e;return k(this.config[t],n,i)}}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class E extends i.Component{constructor(...e){super(...e),j(this,"flagOptions",new D(this.props.flagOptionsConfig)),j(this,"renderContent",(()=>{const{content:e,flow:t,onSelectReason:n,selectedReason:i}=this.props;return e||(t===f.Zw.REPORT?this.flagOptions.renderFlagLabels({flagReason:this.props.flagReason||"__default",onSelectReason:n,selectedReason:i}):t===f.Zw.END?(0,h.jsx)(u.xv,{children:this.props.i18n._("We’ll use your feedback to make your Pinterest experience better.","final message in reporting flow","final message in reporting flow")}):void 0)}))}componentDidUpdate(e){const{flow:t,onCompletedReport:n,onCompletedBlock:i}=e;if(this.props.flow!==t)switch(t){case f.Zw.REPORT:n&&n();break;case f.Zw.BLOCK:i&&i()}}render(){const{accessibilityModalLabel:e,aggregated_rich_data_type:t,board:n,flagType:i,flow:o,status:r,modalTitle:s,onClose:a,pin:l,selectedReason:d,submitButton:c,flagReason:p,showPrimaryAction:m,users:g}=this.props;let _=t;if(!_&&l&&l.rich_metadata){const e=l.rich_metadata;["recipe","tutorial"].forEach((t=>{var n;e[t]&&e[t].from_aggregated_data&&null!==(n=e[t].additional_data)&&void 0!==n&&n.url&&(_=t)}))}return(0,h.jsx)(v.ZP,{accessibilityModalLabel:e,heading:s,onDismiss:a,size:"md",footer:o!==f.Zw.BLOCK?(0,h.jsxs)(u.kC,{alignItems:"center",justifyContent:"start",children:[(0,h.jsx)(u.xu,{flex:"grow",children:(0,h.jsx)(w,{flagReason:p,flow:o})}),(0,h.jsx)(u.xu,{padding:1,children:o===f.Zw.REPORT?(0,h.jsx)(u.zx,{fullWidth:!0,onClick:void 0===p?this.props.onClose:()=>{var e,t;null===(e=(t=this.props).onRevert)||void 0===e||e.call(t)},text:void 0===p?this.props.i18n._("Cancel","cancel form","cancel form"):this.props.i18n._("Back","previous step in a form","previous step in a form")}):null}),(0,h.jsx)(u.xu,{padding:1,children:(0,h.jsx)(b,{flagOptions:this.flagOptions,flow:o,handleClose:this.props.onClose,handleNext:()=>{var e,t;null===(e=(t=this.props).onNext)||void 0===e||e.call(t)},selectedReason:d,showPrimaryAction:!!m,submitButton:c})})]}):void 0,children:(0,h.jsx)(u.xu,{children:o===f.Zw.BLOCK?(0,h.jsx)(y,{board:n,flagReason:p,flagType:i,onClose:a,selectedReason:d,status:r,users:g}):(0,h.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{..._?{height:"389px"}:{}}},children:this.renderContent()})})})}}function I(e){const t=(0,a.ZP)();return(0,h.jsx)(E,{...e,i18n:t})}},891037:(e,t,n)=>{n.d(t,{N:()=>d,d:()=>l});var i=n(667294),o=n(487889),r=n(216768),s=n(785893);const{Provider:a,useHook:l}=(0,o.Z)("Flag"),d=({children:e})=>{const[t,n]=(0,i.useState)(),[o,l]=(0,i.useState)(r.Zw.REPORT),[d,c]=(0,i.useState)(r.qb.STARTED),[u,h]=(0,i.useState)(),[p,m]=(0,i.useState)();return(0,s.jsx)(a,{value:{flagReason:p,flow:o,status:d,selectedReason:u,modalTitle:t,setFlagReason:m,setFlow:l,setModalTitle:n,setStatus:c,setSelectedReason:h},children:e})}},490914:(e,t,n)=>{n.d(t,{Z:()=>f});var i=n(667294),o=n(40142),r=n(285230),s=n(876206),a=n(632589),l=n(710159),d=n(355650),c=n(891037),u=n(883119),h=n(216768),p=n(785893);const m=a.Z.settings.ABOUT_DMCA_PIN_URL,g="policies";const f=(0,o.connect)(null,(function(e){return{reportDidIt:(t,n,i,o,r)=>e((0,d.Th)(t,n,i,o,r))}}))((({aggregatedPinDataId:e,didItDataId:t,onClose:n,pinId:o,reportDidIt:a,username:d,users:f})=>{const _=(0,l.ZP)(),[x,y]=(0,i.useState)([]),[b,v]=(0,i.useState)(),[C,w]=(0,i.useState)(),{flow:k,modalTitle:D,selectedReason:j,setFlow:E,setModalTitle:I,setSelectedReason:T,setStatus:S,status:P}=(0,c.d)();(0,i.useEffect)((()=>{I((()=>{if(k===h.Zw.REPORT)switch(C){case"attacks":return _._("What's going on?","title for report content flow","title for report content flow");case g:return _._("What's wrong with this Try?","title for report content flow","title for report content flow");case"IP":return _._("Intellectual Property","title for report content flow for IP complaints","title for report content flow for IP complaints");default:return _._("What's wrong with this Try?","title for the report content flow","title for the report content flow")}else if(k===h.Zw.END&&x.includes("notUseful"))return _._("Thanks for letting us know!","title at end of report flow when content is not useful","title at end of report flow when content is not useful");return""})())}),[x,k,C]);const A=(0,p.jsx)(u.zx,{fullWidth:!0,color:"red",onClick:()=>{if(S(h.qb.PROCESSING),"ignoreThisPin"===j)E(h.Zw.BLOCK),S(h.qb.STARTED);else{const n=[...x,j];y(n),a(e,n,t,b,d),x.includes("notUseful")?(E(h.Zw.END),S(h.qb.STARTED)):(E(h.Zw.BLOCK),S(h.qb.STARTED))}},text:_._("Report content","button to report content","button to report content")});return(0,p.jsx)(s.Z,{accessibilityModalLabel:_._("Report conversation","Pin.DidIt.Report","Accessibility label for report pin did it"),content:"IP"===C?(0,p.jsx)(u.xu,{mdDisplay:"flex",justifyContent:"center",children:(0,p.jsxs)(u.xu,{mdColumn:9,children:[(0,p.jsx)(u.xu,{padding:2,marginStart:2,children:(0,p.jsx)(u.xv,{align:"center",color:"default",weight:"bold",children:_._("If you’ve found content that you believe violates your intellectual property, you can fill out our copyright complaint form.","explanation of IP complaint process","explanation of IP complaint process")})}),(0,p.jsx)(u.xu,{padding:2,children:(0,p.jsx)(u.zx,{role:"link",href:(0,r.Z)(m,{pin_id:o,user_did_it_id:t}),color:"red",text:_._("File a report","link to DMCA form","link to DMCA form"),target:"blank"})})]})}):null,flagType:h.Vm.DID_IT,flow:k,modalTitle:D,onClose:n(!0),onNext:()=>{w(j),y([...x,j]),T()},onRevert:()=>{const e=x[x.length-1],t=x.slice(0,-1);T(e),w(t[t.length-1]),y(t),v(),S(void 0===e?h.qb.STARTED:h.qb.SELECTED)},onSelectReason:(e,t,n)=>{e&&(T(t),S(h.qb.SELECTED),v(n))},showPrimaryAction:"IP"!==C,submitButton:A,status:P,selectedReason:j,flagReason:C,users:f,flagOptionsConfig:{__default:[{text:_._("It isn't useful or relevant","tried-it reporting flow","tried-it reporting flow"),value:"ignoreThisPin",isTerminalReason:!0,category:"ignoreThisPin"},{text:_._("It shouldn't be on Pinterest","tried-it reporting flow","tried-it reporting flow"),value:g,isTerminalReason:!1},{text:_._("It's spam","tried-it reporting flow","tried-it reporting flow"),value:"spam",isTerminalReason:!0,category:"spam"},{text:_._("It's my intellectual property","tried-it reporting flow","tried-it reporting flow"),isTerminalReason:!1,value:"IP"}],ignoreThisPin:[],policies:[{text:_._("It's sexually explicit","tried-it reporting flow","tried-it reporting flow"),value:"nudity",isTerminalReason:!0,category:"nudity"},{text:_._("It's self-harm","an option on tried-it reporting flow","an option on tried-it reporting flow"),value:"self-harm",isTerminalReason:!0,category:"self-harm"},{text:_._("It's hate speech","tried-it reporting flow","tried-it reporting flow"),value:"hate-speech",isTerminalReason:!0,category:"hate-speech"},{text:_._("It's harassment or bullying","tried-it reporting flow","tried-it reporting flow"),value:"attacks",isTerminalReason:!1,category:"attacks"},{text:_._("It's graphic violence","tried-it reporting flow","tried-it reporting flow"),value:"gore",isTerminalReason:!0,category:"graphic-violence"}],attacks:[{text:_._("It's a photo of me or my child","tried-it reporting flow","tried-it reporting flow"),value:"harassingMeOrMyChild",isTerminalReason:!0,category:"attacks"},{text:_._("It identifies and attacks me or someone I know","tried-it reporting flow","tried-it reporting flow"),value:"harassingMeOrAFriend",isTerminalReason:!0,category:"attacks"},{text:_._("Something else","tried-it reporting flow","tried-it reporting flow"),value:"harassingOther",isTerminalReason:!0,category:"attacks"}],IP:[],spam:[]}})}))},216768:(e,t,n)=>{n.d(t,{Vm:()=>r,Zw:()=>i,qb:()=>o});const i={REPORT:"REPORT",BLOCK:"BLOCK",END:"END"},o={STARTED:"STARTED",SELECTED:"SELECTED",SUBMITTED:"SUBMITTED",PROCESSING:"PROCESSING",COMPLETED:"COMPLETED"},r={CONVERSATION:"CONVERSATION",DID_IT:"DID_IT"}},94153:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),o=n(883119),r=n(785893);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const a={__path:"M8.134 8.116a1.25 1.25 0 0 0-1.768 0L4.25 10.232 2.134 8.116A1.25 1.25 0 0 0 .366 9.884L2.483 12 .366 14.116a1.25 1.25 0 0 0 1.768 1.768l2.116-2.117 2.116 2.117a1.248 1.248 0 0 0 1.768 0 1.25 1.25 0 0 0 0-1.768L6.018 12l2.116-2.116a1.25 1.25 0 0 0 0-1.768M24 8v8a2.5 2.5 0 0 1-2.5 2.5h-8A2.5 2.5 0 0 1 11 16V8a2.5 2.5 0 0 1 2.5-2.5h8A2.5 2.5 0 0 1 24 8"};class l extends i.PureComponent{constructor(...e){super(...e),s(this,"state",{hovered:!1}),s(this,"handleMouseEnter",(()=>this.setState({hovered:!0}))),s(this,"handleMouseLeave",(()=>this.setState({hovered:!1})))}render(){const{bold:e,icon:t,text:n,description:i,descriptionColor:s="darkGray",compact:l}=this.props,d=Array.isArray(n)?n.join(""):n;return(0,r.jsx)(o.xu,{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,children:(0,r.jsxs)(o.xu,{alignItems:"start",color:this.state.hovered?"lightGray":"transparent",direction:"row",display:"flex",marginEnd:-1,marginStart:-1,overflow:"hidden",paddingX:4,paddingY:2,title:d,children:[!l&&t&&(0,r.jsx)(o.xu,{alignSelf:"center",flex:"none",padding:1,children:"unfollow"===t?(0,r.jsx)(o.JO,{accessibilityLabel:"",color:"darkGray",dangerouslySetSvgPath:a,size:16}):(0,r.jsx)(o.JO,{accessibilityLabel:"",color:"darkGray",icon:t,size:16})}),(0,r.jsxs)(o.xu,{alignItems:l?"center":"start",direction:l?"row":"column",display:"flex",flex:"grow",padding:1,width:"100%",children:[(0,r.jsx)(o.xv,{color:"default",size:l?"sm":"md",weight:e?"bold":"normal",children:n}),(0,r.jsx)(o.kC,{alignItems:"center",justifyContent:"start",children:!l&&i&&(0,r.jsx)(o.xu,{marginBottom:2,marginTop:1,children:(0,r.jsx)(o.xv,{color:s,overflow:"normal",size:"sm",children:i})})})]})]})})}}s(l,"defaultProps",{bold:!0})},361177:(e,t,n)=>{n.d(t,{n:()=>u});var i=n(560505),o=n(724207),r=n(943090),s=n(816458),a=n(57565),l=n(355650),d=n(498953);const c={[d.o.aggregatedComment]:"AggregatedCommentReplyResource",[d.o.pin]:"AggregatedCommentResource",[d.o.didIt]:"DidItCommentsResource"};function u({fromUnifiedComment:e,objectId:t,objectType:n,pinId:d,replyToCommentId:u,tags:h,text:p}){return async m=>{const g=c[n],f={objectId:t,pinId:d,tags:h,text:p,replyToCommentId:u};let _=s.DV.AGGREGATED_COMMENTS;e&&(_="pin"===n?s.DV.UNIFIED_COMMENTS:s.DV.AGGREGATED_COMMENT_REPLIES);const x=await o.ZP.create(g,f).callCreate({showError:!1}),y=x.resource_response.data;return m(function(e,t){return{type:"AGGREGATED_COMMENT_CREATED",payload:{parentId:e,aggregatedComment:t}}}(t,y)),m((0,i.Z)({feedType:_,feedId:t,itemIds:[y.id],itemType:y.type})),m("pin"===n&&d?(0,a.R)(d,1):"aggregatedComment"===n?(0,r.Z)(t,1):(0,l.L8)(t,1)),y.id||x}}},736799:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(222421),o=n(724207),r=n(943090),s=n(70657),a=n(816458),l=n(57565),d=n(355650);function c({aggregatedCommentId:e,aggregatedPinId:t,feedType:n,parentId:c,type:u,updateParentCommentCount:h}){return async p=>{const m=await o.ZP.create("AggregatedCommentResource",{commentId:e}).callDelete({showError:!1});return p((0,i.Z)({feedId:t||c,feedType:n||a.DV.AGGREGATED_COMMENTS,itemIds:[e],itemType:"aggregatedcomment"})),p(function(e,t){return{type:"AGGREGATED_COMMENT_DELETED",payload:{parentId:e,aggregatedCommentId:t}}}(c,e)),h&&(u||0===u)&&(u===s.Rv.TOP?p((0,l.R)(c,-1)):u===s.Rv.REPLY_TO_AGGREGATED?p((0,r.Z)(c,-1)):p((0,d.L8)(c,-1))),m}}},254005:(e,t,n)=>{function i(e){return{type:"AGGREGATED_COMMENT_HIDDEN",payload:{aggregatedCommentId:e}}}function o(e){return{type:"AGGREGATED_COMMENT_HIDDEN_FOR_USER",payload:{userId:e}}}n.d(t,{V:()=>o,y:()=>i})},234777:(e,t,n)=>{n.d(t,{Pd:()=>s,SL:()=>o,f9:()=>r,nI:()=>l,rK:()=>a});var i=n(724207);function o({commentId:e,tags:t,text:n}){return o=>i.ZP.create("AggregatedCommentResource",{commentId:e,tags:t,text:n}).callUpdate({showError:!1}).then((i=>{const{tagged_users:r}=i.resource_response.data,s=r.map((e=>Object.assign({},e)));o({type:"AGGREGATED_COMMENT_UPDATED",payload:{data:{id:e,tagged_users:s,tags:JSON.parse(t),text:n}}})}))}function r({aggregatedCommentId:e,isLikedByMe:t}){return n=>{const o=i.ZP.create("AggregatedCommentLikeResource",{aggregatedCommentId:e});return t?o.callDelete({showError:!1}):o.callCreate({showError:!1}),n({type:"AGGREGATED_COMMENT_LIKE_TOGGLED",payload:{data:{id:e,reaction_by_me:t?0:1}}})}}function s({aggregatedCommentId:e,isMarkedHelpfulByMe:t}){return n=>{const o=i.ZP.create("HelpfulResource",{helpfulModelType:1,objectId:e});return t?o.callDelete({showError:!1}):o.callCreate({showError:!1}),n({type:"AGGREGATED_COMMENT_HELPFUL_TOGGLED",payload:{data:{id:e,marked_helpful_by_me:!t}}})}}function a({aggregatedCommentId:e,pinId:t,isHighlighted:n}){return o=>{const r=i.ZP.create("AggregatedCommentHighlightResource",{aggregatedCommentId:e,pinId:t});return n?r.callDelete({showError:!1}):r.callCreate({showError:!1}),o({type:"AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED",payload:{data:{aggregated_comment_id:e,pin_id:t,is_highlighted:!n}}})}}function l({userId:e,featureMap:t}){return n=>{i.ZP.create("AggregatedCommentFeaturesResource",{userId:e,featureMap:t}).callUpdate({showError:!1}).then((({resource_response:{data:e}})=>{n(function(e){return{type:"AGGREGATED_COMMENT_FEATURES_UPDATED",payload:{data:e}}}({featureMap:e}))}))}}},943090:(e,t,n)=>{function i(e,t){return{type:"UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT",payload:{increment:t,id:e}}}n.d(t,{Z:()=>i})},525722:(e,t,n)=>{n.d(t,{Y:()=>r,w:()=>o});var i=n(724207);function o({didItDataId:e,isLikedByMe:t}){return n=>{const o=i.ZP.create("DidItLikeResource",{didItDataId:e});return t?o.callDelete({showError:!1}):o.callCreate({showError:!1}),n(function(e,t){return{type:"USER_DID_IT_DATA_LIKE_TOGGLED",payload:{id:e,liked_by_me:t}}}(e,!t))}}function r({didItDataId:e,isMarkedHelpfulByMe:t}){return n=>{const o=i.ZP.create("HelpfulResource",{helpfulModelType:2,objectId:e});return t?o.callDelete({showError:!1}):o.callCreate({showError:!1}),n(function(e,t){return{type:"USER_DID_IT_DATA_HELPFUL_TOGGLED",payload:{id:e,marked_helpful_by_me:t}}}(e,!t))}}},560505:(e,t,n)=>{function i(e){return{type:"FEED_ITEMS_ADDED",payload:e}}n.d(t,{Z:()=>i})},57565:(e,t,n)=>{function i(e,t){return{type:"PIN_UPDATE_COMMENT_COUNT",payload:{id:e,increment:t}}}n.d(t,{R:()=>i})},602837:(e,t,n)=>{n.d(t,{Q:()=>r,a:()=>o});var i=n(724207);function o(e,t){return async n=>{const{resource_response:o}=await i.ZP.create("ApiResource",{url:`/v3/storypins/${e}/mentions/`}).callDelete();return n(function(e,t){return{type:"DELETE_PIN_MENTION",payload:{pinId:e,userId:t}}}(e,t)),o}}function r(e){return async t=>{const{resource_response:n}=await i.ZP.create("MentionsResource",{aggregatedCommentId:e,field_set_key:"comment"}).callDelete(),{data:o}=n;return t(function(e,t){return{type:"DELETE_COMMENT_MENTION",payload:{aggregatedCommentId:e,tagged_users:t}}}(o.id,o.tagged_users)),n}}},178009:(e,t,n)=>{n.d(t,{G:()=>a,h:()=>l});var i=n(724207),o=n(254005),r=n(796112);const s=(e,t)=>({type:r.j.USER_BLOCK,payload:{id:e,isUserBlocked:t}}),a=e=>t=>{i.ZP.create("UserBlockResource",{blocked_user_id:e}).callCreate(),t(s(e,!0)),t((0,o.V)(e))},l=e=>t=>{const n=i.ZP.create("UserBlockResource",{blocked_user_id:e});return t(s(e,!1)),n.callDelete()}},355650:(e,t,n)=>{n.d(t,{DD:()=>c,lg:()=>u,Th:()=>p,IU:()=>h,L8:()=>d});var i=n(560505),o=n(222421),r=n(724207);const s={USER_DID_IT_DATA_CREATE:"USER_DID_IT_DATA_CREATE",USER_DID_IT_DATA_DELETE:"USER_DID_IT_DATA_DELETE",USER_DID_IT_DATA_UPDATE:"USER_DID_IT_DATA_UPDATE",USER_DID_IT_DATA_UPDATE_COMMENT_COUNT:"USER_DID_IT_DATA_UPDATE_COMMENT_COUNT",USER_DID_IT_DATA_FETCH:"USER_DID_IT_DATA_FETCH"};var a=n(816458);function l(e){return{type:s.USER_DID_IT_DATA_DELETE,payload:{id:e}}}function d(e,t){return{type:s.USER_DID_IT_DATA_UPDATE_COMMENT_COUNT,payload:{id:e,increment:t}}}function c({aggregatedPinDataId:e,details:t,fromUnifiedComment:n,image_signatures:o,pin_id:l,username:c,updateParentDidItCount:u}){const h={aggregatedPinDataId:e,details:t,image_signatures:o,pin_id:l};return t=>r.ZP.create("DidItActivityResource",h).callCreate().then((o=>{const r=o.resource_response.data;t({type:"PIN_DID_IT",payload:{id:l,value:!0}}),t({type:s.USER_DID_IT_DATA_CREATE,payload:{user_did_it_data:r}}),t((0,i.Z)({feedId:e,feedType:n?a.DV.UNIFIED_COMMENTS:a.DV.USER_DID_IT_DATA,itemIds:[r.id],itemType:r.type})),t((0,i.Z)({feedId:c,feedType:a.DV.USER_DID_IT_DATA,itemIds:[r.id],itemType:r.type})),u&&t(d(e,1))}),(()=>{}))}function u({aggregatedPinDataId:e,feedType:t,id:n,isOwnedByMe:i,pinId:s,username:c,updateParentDidItCount:u}){return h=>{r.ZP.create("DidItActivityResource",{user_did_it_data_id:n,pinId:s}).callDelete().then((r=>{i&&h(function(e){return{type:"PIN_DID_IT",payload:{id:e,value:!1}}}(s)),h(l(n)),h((0,o.Z)({feedId:null!=e?e:"",feedType:t||a.DV.USER_DID_IT_DATA,itemIds:[n],itemType:"userdiditdata"})),h((0,o.Z)({feedId:c,feedType:a.DV.USER_DID_IT_DATA,itemIds:[n],itemType:"userdiditdata"})),h((0,o.Z)({feedId:c,feedType:a.DV.UNIFIED_COMMENTS,itemIds:e?[e]:[],itemType:"userdiditdata"})),u&&h(d(n,-1))}),(()=>{}))}}function h({id:e,details:t,image_signatures:n,pinId:i}){const o={details:t,image_signatures:n,user_did_it_data_id:e,pin_id:i};return e=>{r.ZP.create("DidItActivityResource",o).callUpdate().then((t=>{const n=t.resource_response.data;e(function(e){return{type:s.USER_DID_IT_DATA_UPDATE,payload:{user_did_it_data:e}}}(n))}),(()=>{}))}}function p(e,t,n,i,s){const d={reason:i,detailed_reasons:t,user_did_it_data_id:n};return t=>{r.ZP.create("DidItActivityFlagResource",d).callCreate().then((()=>{t(l(n)),t((0,o.Z)({feedId:e,feedType:a.DV.USER_DID_IT_DATA,itemIds:[n],itemType:"userdiditdata"})),t((0,o.Z)({feedId:s,feedType:a.DV.USER_DID_IT_DATA,itemIds:[n],itemType:"userdiditdata"}))}),(()=>{}))}}},498953:(e,t,n)=>{n.d(t,{Z:()=>u,o:()=>l});var i=n(618446),o=n.n(i),r=n(682492),s=n.n(r),a=n(824941);const l={aggregatedComment:"aggregatedComment",didIt:"didIt",pin:"pin"},d={feature_map:{}},c=(e,t)=>{const n={...s()({},e,t),...t.content?{content:t.content}:Object.freeze({}),...t.reaction_counts?{reaction_counts:t.reaction_counts}:Object.freeze({}),...t.tags?{tags:t.tags}:Object.freeze({}),...t.tagged_users?{tagged_users:t.tagged_users}:Object.freeze({})};return o()(e,n)?e:n},u=(e=d,t)=>{if(t.type===a.zP||t.type===a.aW){const{payload:{resource:n}}=t,i=t.payload.response.resource_response.data;if("AggregatedCommentFeedResource"===n||"AggregatedCommentReplyFeedResource"===n||"DidItCommentsResource"===n){const t=(i||[]).reduce(((t,n)=>(t[n.id]=c(e[n.id],n),t)),{});return{...e,...t}}if("UnifiedCommentsResource"===n&&i&&i.length>0){const t=i.filter((e=>"aggregatedcomment"===e.type)).reduce(((t,n)=>(t[n.id]=c(e[n.id],n),t)),{});return{...e,...t}}if("UnifiedCommentsPreviewResource"===n&&i&&i.length>0){const t=i[0].aggregated_comment,n=t?{[t.id]:c(e[t.id],t)}:{},o=i[0].creator_reply,r=o?{[o.id]:c(e[o.id],o)}:{};return{...e,...n,...r}}if("AggregatedCommentFeaturesResource"===n&&i&&Object.keys(i).length>0)return{...e,feature_map:i}}else{if("AGGREGATED_COMMENT_CREATED"===t.type){const{payload:{aggregatedComment:n}}=t;return{...e,[n.id]:n}}if("AGGREGATED_COMMENT_DELETED"===t.type||"AGGREGATED_COMMENT_HIDDEN"===t.type){const{payload:{aggregatedCommentId:n}}=t,i={...e};return delete i[n],i}if("AGGREGATED_COMMENT_HIDDEN_FOR_USER"===t.type){const{payload:{userId:n}}=t;return Object.fromEntries(Object.entries(e).filter((e=>{var t;return(null===(t=e[1].user)||void 0===t?void 0:t.id)!==n})))}if("AGGREGATED_COMMENT_UPDATED"===t.type){const{payload:{data:n}}=t;return{...e,[n.id]:c(e[n.id],n)}}if("AGGREGATED_COMMENT_LIKE_TOGGLED"===t.type){const{payload:{data:n}}=t,i=e[n.id],o=i.reaction_counts[1]||0,r={1:n.reaction_by_me?o+1:o-1},s={...i,reaction_by_me:n.reaction_by_me,reaction_counts:r};return{...e,[n.id]:s}}if("AGGREGATED_COMMENT_HELPFUL_TOGGLED"===t.type){const{payload:{data:n}}=t,i=e[n.id],o=i.helpful_count||0,r=n.marked_helpful_by_me?o+1:o-1,s={...i,marked_helpful_by_me:n.marked_helpful_by_me,helpful_count:r};return{...e,[n.id]:s}}if("AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED"===t.type){const{payload:{data:n}}=t,i={...e[n.aggregated_comment_id],highlighted_by_pin_owner:n.is_highlighted};return{...e,[n.aggregated_comment_id]:i}}if("AGGREGATED_COMMENT_FEATURES_UPDATED"===t.type){const{payload:{data:{featureMap:n}}}=t;return{...e,feature_map:{...e.feature_map,...n}}}if("UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT"===t.type){const{payload:{increment:n,id:i}}=t,o=e[i],r={...o,comment_count:o.comment_count+n};return{...e,[i]:r}}if("DELETE_COMMENT_MENTION"===t.type){const{payload:{aggregatedCommentId:n,tagged_users:i}}=t,o={...e[n],tagged_users:i};return{...e,[n]:o}}}return e}},860952:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(193640),o=n(362672),r=n(740049);const s=e=>{(0,o.Z)(e)||(e="/",(0,r.My)("url_reset")),(0,i.Z)(e,!1)}},941018:(e,t,n)=>{n.d(t,{Z:()=>i});const i={GOOGLE_ADWORDS_ID:852082959,GOOGLE_ADWORDS_LABEL_PROPEL_QUALIFIED:"Mah3CPrv13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_PROPEL_UNQUALIFIED:"_DJfCKzy13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CREATE:"GGbCCM7p-nYQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT:"SwBsCIz9k3cQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_ADVERTISER_INTENT:"kDf0COWL4okBEI-Cp5YD",DOUBLECLICK_TAG_ID:"8032161",DOUBLECLICK_EVENT_ID_PROPEL:"prope001",DOUBLECLICK_CATEGORY_ID_PROPEL_QUALIFIED:"pinte0",DOUBLECLICK_CATEGORY_ID_PROPEL_UNQUALIFIED:"pinte00",TRADEDESK_ADVERTISER_ID:"fc1uc9n",TRADEDESK_EVENT_ID_GENERAL_PAGEVIEW:"ogalyt3",TRADEDESK_CONVERSION_ID_PROPEL_QUALIFIED:"judrn76",TRADEDESK_CONVERSION_ID_PROPEL_UNQUALIFIED:"f0v4s5d",FACEBOOK_ADVERTISER_ID:"956400731086791",TWITTER_UNIVERSAL_TAG_ID:"nuzh8",TWITTER_CONVERSION_ID_PROPEL_QUALIFIED:"ny8zl",TWITTER_CONVERSION_ID_PROPEL_UNQUALIFIED:"nya0d",LINKEDIN_PARTNER_ID:"44352",LINKEDIN_CONVERSION_ID_PROPEL_QUALIFIED:"166217",LINKEDIN_CONVERSION_ID_PROPEL_UNQUALIFIED:"171754",LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT:"529092",PINTEREST_TAG_ID:"2614461171935",SMB_PAID_PINTEREST_ID:"2613736141997"}},82993:(e,t,n)=>{function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>r});class o{static reportGoogleConversion(e,t,n){void 0!==window.gtag_report_conversion?window.gtag_report_conversion(e,t,n):o.queuedGoogleConversions.push({id:e,label:t,url:n})}static reportFacebookConversion(e,t,n){void 0!==window.fbq?n?window.fbq("track",t,n):window.fbq("track",t):o.queuedFacebookConversions.push({id:e,event:t,data:n})}static reportCustomFacebookConversion(e,t,n){void 0!==window.fbq?n?window.fbq("trackCustom",t,n):window.fbq("trackCustom",t):o.queuedFacebookConversions.push({id:e,isCustomEvent:!0,event:t,data:n})}static reportPinterestConversion(e,t,n){void 0!==window.pintrk?n?window.pintrk("track",t,n):window.pintrk("track",t):o.queuedPinterestConversions.push({id:e,event:t,data:n})}static reportTwitterConversion(e,t){void 0!==window.twttr?t?window.twttr.conversion.trackPid(e,t):window.twttr.conversion.trackPid(e):o.queuedTwitterConversions.push({id:e,data:t})}static reportTheTradeDeskConversion(e,t){const n=document.createElement("img");n.setAttribute("height","1"),n.setAttribute("width","1"),n.setAttribute("role","presentation"),n.style.borderStyle="none",n.style.position="absolute",n.setAttribute("src",`//insight.adsrvr.org/track/conv/?adv=${e}&ct=0:${t}&fmt=3`),document.body.insertBefore(n,document.body.lastChild)}static reportLinkedInConversion(e,t){const n=document.createElement("img");n.setAttribute("width","1"),n.setAttribute("height","1"),n.setAttribute("role","presentation"),n.setAttribute("src",`https://dc.ads.linkedin.com/collect/?pid=${e}&conversionId=${t}&fmt=gif`),n.style.display="none",document.body.insertBefore(n,document.body.lastChild)}static reportDoubleClickConversion(e,t,n){const i=1e13*Math.random(),o=document.createElement("iframe");o.setAttribute("width","1"),o.setAttribute("height","1"),o.setAttribute("frameborder","0"),o.setAttribute("src",`https://${e}.fls.doubleclick.net/activityi;src=${e};\n    type=${t};cat=${n};dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=${i}?`),o.style.display="none",document.body.insertBefore(o,document.body.lastChild)}static insertGoogleAdWordsTag(e){const t=document.createElement("script");t.setAttribute("async",""),t.setAttribute("src",`https://www.googletagmanager.com/gtag/js?id=AW-${e}`),t.onload=()=>{window.dataLayer=window.dataLayer||[],window.gtag=function(e,t,n){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config","AW-"+e),window.gtag_report_conversion=function(e,t,n){return window.gtag("event","conversion",{send_to:"AW-"+e+"/"+t,event_callback:function(){void 0!==n&&window.location.assign(n)}}),!1};const t=o.queuedGoogleConversions;for(let n=0;n<t.length;n+=1){const i=t[n];i.id===e&&o.reportGoogleConversion(i.id,i.label,i.url)}},document.body.insertBefore(t,document.body.firstChild)}static insertFacebookPixelTag(e){var t,n,i,r,s,a;t=window,n=document,i="script",t.fbq||(r=t.fbq=function(){r.callMethod?r.callMethod.apply(r,arguments):r.queue.push(arguments)},t._fbq||(t._fbq=r),r.push=r,r.loaded=!0,r.version="2.0",r.queue=[],(s=n.createElement(i)).async=!0,s.src="//connect.facebook.net/en_US/fbevents.js",(a=n.getElementsByTagName(i)[0]).parentNode.insertBefore(s,a)),window.fbq("init",e),window.fbq("track","PageView");const l=o.queuedFacebookConversions;for(let d=0;d<l.length;d+=1){const t=l[d];t.id===e&&(t.isCustomEvent?o.reportCustomFacebookConversion(e,t.event,t.data):o.reportFacebookConversion(e,t.event,t.data))}}static insertTwitterUniversalTag(e){var t,n,i,o,r,s;t=window,n=document,i="script",t.twq||((o=t.twq=function(){o.exe?o.exe.apply(o,arguments):o.queue.push(arguments)}).version="1.1",o.queue=[],(r=n.createElement(i)).async=!0,r.src="//static.ads-twitter.com/uwt.js",(s=n.getElementsByTagName(i)[0]).parentNode.insertBefore(r,s)),window.twq("init",e),window.twq("track","PageView")}static insertLinkedInInsightTag(e){window._linkedin_data_partner_id=e;const t=document.createElement("script");t.setAttribute("src","//snap.licdn.com/li.lms-analytics/insight.min.js"),document.body.insertBefore(t,document.body.firstChild)}static insertPinterestTag(e){!function(e){if(!window.pintrk){window.pintrk=function(){window.pintrk.queue.push(Array.prototype.slice.call(arguments))};const e=window.pintrk;e.queue=[],e.version="3.0";const t=document.createElement("script");t.async=!0,t.src="https://s.pinimg.com/ct/core.js";const n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}}(),window.pintrk("load",e),window.pintrk("page");const t=o.queuedPinterestConversions;for(let n=0;n<t.length;n+=1){const i=t[n];i.id===e&&o.reportPinterestConversion(e,i.event,i.data)}}}i(o,"queuedGoogleConversions",[]),i(o,"queuedFacebookConversions",[]),i(o,"queuedPinterestConversions",[]),i(o,"queuedTwitterConversions",[]);const r=o},734253:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294),o=n(443109),r=n(883119),s=n(785893);function a({onClick:e,onAnchorRefSet:t,isEmojiTrayOpen:n}){const[a,l]=(0,i.useState)(!1),d=(0,r.JZ)(),c=a&&!d?{fontSize:"24px",animationName:"wiggle",animationDuration:"0.9s"}:{fontSize:"24px"};return(0,s.jsx)(r.xu,{display:"flex",justifyContent:"center",color:n?"lightGray":"transparent",rounding:"circle",children:(0,s.jsxs)(r.iP,{rounding:"circle",onTap:()=>{null==e||e()},fullWidth:!1,onMouseEnter:()=>{l(!0)},onMouseLeave:()=>{l(!1)},children:[(0,s.jsx)(o.Z,{unsafeCSS:"@keyframes wiggle {\n        0% {transform: rotate(0deg);}\n        25% {transform: rotate(15deg);}\n        50% {transform: rotate(-15deg);}\n        75% {transform: rotate(15deg);}\n        100% {transform: rotate(0deg);}\n      }"}),(0,s.jsx)(r.xu,{ref:t,display:"flex",alignContent:"center",dangerouslySetInlineStyle:{__style:c},width:24,height:30,children:"😃"})]})})}},976252:(e,t,n)=>{n.d(t,{Q:()=>a,Z:()=>l});var i=n(667294),o=n(597569),r=n(952733),s=n(99417);function a(e,t){const{setViewContextData:n}=(0,s.sV)(),{requestIdentifier:a}=(0,r.B)(),l=(0,o.Z)();(0,i.useEffect)((()=>{var t;e&&(n({viewType:null!==(t=e.view_type)&&void 0!==t?t:1,viewParameter:e.view_parameter,viewData:e.view_data,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),l({...e,event_type:13,request_identifier:a}))}),[t])}function l(e){const{children:t,log:n}=e;return a(n),t||null}},99417:(e,t,n)=>{n.d(t,{BE:()=>d,Ih:()=>c,SU:()=>u,sV:()=>a});var i=n(667294),o=n(487889),r=n(785893);const{Provider:s,useHook:a}=(0,o.Z)("View");let l;function d(){return l}function c({children:e,initialState:t={}}){const[n,o]=(0,i.useState)(t),a=(0,i.useMemo)((()=>({clearViewContextData:()=>{l={},o({})},setViewContextData:e=>{l={...l,...e},o((t=>({...t,...e})))}})),[]);return(0,r.jsx)(i.Fragment,{children:(0,r.jsx)(s,{value:{viewContextData:n,...a},children:e})})}function u(){const{viewContextData:e}=a();return e}},487889:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),o=n(785893);function r(e,t){let n=e.slice(1);if(n=n.endsWith("Context")?n:`${n}Context`,t){return{hocDisplayName:`with${e[0].toUpperCase()}${n}(${t})`}}return{propsDisplayName:`${e[0].toLowerCase()}${n}`,messageDisplayName:`${e[0].toUpperCase()}${n}`}}function s(e,t){const n=(0,i.createContext)(t),{propsDisplayName:s,messageDisplayName:a}=r(e);n.displayName=a;const l=n.Provider,d=({children:e})=>{const t=(0,i.useContext)(n);if(void 0===t)throw new Error(`${a}Consumer must be used within a ${a}Provider.`);return e(t)},c=()=>(0,i.useContext)(n);function u(t){const{hocDisplayName:l}=r(e,String(t.displayName||t.name)),d=e=>{const r=(0,i.useContext)(n);if(void 0===r)throw new Error(`${l} must be used within a ${a}Provider.`);if(e[s])throw new Error("Parent Component and Context are passing to the component the same variables.");const d={[s]:r};return(0,o.jsx)(t,{...e,...d})};return d.displayName=l,d}return l.displayName=`${a}Provider`,d.displayName=`${a}Consumer`,u.displayName=`${a}HOC`,{Provider:l,Consumer:d,MaybeConsumer:({children:e})=>e((0,i.useContext)(n)),useMaybeHook:c,useHook:function(){const e=c();if(void 0===e)throw new Error(`use${a} must be used within a ${a}Provider.`);return e},deprecatedHOC:u}}},971415:(e,t,n)=>{n.d(t,{Z:()=>s,k:()=>o.k});var i=n(952733),o=n(132551),r=n(785893);const s=({dateFormatType:e,useUTC:t=!0,value:n})=>(0,r.jsx)(i.LC,{children:i=>(0,o.Z)(i.locale,n,e,t)})},274090:(e,t,n)=>{n.d(t,{DH:()=>i,F4:()=>s,FS:()=>o,N1:()=>c,N9:()=>l,UK:()=>r,VL:()=>a,v6:()=>d});const i=1e3,o=60*i,r=60*o,s=24*r,a=7*s,l=30*s,d=31*s,c=365*s},102219:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(710159),o=n(123686),r=n(274090);function s(){const e=(0,i.ZP)();return function(t,n){const i=new Date(t),s=new Date-i,a=Math.floor(s/r.FS),l=Math.floor(s/r.UK),d=Math.floor(s/r.F4),c=Math.floor(s/r.VL),u=Math.floor(s/r.N1),h=e.ngettext("{{ minutes }} minute ago","{{ minutes }} minutes ago",a," - "," -- "),p=e.ngettext("{{ hours }} hour ago","{{ hours }} hours ago",l," - "," -- "),m=e.ngettext("{{ days }} day ago","{{ days }} days ago",d," - "," -- "),g=e.ngettext("{{ weeks }} week ago","{{ weeks }} weeks ago",c," - "," -- "),f=e.ngettext("{{ years }} year ago","{{ years }} years ago",u," - "," -- "),_=e.ngettext("{{ minutes }}m","{{ minutes }}m",a,"minutes ago abbreviated","minutes ago abbreviated"),x=e.ngettext("{{ hours }}h","{{ hours }}h",l,"hours ago abbreviated","hours ago abbreviated"),y=e.ngettext("{{ days }}d","{{ days }}d",d,"days ago abbreviated","days ago abbreviated"),b=e.ngettext("{{ weeks }}w","{{ weeks }}w",c,"weeks ago abbreviated","weeks ago abbreviated"),v=e.ngettext("{{ years }}y","{{ years }}y",u,"years ago abbreviated","years ago abbreviated");return u>0?(0,o.nk)(n?v:f,{years:u}).join(""):c>0?(0,o.nk)(n?b:g,{weeks:c}).join(""):d>0?(0,o.nk)(n?y:m,{days:d}).join(""):l>0?(0,o.nk)(n?x:p,{hours:l}).join(""):a>0?(0,o.nk)(n?_:h,{minutes:a}).join(""):e._("Just now"," - "," -- ")}}},265328:(e,t,n)=>{n.d(t,{F:()=>c,Z:()=>d});var i=n(667294),o=n(850770),r=n(909621),s=n(539195),a=n(276679);const l={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpressions",idType:"storyIdStr",eventType:170},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127}};function d({closeupImpressionType:e,closeupNavigationType:t,componentType:n,contextLogData:d,elementType:c,impressionAuxFields:u,inImpressionExp:h,impressionType:p,impressionsFramework:m,isPaused:g,loggingId:f,objectIdStr:_,slotIndex:x,trackCarousel:y,viewData:b,viewParameter:v,viewType:C}){const{logContextEvent:w}=(0,s.v)(),{pins:k}=(0,a.Wb)(),D=f?k[f]:{},j=(0,o.Z)({pin:D}),E=m||r.Z,I=(0,i.useRef)(null),T=i=>{const o=l[p],r=o.idType,s={endTime:i.endTime,[r]:f,slotIndex:x,time:i.startTime,renderDuration:i.endTime-i.startTime,type:e,...u,forcedExit:"removed"===i.forcedExit?0:void 0},a={component:n,object_id_str:_,view_type:C,view_data:b||{},view_parameter:v};if(y){if(j){var h,m,g;w({event_type:7352,event_data:{pinCarouselSlotImpressions:[{...s,carouselDataId:Number(j.id),carouselSlotId:(null===(h=j.carousel_slots)||void 0===h?void 0:h[null!==(m=j.index)&&void 0!==m?m:0])&&Number(j.carousel_slots[null!==(g=j.index)&&void 0!==g?g:0].id),slotIndex:j.index}]},...a,aux_data:{...d}})}}else w({event_type:o.eventType,...a,element:c,event_data:{[o.impressionType]:[s]},aux_data:{closeup_navigation_type:t,...d}})},S=(0,i.useCallback)((()=>{try{I.current instanceof HTMLElement&&E.start(I.current).onExitViewport(T).setDebugId(f||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}}),[I.current]);(0,i.useEffect)((()=>(h&&!E.inExperiment&&E.setExperimentStatus(!0),g||S(),()=>{I.current instanceof HTMLElement&&E.stop(I.current)})),[S]);const P=(0,i.useRef)(g);return(0,i.useEffect)((()=>{P.current&&!g&&S(),P.current=g}),[g,S]),I}const c=({children:e,...t})=>e({impressionTrackerRef:d(t)})},841229:(e,t,n)=>{n.d(t,{Z:()=>s,k:()=>r});const i=new Set(["bookmarks","client_tracking_params","get_page_metadata","in_nux","invite_code","no_fetch_context_on_resource","original_referrer","source","top_level_source","top_level_source_depth"]),o=e=>!i.has(e)&&!e.startsWith("__track__");function r(e){return e.split(/([^=]+=[^=]+),/).filter(Boolean).reduce(((e,t)=>{const[n,i]=t.split("=");return e[n]=JSON.parse(i),e}),{})}const s=e=>e?Object.keys("object"==typeof e&&e||{}).filter((e=>"string"==typeof e)).filter(o).sort().map((t=>`${t}=${JSON.stringify(null==e[t]?null:e[t])}`)).join(","):""},952733:(e,t,n)=>{n.d(t,{B:()=>c,LC:()=>l,Mf:()=>a,P2:()=>s,fH:()=>d});var i=n(667294),o=n(785893);const r=(0,i.createContext)(),s=r.Provider;function a(e){function t(t){const n=(0,i.useContext)(r);if(!n)throw new Error("withRequestContext must be used within a RequestContextProvider");return(0,o.jsx)(e,{...t,requestContext:n})}return t.displayName=`withRequestContext(${String(e.displayName||e.name)})`,t}const l=({children:e})=>{const t=(0,i.useContext)(r);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t)},d=({children:e})=>{const t=(0,i.useContext)(r);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t)};function c(){const e=(0,i.useContext)(r);if(!e)throw new Error("useRequestContext must be used within a RequestContextProvider");return e}},261484:(e,t,n)=>{n.d(t,{U2:()=>l,bi:()=>d,v_:()=>c});var i=n(841229),o=n(724207),r=n(689783),s=n(480769);function a({fetchOptions:e,resource:t,retry:n}){return(l,d)=>{var c,u,h;const{bookmark:p,headers:m,options:g,refresh:f,schema:_}=e,x=(0,i.Z)(g);if(null!==(c=d().resources)&&void 0!==c&&null!==(u=c[t])&&void 0!==u&&null!==(h=u[x])&&void 0!==h&&h.fetching&&!n)return Promise.resolve();const y=n?n.bookmark:p,b=y?{...g,bookmarks:[y]}:g;return l((0,r.LQ)(t,g,!0)),o.ZP.create(t,b).callGet(void 0,m).then((i=>{var d,c,u;const h=null===(d=i.resource_response)||void 0===d?void 0:d.data,[m]=i.bookmarks||[];if(Array.isArray(h)&&0===h.length&&m&&m!==s.q){const i=n?n.count:0;if(!(i>=s.s))return l(a({resource:t,fetchOptions:e,retry:{count:i+1,bookmark:m}}))}null===(c=o.ZP.customDataManipulations)||void 0===c||c.call(o.ZP,t,h,g);const{normalizedResponse:x,resourceSchema:y}=(null===(u=o.ZP.normalizeResponse)||void 0===u?void 0:u.call(o.ZP,{data:h,opts:{bookmark:p,options:g,schema:_},resource:t}))||{normalizedResponse:null,resourceSchema:void 0};return p?l((0,r.Dm)(t,g,i,x,y)):(l((0,r.Sr)(t,g,i,x,f,y)),o.ZP.fetchCompleteCallback&&o.ZP.fetchCompleteCallback({resource:t,options:g,response:i,normalizedResponse:x,refresh:f,resourceSchema:y})),Promise.resolve()}),(e=>{l((0,r.Tl)(t,g,e))}))}}const l=(e,{bookmark:t,headers:n,options:i,schema:o})=>a({resource:e,fetchOptions:{bookmark:t,headers:n,options:i,refresh:!1,schema:o}}),d=(e,{headers:t,options:n,schema:i})=>a({resource:e,fetchOptions:{headers:t,options:n,refresh:!0,schema:i}});function c(e,t,n){return i=>{const{options:s}=t;return o.ZP.create(e,s).callCreate().then((t=>{var o;if(null!==(o=t.resource_response)&&void 0!==o&&o.data){const o=t.resource_response.data,a=(null==n?void 0:n(o))||null;i((0,r.XM)(e,s,t,a))}return t}),(t=>(i((0,r.Tl)(e,s,t)),t)))}}},480769:(e,t,n)=>{n.d(t,{q:()=>i,s:()=>o});const i="-end-",o=10},824941:(e,t,n)=>{n.d(t,{AF:()=>i,KK:()=>o,aW:()=>a,cR:()=>r,se:()=>l,zP:()=>s});const i="CREATE_COMPLETE",o="FETCHING",r="FETCH_ERROR",s="FETCH_COMPLETE",a="FETCH_MORE_COMPLETE",l="RESOURCE_INVALIDATE"},689783:(e,t,n)=>{n.d(t,{Dm:()=>l,LQ:()=>r,Sr:()=>a,Tl:()=>s,XM:()=>o,jB:()=>d});var i=n(824941);function o(e,t,n,o){return{type:i.AF,payload:{resource:e,options:t,response:n,normalizedResponse:o}}}function r(e,t,n){return{type:i.KK,payload:{resource:e,options:t,isFetching:n}}}const s=(e,t,n)=>({type:i.cR,payload:{resource:e,options:t,error:n}});function a(e,t,n,o,r,s){return{type:i.zP,payload:{isRefresh:r,normalizedResponse:o,options:t,resource:e,response:n,schema:s}}}function l(e,t,n,o,r){return{type:i.aW,payload:{resource:e,options:t,response:n,normalizedResponse:o,schema:r}}}function d(e,t){return{type:i.se,payload:{resource:e,optionsOrOptionsKey:t}}}},379771:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(667294),o=n(40142),r=n(841229),s=n(480769),a=n(855168),l=n(952733),d=n(261484);const c={};function u({dangerouslyDisableFetch:e,enabledRouteRefresh:t,__unstableEnableSuspenseSupport:n,headers:u,name:h,noCache:p,options:m,schema:g}){const f=(0,o.useDispatch)(),_=(0,r.Z)(m),x=(0,i.useRef)(null),y=(0,i.useRef)(),b=(0,a.k6)(),v=b&&"POP"!==b.action,C=e=>(e[h]||c)[_]||c,w=(0,o.useSelector)((({resources:e})=>C(e).nextBookmark)),k=(0,o.useSelector)((({resources:e})=>C(e).data)),D=(0,o.useSelector)((({resources:e})=>C(e).auxData)),j=(0,o.useSelector)((({resources:e})=>C(e).error)),E=(0,o.useSelector)((({resources:e})=>Boolean(C(e).fetching))),I=Boolean(j)||void 0!==k,T=I&&!E&&w===s.q,S=Boolean(I&&t&&v&&!e),[P,A]=(0,i.useState)(S),R=(0,i.useCallback)((e=>{x.current=f((0,d.U2)(h,{options:m,schema:g,bookmark:e,headers:u}))}),[f,h,_,g,u]),M=()=>{x.current=f((0,d.bi)(h,{options:m,schema:g,headers:u}))},{isBot:O}=(0,l.B)(),L=()=>{if(!e&&y.current!==_){const e=void 0===y.current;y.current=_,!I&&!E||e&&j&&(({httpStatus:e})=>!e||e>=500)(j)?R():(!O&&p||S)&&M()}};(0,i.useEffect)((()=>{n||L()})),n&&L();const F=(0,i.useCallback)((()=>{e||(M(),A(!0))}),[e,d.bi,h,_,u,A]),Z=(0,i.useCallback)((()=>{!w||T||E||e||R(w)}),[e,R,w,T,E]);if(x.current)if(I&&!E)x.current=null;else if(n)throw x.current;const z=(0,i.useRef)({auxData:void 0,data:void 0,error:void 0,fetchMore:Z,isAtEnd:!1,isFetching:!1,isLoaded:!1,isRefreshing:!1,nextBookmark:void 0,refresh:F}),U={auxData:D,data:k,error:j,fetchMore:Z,isAtEnd:T,isFetching:E,isLoaded:I,isRefreshing:P,nextBookmark:w,refresh:F};return(0,o.shallowEqual)(U,z.current)||(!P||!z.current.data&&S||(0,o.shallowEqual)(U.data,z.current.data)||(U.isRefreshing=!1,A(!1)),z.current=U),z.current}},958131:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),o=n(785893);function r({accessibilityLabel:e}){return(0,o.jsx)(i.kC,{alignItems:"center",justifyContent:"center",children:(0,o.jsx)(i.$j,{accessibilityLabel:e,show:!0})})}},315141:(e,t,n)=>{function i(e){return e===window?window.innerHeight:e.clientHeight}function o(){return void 0!==window.scrollY?window.scrollY:document.documentElement&&void 0!==document.documentElement.scrollTop?document.documentElement.scrollTop:0}function r(e){return e===window&&document.documentElement?document.documentElement.scrollHeight:e.scrollHeight}function s(e){return e===window?o():e.scrollTop}function a(){window&&window.scroll(0,0)}n.d(t,{MX:()=>s,S$:()=>o,Uy:()=>i,aZ:()=>r,vM:()=>a})},284355:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294);let o=null,r=!1,s=0;const a=()=>{o&&clearTimeout(o),r=!0,o=setTimeout((()=>{r=!1}),100)},l=()=>{const[e,t]=(0,i.useState)(!1),n=(0,i.useRef)(null);(0,i.useEffect)((()=>(0===s&&window.addEventListener("scroll",a),s+=1,()=>{n.current&&clearTimeout(n.current),s-=1,s||window.removeEventListener("scroll",a)})),[]);const o=e=>{n.current&&clearTimeout(n.current),n.current=e&&r?setTimeout((()=>o(!0)),100):setTimeout((()=>{t(e)}),32)};return{isHovering:e,hoverHandlers:(0,i.useRef)({onMouseOver:()=>o(!0),onMouseLeave:()=>o(!1)}).current}}},554794:(e,t,n)=>{n.d(t,{N:()=>u,t:()=>h});var i=n(667294),o=n(82993),r=n(941018),s=n(860952),a=n(724207),l=n(487889),d=n(785893);const{Provider:c,useHook:u}=(0,l.Z)("LinkedAccount");function h({children:e}){const[t,n]=(0,i.useState)(!1),[l,u]=(0,i.useState)([]),h=(0,i.useCallback)((({businessName:e,thirdPartyApps:t,thirdPartyMarketingTrackingEnabled:i,nextUrl:l})=>{n(!0);const d={business_name:e,third_party_apps:t};return a.ZP.create("BusinessOwnershipResource",d).callCreate({showError:!0}).then((()=>{i&&(o.Z.reportFacebookConversion(r.Z.FACEBOOK_ADVERTISER_ID,"CompleteRegistration",{content_name:"/business/convert"}),o.Z.reportPinterestConversion("track","lead",{lead_type:"Self-serve"}),o.Z.reportLinkedInConversion(r.Z.LINKEDIN_PARTNER_ID,r.Z.LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT),o.Z.reportGoogleConversion(r.Z.GOOGLE_ADWORDS_ID,r.Z.GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT)),n(!1),(e=>{(0,s.Z)(e?`/?next=${encodeURIComponent(e)}`:"/")})(l)})).catch((e=>(n(!1),Promise.reject({error:e}))))}),[n]),p=(0,i.useMemo)((()=>({createLinkedBusinessAccount:h,linkedBusinessCreationLoading:t,userAccounts:l,userAccountsRetrieved:u})),[h,t,u,l]);return(0,d.jsx)(c,{value:p,children:e})}},33482:(e,t,n)=>{n.d(t,{Z:()=>l,i:()=>a});var i=n(667294),o=n(487889),r=n(785893);const{Provider:s,useHook:a}=(0,o.Z)("ContentHeader");function l({children:e}){const[t,n]=(0,i.useState)(!1);return(0,r.jsx)(s,{value:{isContentHeaderPresent:t,setIsContentHeaderPresent:n},children:e})}},817558:(e,t,n)=>{n.d(t,{c:()=>o,t:()=>r});var i=n(731781);function o({children:e}){const{height:t}=(0,i.J)();return e(t)}function r(){const{height:e}=(0,i.J)();return e}},731781:(e,t,n)=>{n.d(t,{J:()=>d,Z:()=>p});var i=n(667294),o=n(554794),r=n(487889),s=n(690407),a=n(785893);const{Provider:l,useHook:d}=(0,r.Z)("Header"),c={childList:!0,attributes:!0,subtree:!0},u={height:s.cI,isInBiznuxFullscreen:!1,repinPinId:null,repinStartAnimation:!1,showAccountMenuFlyout:!1};function h(e,t){switch(t.type){case"showAccountMenuFlyout":return{...e,showAccountMenuFlyout:!0};case"hideAccountMenuFlyout":return{...e,showAccountMenuFlyout:!1};case"showRepinAnimation":return{...e,repinStartAnimation:!0,repinPinId:t.payload};case"hideRepinAnimation":return{...e,repinStartAnimation:!1,repinPinId:null};case"updateHeight":return{...e,height:t.payload};case"updateIsInBiznuxFullscreen":return{...e,isInBiznuxFullscreen:t.payload};default:throw new Error("action type not supported")}}function p({children:e}){const t=(0,i.useRef)(null),[{height:n,isInBiznuxFullscreen:r,repinPinId:d,repinStartAnimation:p,showAccountMenuFlyout:m},g]=(0,i.useReducer)(h,u);(0,i.useEffect)((()=>{const e=document.getElementById(s.WZ),n=()=>{e&&g({type:"updateHeight",payload:e.clientHeight})};return e&&"undefined"!=typeof MutationObserver&&(t.current=new MutationObserver(n),t.current.observe(e,c)),()=>{var e;null===(e=t.current)||void 0===e||e.disconnect()}}));const f=(0,i.useMemo)((()=>({height:n,isInBiznuxFullscreen:r,repinPinId:d,repinStartAnimation:p,showAccountMenuFlyout:m,updateHeaderState:g})),[g,n,r,d,p,m]);return(0,a.jsx)(l,{value:f,children:(0,a.jsx)(o.t,{children:e})})}},387670:(e,t,n)=>{n.d(t,{Hv:()=>d,WQ:()=>l});var i=n(667294),o=n(260245),r=n(487889),s=n(785893);const{Provider:a,useHook:l}=(0,r.Z)("HeaderShadow");function d({children:e}){const[t,n]=(0,i.useState)(!1),[r,l]=(0,i.useState)(!1),[d,c]=(0,i.useState)(0),[u,h]=(0,i.useState)(null),p=(0,o.Z)((()=>{t&&(l(window.scrollY>0),c(window.scrollY))}),50);return(0,i.useEffect)((()=>(n(!0),()=>{n(!1)})),[]),(0,i.useEffect)((()=>(window.addEventListener("scroll",p),()=>{window.removeEventListener("scroll",p)})),[t]),(0,s.jsx)(a,{value:{currentScrollPosition:d,isScrolled:r,setSubheaderShadow:h,subheaderShadow:u},children:e})}},610248:e=>{e.exports=JSON.parse('["aaa","aarp","abarth","abb","abbott","abbvie","abc","able","abogado","abudhabi","ac","academy","accenture","accountant","accountants","aco","actor","ad","adac","ads","adult","ae","aeg","aero","aetna","af","afamilycompany","afl","africa","ag","agakhan","agency","ai","aig","airbus","airforce","airtel","akdn","al","alfaromeo","alibaba","alipay","allfinanz","allstate","ally","alsace","alstom","am","amazon","americanexpress","americanfamily","amex","amfam","amica","amsterdam","analytics","android","anquan","anz","ao","aol","apartments","app","apple","aq","aquarelle","ar","arab","aramco","archi","army","arpa","art","arte","as","asda","asia","associates","at","athleta","attorney","au","auction","audi","audible","audio","auspost","author","auto","autos","avianca","aw","aws","ax","axa","az","azure","ba","baby","baidu","banamex","bananarepublic","band","bank","bar","barcelona","barclaycard","barclays","barefoot","bargains","baseball","basketball","bauhaus","bayern","bb","bbc","bbt","bbva","bcg","bcn","bd","be","beats","beauty","beer","bentley","berlin","best","bestbuy","bet","bf","bg","bh","bharti","bi","bible","bid","bike","bing","bingo","bio","biz","bj","black","blackfriday","blockbuster","blog","bloomberg","blue","bm","bms","bmw","bn","bnpparibas","bo","boats","boehringer","bofa","bom","bond","boo","book","booking","bosch","bostik","boston","bot","boutique","box","br","bradesco","bridgestone","broadway","broker","brother","brussels","bs","bt","budapest","bugatti","build","builders","business","buy","buzz","bv","bw","by","bz","bzh","ca","cab","cafe","cal","call","calvinklein","cam","camera","camp","cancerresearch","canon","capetown","capital","capitalone","car","caravan","cards","care","career","careers","cars","casa","case","caseih","cash","casino","cat","catering","catholic","cba","cbn","cbre","cbs","cc","cd","center","ceo","cern","cf","cfa","cfd","cg","ch","chanel","channel","charity","chase","chat","cheap","chintai","christmas","chrome","church","ci","cipriani","circle","cisco","citadel","citi","citic","city","cityeats","ck","cl","claims","cleaning","click","clinic","clinique","clothing","cloud","club","clubmed","cm","cn","co","coach","codes","coffee","college","cologne","com","comcast","commbank","community","company","compare","computer","comsec","condos","construction","consulting","contact","contractors","cooking","cookingchannel","cool","coop","corsica","country","coupon","coupons","courses","cpa","cr","credit","creditcard","creditunion","cricket","crown","crs","cruise","cruises","csc","cu","cuisinella","cv","cw","cx","cy","cymru","cyou","cz","dabur","dad","dance","data","date","dating","datsun","day","dclk","dds","de","deal","dealer","deals","degree","delivery","dell","deloitte","delta","democrat","dental","dentist","desi","design","dev","dhl","diamonds","diet","digital","direct","directory","discount","discover","dish","diy","dj","dk","dm","dnp","do","docs","doctor","dog","domains","dot","download","drive","dtv","dubai","duck","dunlop","dupont","durban","dvag","dvr","dz","earth","eat","ec","eco","edeka","edu","education","ee","eg","email","emerck","energy","engineer","engineering","enterprises","epson","equipment","er","ericsson","erni","es","esq","estate","et","etisalat","eu","eurovision","eus","events","exchange","expert","exposed","express","extraspace","fage","fail","fairwinds","faith","family","fan","fans","farm","farmers","fashion","fast","fedex","feedback","ferrari","ferrero","fi","fiat","fidelity","fido","film","final","finance","financial","fire","firestone","firmdale","fish","fishing","fit","fitness","fj","fk","flickr","flights","flir","florist","flowers","fly","fm","fo","foo","food","foodnetwork","football","ford","forex","forsale","forum","foundation","fox","fr","free","fresenius","frl","frogans","frontdoor","frontier","ftr","fujitsu","fujixerox","fun","fund","furniture","futbol","fyi","ga","gal","gallery","gallo","gallup","game","games","gap","garden","gay","gb","gbiz","gd","gdn","ge","gea","gent","genting","george","gf","gg","ggee","gh","gi","gift","gifts","gives","giving","gl","glade","glass","gle","global","globo","gm","gmail","gmbh","gmo","gmx","gn","godaddy","gold","goldpoint","golf","goo","goodyear","goog","google","gop","got","gov","gp","gq","gr","grainger","graphics","gratis","green","gripe","grocery","group","gs","gt","gu","guardian","gucci","guge","guide","guitars","guru","gw","gy","hair","hamburg","hangout","haus","hbo","hdfc","hdfcbank","health","healthcare","help","helsinki","here","hermes","hgtv","hiphop","hisamitsu","hitachi","hiv","hk","hkt","hm","hn","hockey","holdings","holiday","homedepot","homegoods","homes","homesense","honda","horse","hospital","host","hosting","hot","hoteles","hotels","hotmail","house","how","hr","hsbc","ht","hu","hughes","hyatt","hyundai","ibm","icbc","ice","icu","id","ie","ieee","ifm","ikano","il","im","imamat","imdb","immo","immobilien","in","inc","industries","infiniti","info","ing","ink","institute","insurance","insure","int","international","intuit","investments","io","ipiranga","iq","ir","irish","is","ismaili","ist","istanbul","it","itau","itv","iveco","jaguar","java","jcb","je","jeep","jetzt","jewelry","jio","jll","jm","jmp","jnj","jo","jobs","joburg","jot","joy","jp","jpmorgan","jprs","juegos","juniper","kaufen","kddi","ke","kerryhotels","kerrylogistics","kerryproperties","kfh","kg","kh","ki","kia","kim","kinder","kindle","kitchen","kiwi","km","kn","koeln","komatsu","kosher","kp","kpmg","kpn","kr","krd","kred","kuokgroup","kw","ky","kyoto","kz","la","lacaixa","lamborghini","lamer","lancaster","lancia","land","landrover","lanxess","lasalle","lat","latino","latrobe","law","lawyer","lb","lc","lds","lease","leclerc","lefrak","legal","lego","lexus","lgbt","li","lidl","life","lifeinsurance","lifestyle","lighting","like","lilly","limited","limo","lincoln","linde","link","lipsy","live","living","lixil","lk","llc","llp","loan","loans","locker","locus","loft","lol","london","lotte","lotto","love","lpl","lplfinancial","lr","ls","lt","ltd","ltda","lu","lundbeck","lupin","luxe","luxury","lv","ly","ma","macys","madrid","maif","maison","makeup","man","management","mango","map","market","marketing","markets","marriott","marshalls","maserati","mattel","mba","mc","mckinsey","md","me","med","media","meet","melbourne","meme","memorial","men","menu","merckmsd","mg","mh","miami","microsoft","mil","mini","mint","mit","mitsubishi","mk","ml","mlb","mls","mm","mma","mn","mo","mobi","mobile","moda","moe","moi","mom","monash","money","monster","mormon","mortgage","moscow","moto","motorcycles","mov","movie","mp","mq","mr","ms","msd","mt","mtn","mtr","mu","museum","mutual","mv","mw","mx","my","mz","na","nab","nagoya","name","nationwide","natura","navy","nba","nc","ne","nec","net","netbank","netflix","network","neustar","new","newholland","news","next","nextdirect","nexus","nf","nfl","ng","ngo","nhk","ni","nico","nike","nikon","ninja","nissan","nissay","nl","no","nokia","northwesternmutual","norton","now","nowruz","nowtv","np","nr","nra","nrw","ntt","nu","nyc","nz","obi","observer","off","office","okinawa","olayan","olayangroup","oldnavy","ollo","om","omega","one","ong","onl","online","onyourside","ooo","open","oracle","orange","org","organic","origins","osaka","otsuka","ott","ovh","pa","page","panasonic","paris","pars","partners","parts","party","passagens","pay","pccw","pe","pet","pf","pfizer","pg","ph","pharmacy","phd","philips","phone","photo","photography","photos","physio","pics","pictet","pictures","pid","pin","ping","pink","pioneer","pizza","pk","pl","place","play","playstation","plumbing","plus","pm","pn","pnc","pohl","poker","politie","porn","post","pr","pramerica","praxi","press","prime","pro","prod","productions","prof","progressive","promo","properties","property","protection","pru","prudential","ps","pt","pub","pw","pwc","py","qa","qpon","quebec","quest","qvc","racing","radio","raid","re","read","realestate","realtor","realty","recipes","red","redstone","redumbrella","rehab","reise","reisen","reit","reliance","ren","rent","rentals","repair","report","republican","rest","restaurant","review","reviews","rexroth","rich","richardli","ricoh","ril","rio","rip","rmit","ro","rocher","rocks","rodeo","rogers","room","rs","rsvp","ru","rugby","ruhr","run","rw","rwe","ryukyu","sa","saarland","safe","safety","sakura","sale","salon","samsclub","samsung","sandvik","sandvikcoromant","sanofi","sap","sarl","sas","save","saxo","sb","sbi","sbs","sc","sca","scb","schaeffler","schmidt","scholarships","school","schule","schwarz","science","scjohnson","scot","sd","se","search","seat","secure","security","seek","select","sener","services","ses","seven","sew","sex","sexy","sfr","sg","sh","shangrila","sharp","shaw","shell","shia","shiksha","shoes","shop","shopping","shouji","show","showtime","si","silk","sina","singles","site","sj","sk","ski","skin","sky","skype","sl","sling","sm","smart","smile","sn","sncf","so","soccer","social","softbank","software","sohu","solar","solutions","song","sony","soy","spa","space","sport","spot","spreadbetting","sr","srl","ss","st","stada","staples","star","statebank","statefarm","stc","stcgroup","stockholm","storage","store","stream","studio","study","style","su","sucks","supplies","supply","support","surf","surgery","suzuki","sv","swatch","swiftcover","swiss","sx","sy","sydney","systems","sz","tab","taipei","talk","taobao","target","tatamotors","tatar","tattoo","tax","taxi","tc","tci","td","tdk","team","tech","technology","tel","temasek","tennis","teva","tf","tg","th","thd","theater","theatre","tiaa","tickets","tienda","tiffany","tips","tires","tirol","tj","tjmaxx","tjx","tk","tkmaxx","tl","tm","tmall","tn","to","today","tokyo","tools","top","toray","toshiba","total","tours","town","toyota","toys","tr","trade","trading","training","travel","travelchannel","travelers","travelersinsurance","trust","trv","tt","tube","tui","tunes","tushu","tv","tvs","tw","tz","ua","ubank","ubs","ug","uk","unicom","university","uno","uol","ups","us","uy","uz","va","vacations","vana","vanguard","vc","ve","vegas","ventures","verisign","versicherung","vet","vg","vi","viajes","video","vig","viking","villas","vin","vip","virgin","visa","vision","viva","vivo","vlaanderen","vn","vodka","volkswagen","volvo","vote","voting","voto","voyage","vu","vuelos","wales","walmart","walter","wang","wanggou","watch","watches","weather","weatherchannel","webcam","weber","website","wed","wedding","weibo","weir","wf","whoswho","wien","wiki","williamhill","win","windows","wine","winners","wme","wolterskluwer","woodside","work","works","world","wow","ws","wtc","wtf","xbox","xerox","xfinity","xihuan","xin","कॉम","セール","佛山","ಭಾರತ","慈善","集团","在线","한국","ଭାରତ","大众汽车","点看","คอม","ভাৰত","ভারত","八卦","موقع","বাংলা","公益","公司","香格里拉","网站","移动","我爱你","москва","қаз","католик","онлайн","сайт","联通","срб","бг","бел","קום","时尚","微博","淡马锡","ファッション","орг","नेट","ストア","アマゾン","삼성","சிங்கப்பூர்","商标","商店","商城","дети","мкд","ею","ポイント","新闻","家電","كوم","中文网","中信","中国","中國","娱乐","谷歌","భారత్","ලංකා","電訊盈科","购物","クラウド","ભારત","通販","भारतम्","भारत","भारोत","网店","संगठन","餐厅","网络","ком","укр","香港","亚马逊","诺基亚","食品","飞利浦","台湾","台灣","手机","мон","الجزائر","عمان","ارامكو","ایران","العليان","اتصالات","امارات","بازار","موريتانيا","پاکستان","الاردن","بارت","بھارت","المغرب","ابوظبي","البحرين","السعودية","ڀارت","كاثوليك","سودان","همراه","عراق","مليسيا","澳門","닷컴","政府","شبكة","بيتك","عرب","გე","机构","组织机构","健康","ไทย","سورية","招聘","рус","рф","تونس","大拿","ລາວ","みんな","グーグル","ευ","ελ","世界","書籍","ഭാരതം","ਭਾਰਤ","网址","닷넷","コム","天主教","游戏","vermögensberater","vermögensberatung","企业","信息","嘉里大酒店","嘉里","مصر","قطر","广东","இலங்கை","இந்தியா","հայ","新加坡","فلسطين","政务","xxx","xyz","yachts","yahoo","yamaxun","yandex","ye","yodobashi","yoga","yokohama","you","youtube","yt","yun","za","zappos","zara","zero","zip","zm","zone","zuerich","zw"]')}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/90845-66ff7ff1194b1662.mjs.map